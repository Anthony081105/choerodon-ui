import React, { Component } from 'react';
import classNames from 'classnames';
import Dialog from './Modal';
import Button from '../button';
import { getConfirmLocale } from './locale';
import { getPrefixCls } from '../configure';
function isFixedWidth(width) {
    switch (typeof width) {
        case 'undefined':
            return false;
        case 'number':
            return true;
        case 'string':
            // width: 100%不是固定宽度
            return width.indexOf('%') === -1;
        default:
            return false;
    }
}
export default class Sidebar extends Component {
    constructor(props) {
        super(props);
        this.handleCancel = (e) => {
            const { onCancel } = this.props;
            if (onCancel) {
                onCancel(e);
            }
        };
        this.handleOk = (e) => {
            const { onOk } = this.props;
            if (onOk) {
                onOk(e);
            }
        };
        this.renderFooter = () => {
            const props = this.props;
            const { onCancel, onOk, okType, funcType, confirmLoading, alwaysCanCancel } = props;
            const prefixCls = this.getPrefixCls();
            const okCancel = 'okCancel' in props ? props.okCancel : true;
            const runtimeLocale = getConfirmLocale();
            const okText = props.okText || (okCancel ? runtimeLocale.okText : runtimeLocale.justOkText);
            const cancelText = props.cancelText || runtimeLocale.cancelText;
            const cancalBtn = okCancel ? (React.createElement(Button, { className: `${prefixCls}-btn-cancel`, disabled: !alwaysCanCancel && confirmLoading, funcType: funcType, onClick: onCancel }, cancelText)) : null;
            return (React.createElement("div", { className: `${prefixCls}-btns` },
                React.createElement(Button, { className: `${prefixCls}-btn-ok`, loading: confirmLoading, funcType: funcType, type: okType, onClick: onOk }, okText),
                cancalBtn));
        };
        this.handleStatus = () => {
            const { open } = this.state;
            this.setState({
                open: !open,
            });
        };
        this.state = {
            open: false,
        };
    }
    getPrefixCls() {
        const { prefixCls } = this.props;
        return getPrefixCls('modal', prefixCls);
    }
    render() {
        const { props } = this;
        const { footer = this.renderFooter(), width, className } = props;
        const prefixCls = this.getPrefixCls();
        const { open } = this.state;
        const fixedWidth = isFixedWidth(width);
        const classString = classNames(prefixCls, {
            [`${prefixCls}-sidebar`]: true,
            [`${prefixCls}-sidebar-open`]: open,
            [`${prefixCls}-sidebar-fixed-width`]: fixedWidth,
        }, className);
        return (React.createElement(Dialog, Object.assign({}, props, { prefixCls: prefixCls, animationEnd: this.handleStatus, className: classString, footer: footer, closable: 'closable' in props ? props.closable : false })));
    }
}
Sidebar.displayName = 'Sidebar';
Sidebar.defaultProps = {
    width: '100%',
    transitionName: 'slide-right',
    maskTransitionName: 'fade',
    confirmLoading: false,
    alwaysCanCancel: false,
    visible: false,
    okType: 'primary',
    funcType: 'raised',
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2h1aWh1YXdrL0RvY3VtZW50cy9vcHQvY2hvZXJvZG9uLXVpL2NvbXBvbmVudHMvbW9kYWwvU2lkZWJhci50c3giLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDekMsT0FBTyxVQUFVLE1BQU0sWUFBWSxDQUFDO0FBQ3BDLE9BQU8sTUFBMEIsTUFBTSxTQUFTLENBQUM7QUFDakQsT0FBTyxNQUFNLE1BQU0sV0FBVyxDQUFDO0FBQy9CLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUM1QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBVzVDLFNBQVMsWUFBWSxDQUFDLEtBQThCO0lBQ2xELFFBQVEsT0FBTyxLQUFLLEVBQUU7UUFDcEIsS0FBSyxXQUFXO1lBQ2QsT0FBTyxLQUFLLENBQUM7UUFDZixLQUFLLFFBQVE7WUFDWCxPQUFPLElBQUksQ0FBQztRQUNkLEtBQUssUUFBUTtZQUNYLG9CQUFvQjtZQUNwQixPQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDbkM7WUFDRSxPQUFPLEtBQUssQ0FBQztLQUNoQjtBQUNILENBQUM7QUFFRCxNQUFNLENBQUMsT0FBTyxPQUFPLE9BQVEsU0FBUSxTQUEyQjtJQWdCOUQsWUFBWSxLQUFVO1FBQ3BCLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQU1mLGlCQUFZLEdBQUcsQ0FBQyxDQUFNLEVBQUUsRUFBRTtZQUN4QixNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUNoQyxJQUFJLFFBQVEsRUFBRTtnQkFDWixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDYjtRQUNILENBQUMsQ0FBQztRQUVGLGFBQVEsR0FBRyxDQUFDLENBQU0sRUFBRSxFQUFFO1lBQ3BCLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMs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QUcsU0FBUyxzQkFBc0IsQ0FBQyxFQUFFLFVBQVU7U0FDakQsRUFDRCxTQUFTLENBQ1YsQ0FBQztRQUVGLE9BQU8sQ0FDTCxvQkFBQyxNQUFNLG9CQUNELEtBQUssSUFDVCxTQUFTLEVBQUUsU0FBUyxFQUNwQixZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFDL0IsU0FBUyxFQUFFLFdBQVcsRUFDdEIsTUFBTSxFQUFFLE1BQU0sRUFDZCxRQUFRLEVBQUUsVUFBVSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUN0RCxDQUNILENBQUM7SUFDSixDQUFDOztBQTdHTSxtQkFBVyxHQUFHLFNBQVMsQ0FBQztBQUV4QixvQkFBWSxHQUFHO0lBQ3BCLEtBQUssRUFBRSxNQUFNO0lBQ2IsY0FBYyxFQUFFLGFBQWE7SUFDN0Isa0JBQWtCLEVBQUUsTUFBTTtJQUMxQixjQUFjLEVBQUUsS0FBSztJQUNyQixlQUFlLEVBQUUsS0FBSztJQUN0QixPQUFPLEVBQUUsS0FBSztJQUNkLE1BQU0sRUFBRSxTQUFTO0lBQ2pCLFFBQVEsRUFBRSxRQUFRO0NBQ25CLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2h1aWh1YXdrL0RvY3VtZW50cy9vcHQvY2hvZXJvZG9uLXVpL2NvbXBvbmVudHMvbW9kYWwvU2lkZWJhci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IERpYWxvZywgeyBNb2RhbEZ1bmNQcm9wcyB9IGZyb20gJy4vTW9kYWwnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi9idXR0b24nO1xuaW1wb3J0IHsgZ2V0Q29uZmlybUxvY2FsZSB9IGZyb20gJy4vbG9jYWxlJztcbmltcG9ydCB7IGdldFByZWZpeENscyB9IGZyb20gJy4uL2NvbmZpZ3VyZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lkZWJhclN0YXRlIHtcbiAgb3BlbjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaWRlYmFyUHJvcHMgZXh0ZW5kcyBNb2RhbEZ1bmNQcm9wcyB7XG4gIGNsb3NlPzogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuICBhbHdheXNDYW5DYW5jZWw/OiBib29sZWFuO1xufVxuXG5mdW5jdGlvbiBpc0ZpeGVkV2lkdGgod2lkdGg6IE1vZGFsRnVuY1Byb3BzWyd3aWR0aCddKSB7XG4gIHN3aXRjaCAodHlwZW9mIHdpZHRoKSB7XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIC8vIHdpZHRoOiAxMDAl5LiN5piv5Zu65a6a5a695bqmXG4gICAgICByZXR1cm4gd2lkdGguaW5kZXhPZignJScpID09PSAtMTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZGViYXIgZXh0ZW5kcyBDb21wb25lbnQ8U2lkZWJhclByb3BzLCB7fT4ge1xuICBzdGF0aWMgZGlzcGxheU5hbWUgPSAnU2lkZWJhcic7XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIHRyYW5zaXRpb25OYW1lOiAnc2xpZGUtcmlnaHQnLFxuICAgIG1hc2tUcmFuc2l0aW9uTmFtZTogJ2ZhZGUnLFxuICAgIGNvbmZpcm1Mb2FkaW5nOiBmYWxzZSxcbiAgICBhbHdheXNDYW5DYW5jZWw6IGZhbHNlLFxuICAgIHZpc2libGU6IGZhbHNlLFxuICAgIG9rVHlwZTogJ3ByaW1hcnknLFxuICAgIGZ1bmNUeXBlOiAncmFpc2VkJyxcbiAgfTtcblxuICBzdGF0ZTogU2lkZWJhclN0YXRlO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBhbnkpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW46IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBoYW5kbGVDYW5jZWwgPSAoZTogYW55KSA9PiB7XG4gICAgY29uc3QgeyBvbkNhbmNlbCB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAob25DYW5jZWwpIHtcbiAgICAgIG9uQ2FuY2VsKGUpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVPayA9IChlOiBhbnkpID0+IHtcbiAgICBjb25zdCB7IG9uT2sgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKG9uT2spIHtcbiAgICAgIG9uT2soZSk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlckZvb3RlciA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBvbkNhbmNlbCwgb25Paywgb2tUeXBlLCBmdW5jVHlwZSwgY29uZmlybUxvYWRpbmcsIGFsd2F5c0NhbkNhbmNlbCB9ID0gcHJvcHM7XG4gICAgY29uc3QgcHJlZml4Q2xzID0gdGhpcy5nZXRQcmVmaXhDbHMoKTtcbiAgICBjb25zdCBva0NhbmNlbCA9ICdva0NhbmNlbCcgaW4gcHJvcHMgPyBwcm9wcy5va0NhbmNlbCEgOiB0cnVlO1xuICAgIGNvbnN0IHJ1bnRpbWVMb2NhbGUgPSBnZXRDb25maXJtTG9jYWxlKCk7XG4gICAgY29uc3Qgb2tUZXh0ID0gcHJvcHMub2tUZXh0IHx8IChva0NhbmNlbCA/IHJ1bnRpbWVMb2NhbGUub2tUZXh0IDogcnVudGltZUxvY2FsZS5qdXN0T2tUZXh0KTtcbiAgICBjb25zdCBjYW5jZWxUZXh0ID0gcHJvcHMuY2FuY2VsVGV4dCB8fCBydW50aW1lTG9jYWxlLmNhbmNlbFRleHQ7XG5cbiAgICBjb25zdCBjYW5jYWxCdG4gPSBva0NhbmNlbCA/IChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWJ0bi1jYW5jZWxgfVxuICAgICAgICBkaXNhYmxlZD17IWFsd2F5c0NhbkNhbmNlbCAmJiBjb25maXJtTG9hZGluZ31cbiAgICAgICAgZnVuY1R5cGU9e2Z1bmNUeXBlfVxuICAgICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cbiAgICAgID5cbiAgICAgICAge2NhbmNlbFRleHR9XG4gICAgICA8L0J1dHRvbj5cbiAgICApIDogbnVsbDtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tYnRuc2B9PlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWJ0bi1va2B9XG4gICAgICAgICAgbG9hZGluZz17Y29uZmlybUxvYWRpbmd9XG4gICAgICAgICAgZnVuY1R5cGU9e2Z1bmNUeXBlfVxuICAgICAgICAgIHR5cGU9e29rVHlwZX1cbiAgICAgICAgICBvbkNsaWNrPXtvbk9rfVxuICAgICAgICA+XG4gICAgICAgICAge29rVGV4dH1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIHtjYW5jYWxCdG59XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIGhhbmRsZVN0YXR1cyA9ICgpID0+IHtcbiAgICBjb25zdCB7IG9wZW4gfSA9IHRoaXMuc3RhdGU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvcGVuOiAhb3BlbixcbiAgICB9KTtcbiAgfTtcblxuICBnZXRQcmVmaXhDbHMoKSB7XG4gICAgY29uc3QgeyBwcmVmaXhDbHMgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIGdldFByZWZpeENscygnbW9kYWwnLCBwcmVmaXhDbHMpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBmb290ZXIgPSB0aGlzLnJlbmRlckZvb3RlcigpLCB3aWR0aCwgY2xhc3NOYW1lIH0gPSBwcm9wcztcbiAgICBjb25zdCBwcmVmaXhDbHMgPSB0aGlzLmdldFByZWZpeENscygpO1xuICAgIGNvbnN0IHsgb3BlbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBmaXhlZFdpZHRoID0gaXNGaXhlZFdpZHRoKHdpZHRoKTtcbiAgICBjb25zdCBjbGFzc1N0cmluZyA9IGNsYXNzTmFtZXMoXG4gICAgICBwcmVmaXhDbHMsXG4gICAgICB7XG4gICAgICAgIFtgJHtwcmVmaXhDbHN9LXNpZGViYXJgXTogdHJ1ZSxcbiAgICAgICAgW2Ake3ByZWZpeENsc30tc2lkZWJhci1vcGVuYF06IG9wZW4sXG4gICAgICAgIFtgJHtwcmVmaXhDbHN9LXNpZGViYXItZml4ZWQtd2lkdGhgXTogZml4ZWRXaWR0aCxcbiAgICAgIH0sXG4gICAgICBjbGFzc05hbWUsXG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8RGlhbG9nXG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgcHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgIGFuaW1hdGlvbkVuZD17dGhpcy5oYW5kbGVTdGF0dXN9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NTdHJpbmd9XG4gICAgICAgIGZvb3Rlcj17Zm9vdGVyfVxuICAgICAgICBjbG9zYWJsZT17J2Nsb3NhYmxlJyBpbiBwcm9wcyA/IHByb3BzLmNsb3NhYmxlIDogZmFsc2V9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==