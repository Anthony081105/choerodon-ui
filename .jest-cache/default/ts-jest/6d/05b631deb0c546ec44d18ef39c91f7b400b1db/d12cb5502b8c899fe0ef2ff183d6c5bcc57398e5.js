import { __decorate } from "tslib";
import React, { Component } from 'react';
import PropTypes from 'prop-types';
import { action } from 'mobx';
import KeyCode from 'choerodon-ui/lib/_util/KeyCode';
import { getConfig } from 'choerodon-ui/lib/configure';
import { pick } from 'lodash';
import Table from '../table/Table';
import TableProfessionalBar from '../table/query-bar/TableProfessionalBar';
export default class LovView extends Component {
    constructor() {
        super(...arguments);
        /* istanbul ignore next */
        this.handleKeyDown = e => {
            if (e.keyCode === KeyCode.ENTER) {
                const { onEnterDown } = this.props;
                onEnterDown();
            }
        };
        this.handleRow = () => {
            const { onDoubleClick } = this.props;
            return {
                onDoubleClick,
            };
        };
    }
    componentWillMount() {
        const { dataSet, dataSet: { selection }, multiple, } = this.props;
        this.selection = selection;
        dataSet.selection = multiple ? "multiple" /* multiple */ : "single" /* single */;
    }
    componentWillUnmount() {
        const { dataSet } = this.props;
        dataSet.selection = this.selection;
    }
    /* istanbul ignore next */
    getColumns() {
        const { config: { lovItems }, } = this.props;
        return lovItems
            ? lovItems
                .filter(({ gridField }) => gridField === 'Y')
                .sort(({ gridFieldSequence: seq1 }, { gridFieldSequence: seq2 }) => seq1 - seq2)
                .map(({ display, gridFieldName, gridFieldWidth, gridFieldAlign }) => ({
                key: gridFieldName,
                header: display,
                name: gridFieldName,
                width: gridFieldWidth,
                align: gridFieldAlign,
            }))
            : undefined;
    }
    render() {
        const { dataSet, config: { height, treeFlag, queryColumns, queryBar }, multiple, tableProps, } = this.props;
        const lovTableProps = {
            ...getConfig('lovTableProps'),
            ...tableProps,
            autoFocus: true,
            mode: treeFlag === 'Y' ? "tree" /* tree */ : "list" /* list */,
            onKeyDown: this.handleKeyDown,
            dataSet,
            columns: this.getColumns(),
            queryFieldsLimit: queryColumns,
            queryBar,
        };
        if (multiple) {
            lovTableProps.selectionMode = "rowbox" /* rowbox */;
        }
        else {
            lovTableProps.selectionMode = tableProps?.selectionMode ? tableProps.selectionMode : "none" /* none */;
            lovTableProps.onRow = this.handleRow;
        }
        if (height) {
            lovTableProps.style = { ...lovTableProps.style, height };
        }
        const isProfessionalBar = getConfig('queryBar') === "professionalBar" /* professionalBar */;
        if (!lovTableProps.queryBar && isProfessionalBar) {
            lovTableProps.queryBar = (props) => React.createElement(TableProfessionalBar, Object.assign({}, props, { queryBarProps: { labelWidth: 80 } }));
        }
        // 优化优先级 让 部分tableProps属性 的优先级大于dataSet的设置
        // 目前需要处理 selectionMode
        Object.assign(lovTableProps, pick({ ...getConfig('lovTableProps'), ...tableProps }, [
            'selectionMode',
        ]));
        return React.createElement(Table, Object.assign({}, lovTableProps));
    }
}
LovView.propTypes = {
    dataSet: PropTypes.object.isRequired,
    config: PropTypes.object.isRequired,
    tableProps: PropTypes.object,
    onDoubleClick: PropTypes.func.isRequired,
    onEnterDown: PropTypes.func.isRequired,
};
__decorate([
    action
], LovView.prototype, "componentWillMount", null);
__decorate([
    action
], LovView.prototype, "componentWillUnmount", null);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2h1aWh1YXdrL0RvY3VtZW50cy9vcHQvY2hvZXJvZG9uLXVpL2NvbXBvbmVudHMtcHJvL2xvdi9Mb3ZWaWV3LnRzeCIsIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDekMsT0FBTyxTQUFTLE1BQU0sWUFBWSxDQUFDO0FBQ25DLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDOUIsT0FBTyxPQUFPLE1BQU0sZ0NBQWdDLENBQUM7QUFDckQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFOUIsT0FBTyxLQUFxQixNQUFNLGdCQUFnQixDQUFDO0FBQ25ELE9BQU8sb0JBQW9CLE1BQU0seUNBQXlDLENBQUM7QUFnQjNFLE1BQU0sQ0FBQyxPQUFPLE9BQU8sT0FBUSxTQUFRLFNBQXVCO0lBQTVEOztRQStDRSwwQkFBMEI7UUFDMUIsa0JBQWEsR0FBRyxDQUFDLENBQUMsRUFBRTtZQUNsQixJQUFJLENBQUMsQ0FBQyxPQUFPLEtBQUssT0FBTyxDQUFDLEtBQUssRUFBRTtnQkFDL0IsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQ25DLFdBQVcsRUFBRSxDQUFDO2FBQ2Y7UUFDSCxDQUFDLENBQUM7UUFFRixjQUFTLEdBQUcsR0FBRyxFQUFFO1lBQ2YsTUFBTSxFQUFFLGFBQWEsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDckMsT0FBTztnQkFDTCxhQUFhO2FBQ2QsQ0FBQztRQUNKLENBQUMsQ0FBQztJQTRDSixDQUFDO0lBNUZDLGtCQUFrQjtRQUNoQixNQUFNLEVBQ0osT0FBTyxFQUNQLE9BQU8sRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUN0QixRQUFRLEdBQ1QsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ2YsSUFBSSxDQUFDLFNB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QUcsU0FBUyxDQUFDLGVBQWUsQ0FBQyxFQUFFLEdBQUcsVUFBVSxFQUFFLEVBQUU7WUFDbEYsZUFBZTtTQUNoQixDQUFDLENBQUMsQ0FBQztRQUVKLE9BQU8sb0JBQUMsS0FBSyxvQkFBSyxhQUFhLEVBQUksQ0FBQztJQUN0QyxDQUFDOztBQXRHTSxpQkFBUyxHQUFHO0lBQ2pCLE9BQU8sRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7SUFDcEMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtJQUNuQyxVQUFVLEVBQUUsU0FBUyxDQUFDLE1BQU07SUFDNUIsYUFBYSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVTtJQUN4QyxXQUFXLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVO0NBQ3ZDLENBQUM7QUFLRjtJQURDLE1BQU07aURBU047QUFHRDtJQURDLE1BQU07bURBSU4iLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2h1aWh1YXdrL0RvY3VtZW50cy9vcHQvY2hvZXJvZG9uLXVpL2NvbXBvbmVudHMtcHJvL2xvdi9Mb3ZWaWV3LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGFjdGlvbiB9IGZyb20gJ21vYngnO1xuaW1wb3J0IEtleUNvZGUgZnJvbSAnY2hvZXJvZG9uLXVpL2xpYi9fdXRpbC9LZXlDb2RlJztcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJ2Nob2Vyb2Rvbi11aS9saWIvY29uZmlndXJlJztcbmltcG9ydCB7IHBpY2sgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IERhdGFTZXQgZnJvbSAnLi4vZGF0YS1zZXQvRGF0YVNldCc7XG5pbXBvcnQgVGFibGUsIHsgVGFibGVQcm9wcyB9IGZyb20gJy4uL3RhYmxlL1RhYmxlJztcbmltcG9ydCBUYWJsZVByb2Zlc3Npb25hbEJhciBmcm9tICcuLi90YWJsZS9xdWVyeS1iYXIvVGFibGVQcm9mZXNzaW9uYWxCYXInO1xuaW1wb3J0IHsgU2VsZWN0aW9uTW9kZSwgVGFibGVNb2RlLCBUYWJsZVF1ZXJ5QmFyVHlwZSB9IGZyb20gJy4uL3RhYmxlL2VudW0nO1xuaW1wb3J0IHsgRGF0YVNldFNlbGVjdGlvbiB9IGZyb20gJy4uL2RhdGEtc2V0L2VudW0nO1xuaW1wb3J0IHsgTG92Q29uZmlnIH0gZnJvbSAnLi9Mb3YnO1xuaW1wb3J0IHsgQ29sdW1uUHJvcHMgfSBmcm9tICcuLi90YWJsZS9Db2x1bW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvdlZpZXdQcm9wcyB7XG4gIGRhdGFTZXQ6IERhdGFTZXQ7XG4gIGNvbmZpZzogTG92Q29uZmlnO1xuICB0YWJsZVByb3BzPzogVGFibGVQcm9wcztcbiAgbXVsdGlwbGU6IGJvb2xlYW47XG4gIHZhbHVlczogYW55W107XG4gIG9uRG91YmxlQ2xpY2s6ICgpID0+IHZvaWQ7XG4gIG9uRW50ZXJEb3duOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb3ZWaWV3IGV4dGVuZHMgQ29tcG9uZW50PExvdlZpZXdQcm9wcz4ge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGRhdGFTZXQ6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjb25maWc6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICB0YWJsZVByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIG9uRG91YmxlQ2xpY2s6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25FbnRlckRvd246IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIH07XG5cbiAgc2VsZWN0aW9uOiBEYXRhU2V0U2VsZWN0aW9uIHwgZmFsc2U7XG5cbiAgQGFjdGlvblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YVNldCxcbiAgICAgIGRhdGFTZXQ6IHsgc2VsZWN0aW9uIH0sXG4gICAgICBtdWx0aXBsZSxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgICBkYXRhU2V0LnNlbGVjdGlvbiA9IG11bHRpcGxlID8gRGF0YVNldFNlbGVjdGlvbi5tdWx0aXBsZSA6IERhdGFTZXRTZWxlY3Rpb24uc2luZ2xlO1xuICB9XG5cbiAgQGFjdGlvblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBjb25zdCB7IGRhdGFTZXQgfSA9IHRoaXMucHJvcHM7XG4gICAgZGF0YVNldC5zZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbjtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGdldENvbHVtbnMoKTogQ29sdW1uUHJvcHNbXSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3Qge1xuICAgICAgY29uZmlnOiB7IGxvdkl0ZW1zIH0sXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIGxvdkl0ZW1zXG4gICAgICA/IGxvdkl0ZW1zXG4gICAgICAgIC5maWx0ZXIoKHsgZ3JpZEZpZWxkIH0pID0+IGdyaWRGaWVsZCA9PT0gJ1knKVxuICAgICAgICAuc29ydCgoeyBncmlkRmllbGRTZXF1ZW5jZTogc2VxMSB9LCB7IGdyaWRGaWVsZFNlcXVlbmNlOiBzZXEyIH0pID0+IHNlcTEgLSBzZXEyKVxuICAgICAgICAubWFwPENvbHVtblByb3BzPigoeyBkaXNwbGF5LCBncmlkRmllbGROYW1lLCBncmlkRmllbGRXaWR0aCwgZ3JpZEZpZWxkQWxpZ24gfSkgPT4gKHtcbiAgICAgICAgICBrZXk6IGdyaWRGaWVsZE5hbWUsXG4gICAgICAgICAgaGVhZGVyOiBkaXNwbGF5LFxuICAgICAgICAgIG5hbWU6IGdyaWRGaWVsZE5hbWUsXG4gICAgICAgICAgd2lkdGg6IGdyaWRGaWVsZFdpZHRoLFxuICAgICAgICAgIGFsaWduOiBncmlkRmllbGRBbGlnbixcbiAgICAgICAgfSkpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGhhbmRsZUtleURvd24gPSBlID0+IHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSBLZXlDb2RlLkVOVEVSKSB7XG4gICAgICBjb25zdCB7IG9uRW50ZXJEb3duIH0gPSB0aGlzLnByb3BzO1xuICAgICAgb25FbnRlckRvd24oKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlUm93ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgb25Eb3VibGVDbGljayB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4ge1xuICAgICAgb25Eb3VibGVDbGljayxcbiAgICB9O1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhU2V0LFxuICAgICAgY29uZmlnOiB7IGhlaWdodCwgdHJlZUZsYWcsIHF1ZXJ5Q29sdW1ucywgcXVlcnlCYXIgfSxcbiAgICAgIG11bHRpcGxlLFxuICAgICAgdGFibGVQcm9wcyxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBsb3ZUYWJsZVByb3BzOiBUYWJsZVByb3BzID0ge1xuICAgICAgLi4uZ2V0Q29uZmlnKCdsb3ZUYWJsZVByb3BzJyksXG4gICAgICAuLi50YWJsZVByb3BzLFxuICAgICAgYXV0b0ZvY3VzOiB0cnVlLFxuICAgICAgbW9kZTogdHJlZUZsYWcgPT09ICdZJyA/IFRhYmxlTW9kZS50cmVlIDogVGFibGVNb2RlLmxpc3QsXG4gICAgICBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93bixcbiAgICAgIGRhdGFTZXQsXG4gICAgICBjb2x1bW5zOiB0aGlzLmdldENvbHVtbnMoKSxcbiAgICAgIHF1ZXJ5RmllbGRzTGltaXQ6IHF1ZXJ5Q29sdW1ucyxcbiAgICAgIHF1ZXJ5QmFyLFxuICAgIH07XG4gICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICBsb3ZUYWJsZVByb3BzLnNlbGVjdGlvbk1vZGUgPSBTZWxlY3Rpb25Nb2RlLnJvd2JveDtcbiAgICB9IGVsc2Uge1xuICAgICAgbG92VGFibGVQcm9wcy5zZWxlY3Rpb25Nb2RlID0gdGFibGVQcm9wcz8uc2VsZWN0aW9uTW9kZSA/IHRhYmxlUHJvcHMuc2VsZWN0aW9uTW9kZSA6IFNlbGVjdGlvbk1vZGUubm9uZTtcbiAgICAgIGxvdlRhYmxlUHJvcHMub25Sb3cgPSB0aGlzLmhhbmRsZVJvdztcbiAgICB9XG5cbiAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICBsb3ZUYWJsZVByb3BzLnN0eWxlID0geyAuLi5sb3ZUYWJsZVByb3BzLnN0eWxlLCBoZWlnaHQgfTtcbiAgICB9XG5cbiAgICBjb25zdCBpc1Byb2Zlc3Npb25hbEJhciA9IGdldENvbmZpZygncXVlcnlCYXInKSA9PT0gVGFibGVRdWVyeUJhclR5cGUucHJvZmVzc2lvbmFsQmFyO1xuICAgIGlmICghbG92VGFibGVQcm9wcy5xdWVyeUJhciAmJiBpc1Byb2Zlc3Npb25hbEJhcikge1xuICAgICAgbG92VGFibGVQcm9wcy5xdWVyeUJhciA9IChwcm9wcykgPT4gPFRhYmxlUHJvZmVzc2lvbmFsQmFyIHsuLi5wcm9wc30gcXVlcnlCYXJQcm9wcz17eyBsYWJlbFdpZHRoOiA4MCB9fSAvPjtcbiAgICB9XG5cbiAgICAvLyDkvJjljJbkvJjlhYjnuqcg6K6pIOmDqOWIhnRhYmxlUHJvcHPlsZ7mgKcg55qE5LyY5YWI57qn5aSn5LqOZGF0YVNldOeahOiuvue9rlxuICAgIC8vIOebruWJjemcgOimgeWkhOeQhiBzZWxlY3Rpb25Nb2RlXG4gICAgT2JqZWN0LmFzc2lnbihsb3ZUYWJsZVByb3BzLCBwaWNrKHsgLi4uZ2V0Q29uZmlnKCdsb3ZUYWJsZVByb3BzJyksIC4uLnRhYmxlUHJvcHMgfSwgW1xuICAgICAgJ3NlbGVjdGlvbk1vZGUnLFxuICAgIF0pKTtcblxuICAgIHJldHVybiA8VGFibGUgey4uLmxvdlRhYmxlUHJvcHN9IC8+O1xuICB9XG59XG4iXSwidmVyc2lvbiI6M30=