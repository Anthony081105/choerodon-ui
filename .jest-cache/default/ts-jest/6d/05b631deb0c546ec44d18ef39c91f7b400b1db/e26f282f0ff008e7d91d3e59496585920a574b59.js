let scrollbarWidth;
let rootFontSize = 100;
function getRootFontSize() {
    if (typeof window !== 'undefined' && document.defaultView) {
        const { fontSize } = document.defaultView.getComputedStyle(document.documentElement);
        if (fontSize !== null) {
            return parseFloat(fontSize);
        }
    }
    return 100;
}
export default function measureScrollbar(direction = 'vertical') {
    if (typeof window === 'undefined') {
        return 0;
    }
    const fontSize = getRootFontSize();
    if (scrollbarWidth && fontSize === rootFontSize) {
        return scrollbarWidth;
    }
    rootFontSize = fontSize;
    const scrollDiv = document.createElement('div');
    scrollDiv.style.cssText = 'position: absolute;width: 50px;height: 50px;top: -9999px; overflow: scroll';
    document.body.appendChild(scrollDiv);
    let size = 0;
    if (direction === 'vertical') {
        size = scrollDiv.offsetWidth - scrollDiv.clientWidth;
    }
    else if (direction === 'horizontal') {
        size = scrollDiv.offsetHeight - scrollDiv.clientHeight;
    }
    document.body.removeChild(scrollDiv);
    scrollbarWidth = size / fontSize * 100;
    return scrollbarWidth;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2h1aWh1YXdrL0RvY3VtZW50cy9vcHQvY2hvZXJvZG9uLXVpL2NvbXBvbmVudHMvX3V0aWwvbWVhc3VyZVNjcm9sbGJhci50c3giLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxjQUFzQixDQUFDO0FBQzNCLElBQUksWUFBWSxHQUFXLEdBQUcsQ0FBQztBQUUvQixTQUFTLGVBQWU7SUFDdEIsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLElBQUksUUFBUSxDQUFDLFdBQVcsRUFBRTtRQUN6RCxNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsUUFBUSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDckYsSUFBSSxRQUFRLEtBQUssSUFBSSxFQUFFO1lBQ3JCLE9BQU8sVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzdCO0tBQ0Y7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRCxNQUFNLENBQUMsT0FBTyxVQUFVLGdCQUFnQixDQUFDLFNBQVMsR0FBRyxVQUFVO0lBQzdELElBQUksT0FBTyxNQUFNLEtBQUssV0FBVyxFQUFFO1FBQ2pDLE9BQU8sQ0FBQyxDQUFDO0tBQ1Y7SUFDRCxNQUFNLFFBQVEsR0FBRyxlQUFlLEVBQUUsQ0FBQztJQUNuQyxJQUFJLGNBQWMsSUFBSSxRQUFRLEtBQUssWUFBWSxFQUFFO1FBQy9DLE9BQU8sY0FBYyxDQUFDO0tBQ3ZCO0lBQ0QsWUFBWSxHQUFHLFFBQVEsQ0FBQztJQUN4QixNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hELFNBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLDRFQUE0RSxDQUFDO0lBQ3ZHLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JDLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNiLElBQUksU0FBUyxLQUFLLFVBQVUsRUFBRTtRQUM1QixJQUFJLEdBQUcsU0FBUyxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUMsV0FBVyxDQUFDO0tBQ3REO1NBQU0sSUFBSSxTQUFTLEtBQUssWUFBWSxFQUFFO1FBQ3JDLElBQUksR0FBRyxTQUFTLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQyxZQUFZLENBQUM7S0FDeEQ7SUFDRCxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNyQyxjQUFjLEdBQUcsSUFBSSxHQUFHLFFBQVEsR0FBRyxHQUFHLENBQUM7SUFDdkMsT0FBTyxjQUFjLENBQUM7QUFDeEIsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvaHVpaHVhd2svRG9jdW1lbnRzL29wdC9jaG9lcm9kb24tdWkvY29tcG9uZW50cy9fdXRpbC9tZWFzdXJlU2Nyb2xsYmFyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgc2Nyb2xsYmFyV2lkdGg6IG51bWJlcjtcbmxldCByb290Rm9udFNpemU6IG51bWJlciA9IDEwMDtcblxuZnVuY3Rpb24gZ2V0Um9vdEZvbnRTaXplKCk6IG51bWJlciB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kZWZhdWx0Vmlldykge1xuICAgIGNvbnN0IHsgZm9udFNpemUgfSA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICBpZiAoZm9udFNpemUgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KGZvbnRTaXplKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDEwMDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVhc3VyZVNjcm9sbGJhcihkaXJlY3Rpb24gPSAndmVydGljYWwnKTogbnVtYmVyIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgZm9udFNpemUgPSBnZXRSb290Rm9udFNpemUoKTtcbiAgaWYgKHNjcm9sbGJhcldpZHRoICYmIGZvbnRTaXplID09PSByb290Rm9udFNpemUpIHtcbiAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG4gIH1cbiAgcm9vdEZvbnRTaXplID0gZm9udFNpemU7XG4gIGNvbnN0IHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzY3JvbGxEaXYuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogYWJzb2x1dGU7d2lkdGg6IDUwcHg7aGVpZ2h0OiA1MHB4O3RvcDogLTk5OTlweDsgb3ZlcmZsb3c6IHNjcm9sbCc7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgbGV0IHNpemUgPSAwO1xuICBpZiAoZGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgc2l6ZSA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgIHNpemUgPSBzY3JvbGxEaXYub2Zmc2V0SGVpZ2h0IC0gc2Nyb2xsRGl2LmNsaWVudEhlaWdodDtcbiAgfVxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG4gIHNjcm9sbGJhcldpZHRoID0gc2l6ZSAvIGZvbnRTaXplICogMTAwO1xuICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG59XG4iXSwidmVyc2lvbiI6M30=