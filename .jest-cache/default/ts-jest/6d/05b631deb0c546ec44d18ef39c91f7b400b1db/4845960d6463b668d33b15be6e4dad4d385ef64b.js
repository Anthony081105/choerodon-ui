const rcAutoAdjustOverflow = {
    adjustX: 1,
    adjustY: 1,
};
const targetOffset = [0, 0];
const OFFSET_UNIT = 10;
export const rcPlacements = {
    left: {
        points: ['cr', 'cl'],
        overflow: rcAutoAdjustOverflow,
        offset: [-OFFSET_UNIT, 0],
        targetOffset,
    },
    right: {
        points: ['cl', 'cr'],
        overflow: rcAutoAdjustOverflow,
        offset: [OFFSET_UNIT, 0],
        targetOffset,
    },
    top: {
        points: ['bc', 'tc'],
        overflow: rcAutoAdjustOverflow,
        offset: [0, -OFFSET_UNIT],
        targetOffset,
    },
    bottom: {
        points: ['tc', 'bc'],
        overflow: rcAutoAdjustOverflow,
        offset: [0, OFFSET_UNIT],
        targetOffset,
    },
    topLeft: {
        points: ['bl', 'tl'],
        overflow: rcAutoAdjustOverflow,
        offset: [0, -OFFSET_UNIT],
        targetOffset,
    },
    leftTop: {
        points: ['tr', 'tl'],
        overflow: rcAutoAdjustOverflow,
        offset: [-OFFSET_UNIT, 0],
        targetOffset,
    },
    topRight: {
        points: ['br', 'tr'],
        overflow: rcAutoAdjustOverflow,
        offset: [0, -OFFSET_UNIT],
        targetOffset,
    },
    rightTop: {
        points: ['tl', 'tr'],
        overflow: rcAutoAdjustOverflow,
        offset: [OFFSET_UNIT, 0],
        targetOffset,
    },
    bottomRight: {
        points: ['tr', 'br'],
        overflow: rcAutoAdjustOverflow,
        offset: [0, OFFSET_UNIT],
        targetOffset,
    },
    rightBottom: {
        points: ['bl', 'br'],
        overflow: rcAutoAdjustOverflow,
        offset: [OFFSET_UNIT, 0],
        targetOffset,
    },
    bottomLeft: {
        points: ['tl', 'bl'],
        overflow: rcAutoAdjustOverflow,
        offset: [0, OFFSET_UNIT],
        targetOffset,
    },
    leftBottom: {
        points: ['br', 'bl'],
        overflow: rcAutoAdjustOverflow,
        offset: [-OFFSET_UNIT, 0],
        targetOffset,
    },
};
const autoAdjustOverflowEnabled = {
    adjustX: 1,
    adjustY: 1,
};
const autoAdjustOverflowDisabled = {
    adjustX: 0,
    adjustY: 0,
};
export function getOverflowOptions(autoAdjustOverflow) {
    if (typeof autoAdjustOverflow === 'boolean') {
        return autoAdjustOverflow ? autoAdjustOverflowEnabled : autoAdjustOverflowDisabled;
    }
    return {
        ...autoAdjustOverflowDisabled,
        ...autoAdjustOverflow,
    };
}
export default function getPlacements(config = {}) {
    const { arrowWidth = 5, horizontalArrowShift = 16, verticalArrowShift = 12, autoAdjustOverflow = true } = config;
    const placementMap = {
        left: {
            points: ['cr', 'cl'],
            offset: [-4, 0],
        },
        right: {
            points: ['cl', 'cr'],
            offset: [4, 0],
        },
        top: {
            points: ['bc', 'tc'],
            offset: [0, -4],
        },
        bottom: {
            points: ['tc', 'bc'],
            offset: [0, 4],
        },
        topLeft: {
            points: ['bl', 'tc'],
            offset: [-(horizontalArrowShift + arrowWidth), -4],
        },
        leftTop: {
            points: ['tr', 'cl'],
            offset: [-4, -(verticalArrowShift + arrowWidth)],
        },
        topRight: {
            points: ['br', 'tc'],
            offset: [horizontalArrowShift + arrowWidth, -4],
        },
        rightTop: {
            points: ['tl', 'cr'],
            offset: [4, -(verticalArrowShift + arrowWidth)],
        },
        bottomRight: {
            points: ['tr', 'bc'],
            offset: [horizontalArrowShift + arrowWidth, 4],
        },
        rightBottom: {
            points: ['bl', 'cr'],
            offset: [4, verticalArrowShift + arrowWidth],
        },
        bottomLeft: {
            points: ['tl', 'bc'],
            offset: [-(horizontalArrowShift + arrowWidth), 4],
        },
        leftBottom: {
            points: ['br', 'cl'],
            offset: [-4, verticalArrowShift + arrowWidth],
        },
    };
    Object.keys(placementMap).forEach(key => {
        placementMap[key] = config.arrowPointAtCenter ? {
            ...placementMap[key],
            overflow: getOverflowOptions(autoAdjustOverflow),
            targetOffset,
        } : {
            ...rcPlacements[key],
            overflow: getOverflowOptions(autoAdjustOverflow),
        };
    });
    return placementMap;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2h1aWh1YXdrL0RvY3VtZW50cy9vcHQvY2hvZXJvZG9uLXVpL2NvbXBvbmVudHMtcHJvL3Rvb2x0aXAvcGxhY2VtZW50cy50c3giLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxvQkFBb0IsR0FBRztJQUMzQixPQUFPLEVBQUUsQ0FBQztJQUNWLE9BQU8sRUFBRSxDQUFDO0NBQ1gsQ0FBQztBQUNGLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzVCLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUV2QixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUc7SUFDMUIsSUFBSSxFQUFFO1FBQ0osTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQztRQUNwQixRQUFRLEVBQUUsb0JBQW9CO1FBQzlCLE1BQU0sRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUN6QixZQUFZO0tBQ2I7SUFDRCxLQUFLLEVBQUU7UUFDTCxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO1FBQ3BCLFFBQVEsRUFBRSxvQkFBb0I7UUFDOUIsTUFBTSxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUN4QixZQUFZO0tBQ2I7SUFDRCxHQUFHLEVBQUU7UUFDSCxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO1FBQ3BCLFFBQVEsRUFBRSxvQkFBb0I7UUFDOUIsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO1FBQ3pCLFlBQVk7S0FDYjtJQUNELE1BQU0sRUFBRTtRQUNOLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUM7UUFDcEIsUUFBUSxFQUFFLG9CQUFvQjtRQUM5QixNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDO1FBQ3hCLFlBQVk7S0FDYjtJQUNELE9BQU8sRUFBRTtRQUNQLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUM7UUFDcEIs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QU0sRUFBRSxDQUFDLENBQUMsRUFBRSxrQkFBa0IsR0FBRyxVQUFVLENBQUM7U0FDN0M7UUFDRCxVQUFVLEVBQUU7WUFDVixNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO1lBQ3BCLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxvQkFBb0IsR0FBRyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDbEQ7UUFDRCxVQUFVLEVBQUU7WUFDVixNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO1lBQ3BCLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLGtCQUFrQixHQUFHLFVBQVUsQ0FBQztTQUM5QztLQUNGLENBQUM7SUFDRixNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUN0QyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztZQUM5QyxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUM7WUFDcEIsUUFBUSxFQUFFLGtCQUFrQixDQUFDLGtCQUFrQixDQUFDO1lBQ2hELFlBQVk7U0FDYixDQUFDLENBQUMsQ0FBQztZQUNGLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQztZQUNwQixRQUFRLEVBQUUsa0JBQWtCLENBQUMsa0JBQWtCLENBQUM7U0FDakQsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxZQUFZLENBQUM7QUFDdEIsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvaHVpaHVhd2svRG9jdW1lbnRzL29wdC9jaG9lcm9kb24tdWkvY29tcG9uZW50cy1wcm8vdG9vbHRpcC9wbGFjZW1lbnRzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByY0F1dG9BZGp1c3RPdmVyZmxvdyA9IHtcbiAgYWRqdXN0WDogMSxcbiAgYWRqdXN0WTogMSxcbn07XG5jb25zdCB0YXJnZXRPZmZzZXQgPSBbMCwgMF07XG5jb25zdCBPRkZTRVRfVU5JVCA9IDEwO1xuXG5leHBvcnQgY29uc3QgcmNQbGFjZW1lbnRzID0ge1xuICBsZWZ0OiB7XG4gICAgcG9pbnRzOiBbJ2NyJywgJ2NsJ10sXG4gICAgb3ZlcmZsb3c6IHJjQXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWy1PRkZTRVRfVU5JVCwgMF0sXG4gICAgdGFyZ2V0T2Zmc2V0LFxuICB9LFxuICByaWdodDoge1xuICAgIHBvaW50czogWydjbCcsICdjciddLFxuICAgIG92ZXJmbG93OiByY0F1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFtPRkZTRVRfVU5JVCwgMF0sXG4gICAgdGFyZ2V0T2Zmc2V0LFxuICB9LFxuICB0b3A6IHtcbiAgICBwb2ludHM6IFsnYmMnLCAndGMnXSxcbiAgICBvdmVyZmxvdzogcmNBdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgLU9GRlNFVF9VTklUXSxcbiAgICB0YXJnZXRPZmZzZXQsXG4gIH0sXG4gIGJvdHRvbToge1xuICAgIHBvaW50czogWyd0YycsICdiYyddLFxuICAgIG92ZXJmbG93OiByY0F1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCBPRkZTRVRfVU5JVF0sXG4gICAgdGFyZ2V0T2Zmc2V0LFxuICB9LFxuICB0b3BMZWZ0OiB7XG4gICAgcG9pbnRzOiBbJ2JsJywgJ3RsJ10sXG4gICAgb3ZlcmZsb3c6IHJjQXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWzAsIC1PRkZTRVRfVU5JVF0sXG4gICAgdGFyZ2V0T2Zmc2V0LFxuICB9LFxuICBsZWZ0VG9wOiB7XG4gICAgcG9pbnRzOiBbJ3RyJywgJ3RsJ10sXG4gICAgb3ZlcmZsb3c6IHJjQXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWy1PRkZTRVRfVU5JVCwgMF0sXG4gICAgdGFyZ2V0T2Zmc2V0LFxuICB9LFxuICB0b3BSaWdodDoge1xuICAgIHBvaW50czogWydicicsICd0ciddLFxuICAgIG92ZXJmbG93OiByY0F1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAtT0ZGU0VUX1VOSVRdLFxuICAgIHRhcmdldE9mZnNldCxcbiAgfSxcbiAgcmlnaHRUb3A6IHtcbiAgICBwb2ludHM6IFsndGwnLCAndHInXSxcbiAgICBvdmVyZmxvdzogcmNBdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbT0ZGU0VUX1VOSVQsIDBdLFxuICAgIHRhcmdldE9mZnNldCxcbiAgfSxcbiAgYm90dG9tUmlnaHQ6IHtcbiAgICBwb2ludHM6IFsndHInLCAnYnInXSxcbiAgICBvdmVyZmxvdzogcmNBdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgT0ZGU0VUX1VOSVRdLFxuICAgIHRhcmdldE9mZnNldCxcbiAgfSxcbiAgcmlnaHRCb3R0b206IHtcbiAgICBwb2ludHM6IFsnYmwnLCAnYnInXSxcbiAgICBvdmVyZmxvdzogcmNBdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbT0ZGU0VUX1VOSVQsIDBdLFxuICAgIHRhcmdldE9mZnNldCxcbiAgfSxcbiAgYm90dG9tTGVmdDoge1xuICAgIHBvaW50czogWyd0bCcsICdibCddLFxuICAgIG92ZXJmbG93OiByY0F1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCBPRkZTRVRfVU5JVF0sXG4gICAgdGFyZ2V0T2Zmc2V0LFxuICB9LFxuICBsZWZ0Qm90dG9tOiB7XG4gICAgcG9pbnRzOiBbJ2JyJywgJ2JsJ10sXG4gICAgb3ZlcmZsb3c6IHJjQXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWy1PRkZTRVRfVU5JVCwgMF0sXG4gICAgdGFyZ2V0T2Zmc2V0LFxuICB9LFxufTtcblxuY29uc3QgYXV0b0FkanVzdE92ZXJmbG93RW5hYmxlZCA9IHtcbiAgYWRqdXN0WDogMSxcbiAgYWRqdXN0WTogMSxcbn07XG5cbmNvbnN0IGF1dG9BZGp1c3RPdmVyZmxvd0Rpc2FibGVkID0ge1xuICBhZGp1c3RYOiAwLFxuICBhZGp1c3RZOiAwLFxufTtcblxuZXhwb3J0IGludGVyZmFjZSBBZGp1c3RPdmVyZmxvdyB7XG4gIGFkanVzdFg/OiAwIHwgMTtcbiAgYWRqdXN0WT86IDAgfCAxO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsYWNlbWVudHNDb25maWcge1xuICBhcnJvd1dpZHRoPzogbnVtYmVyO1xuICBob3Jpem9udGFsQXJyb3dTaGlmdD86IG51bWJlcjtcbiAgdmVydGljYWxBcnJvd1NoaWZ0PzogbnVtYmVyO1xuICBhcnJvd1BvaW50QXRDZW50ZXI/OiBib29sZWFuO1xuICBhdXRvQWRqdXN0T3ZlcmZsb3c/OiBhbnk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPdmVyZmxvd09wdGlvbnMoYXV0b0FkanVzdE92ZXJmbG93OiBhbnkpIHtcbiAgaWYgKHR5cGVvZiBhdXRvQWRqdXN0T3ZlcmZsb3cgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiBhdXRvQWRqdXN0T3ZlcmZsb3cgPyBhdXRvQWRqdXN0T3ZlcmZsb3dFbmFibGVkIDogYXV0b0FkanVzdE92ZXJmbG93RGlzYWJsZWQ7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5hdXRvQWRqdXN0T3ZlcmZsb3dEaXNhYmxlZCxcbiAgICAuLi5hdXRvQWRqdXN0T3ZlcmZsb3csXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFBsYWNlbWVudHMoY29uZmlnOiBQbGFjZW1lbnRzQ29uZmlnID0ge30pIHtcbiAgY29uc3QgeyBhcnJvd1dpZHRoID0gNSwgaG9yaXpvbnRhbEFycm93U2hpZnQgPSAxNiwgdmVydGljYWxBcnJvd1NoaWZ0ID0gMTIsIGF1dG9BZGp1c3RPdmVyZmxvdyA9IHRydWUgfSA9IGNvbmZpZztcbiAgY29uc3QgcGxhY2VtZW50TWFwOiBhbnkgPSB7XG4gICAgbGVmdDoge1xuICAgICAgcG9pbnRzOiBbJ2NyJywgJ2NsJ10sXG4gICAgICBvZmZzZXQ6IFstNCwgMF0sXG4gICAgfSxcbiAgICByaWdodDoge1xuICAgICAgcG9pbnRzOiBbJ2NsJywgJ2NyJ10sXG4gICAgICBvZmZzZXQ6IFs0LCAwXSxcbiAgICB9LFxuICAgIHRvcDoge1xuICAgICAgcG9pbnRzOiBbJ2JjJywgJ3RjJ10sXG4gICAgICBvZmZzZXQ6IFswLCAtNF0sXG4gICAgfSxcbiAgICBib3R0b206IHtcbiAgICAgIHBvaW50czogWyd0YycsICdiYyddLFxuICAgICAgb2Zmc2V0OiBbMCwgNF0sXG4gICAgfSxcbiAgICB0b3BMZWZ0OiB7XG4gICAgICBwb2ludHM6IFsnYmwnLCAndGMnXSxcbiAgICAgIG9mZnNldDogWy0oaG9yaXpvbnRhbEFycm93U2hpZnQgKyBhcnJvd1dpZHRoKSwgLTRdLFxuICAgIH0sXG4gICAgbGVmdFRvcDoge1xuICAgICAgcG9pbnRzOiBbJ3RyJywgJ2NsJ10sXG4gICAgICBvZmZzZXQ6IFstNCwgLSh2ZXJ0aWNhbEFycm93U2hpZnQgKyBhcnJvd1dpZHRoKV0sXG4gICAgfSxcbiAgICB0b3BSaWdodDoge1xuICAgICAgcG9pbnRzOiBbJ2JyJywgJ3RjJ10sXG4gICAgICBvZmZzZXQ6IFtob3Jpem9udGFsQXJyb3dTaGlmdCArIGFycm93V2lkdGgsIC00XSxcbiAgICB9LFxuICAgIHJpZ2h0VG9wOiB7XG4gICAgICBwb2ludHM6IFsndGwnLCAnY3InXSxcbiAgICAgIG9mZnNldDogWzQsIC0odmVydGljYWxBcnJvd1NoaWZ0ICsgYXJyb3dXaWR0aCldLFxuICAgIH0sXG4gICAgYm90dG9tUmlnaHQ6IHtcbiAgICAgIHBvaW50czogWyd0cicsICdiYyddLFxuICAgICAgb2Zmc2V0OiBbaG9yaXpvbnRhbEFycm93U2hpZnQgKyBhcnJvd1dpZHRoLCA0XSxcbiAgICB9LFxuICAgIHJpZ2h0Qm90dG9tOiB7XG4gICAgICBwb2ludHM6IFsnYmwnLCAnY3InXSxcbiAgICAgIG9mZnNldDogWzQsIHZlcnRpY2FsQXJyb3dTaGlmdCArIGFycm93V2lkdGhdLFxuICAgIH0sXG4gICAgYm90dG9tTGVmdDoge1xuICAgICAgcG9pbnRzOiBbJ3RsJywgJ2JjJ10sXG4gICAgICBvZmZzZXQ6IFstKGhvcml6b250YWxBcnJvd1NoaWZ0ICsgYXJyb3dXaWR0aCksIDRdLFxuICAgIH0sXG4gICAgbGVmdEJvdHRvbToge1xuICAgICAgcG9pbnRzOiBbJ2JyJywgJ2NsJ10sXG4gICAgICBvZmZzZXQ6IFstNCwgdmVydGljYWxBcnJvd1NoaWZ0ICsgYXJyb3dXaWR0aF0sXG4gICAgfSxcbiAgfTtcbiAgT2JqZWN0LmtleXMocGxhY2VtZW50TWFwKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgcGxhY2VtZW50TWFwW2tleV0gPSBjb25maWcuYXJyb3dQb2ludEF0Q2VudGVyID8ge1xuICAgICAgLi4ucGxhY2VtZW50TWFwW2tleV0sXG4gICAgICBvdmVyZmxvdzogZ2V0T3ZlcmZsb3dPcHRpb25zKGF1dG9BZGp1c3RPdmVyZmxvdyksXG4gICAgICB0YXJnZXRPZmZzZXQsXG4gICAgfSA6IHtcbiAgICAgIC4uLnJjUGxhY2VtZW50c1trZXldLFxuICAgICAgb3ZlcmZsb3c6IGdldE92ZXJmbG93T3B0aW9ucyhhdXRvQWRqdXN0T3ZlcmZsb3cpLFxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gcGxhY2VtZW50TWFwO1xufVxuIl0sInZlcnNpb24iOjN9