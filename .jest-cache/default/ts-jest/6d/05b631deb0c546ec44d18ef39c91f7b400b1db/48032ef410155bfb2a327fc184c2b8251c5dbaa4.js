import React from 'react';
import PropTypes from 'prop-types';
import classNames from 'classnames';
import ScrollNumber from './ScrollNumber';
import Animate from '../animate';
import { getPrefixCls } from '../configure';
export default function Badge(props) {
    const { count, showZero, prefixCls: customizePrefixCls, scrollNumberPrefixCls, overflowCount, className, style, children, dot, status, text, offset, ...restProps } = props;
    const prefixCls = getPrefixCls('badge', customizePrefixCls);
    let displayCount = count > overflowCount ? `${overflowCount}+` : count;
    const isZero = displayCount === '0' || displayCount === 0;
    const isDot = (dot && !isZero) || status;
    // dot mode don't need count
    if (isDot) {
        displayCount = '';
    }
    const isEmpty = displayCount === null || displayCount === undefined || displayCount === '';
    const hidden = (isEmpty || (isZero && !showZero)) && !isDot;
    const statusCls = classNames({
        [`${prefixCls}-status-dot`]: !!status,
        [`${prefixCls}-status-${status}`]: !!status,
    });
    const scrollNumberCls = classNames({
        [`${prefixCls}-dot`]: isDot,
        [`${prefixCls}-count`]: !isDot,
        [`${prefixCls}-multiple-words`]: !isDot && count && count.toString && count.toString().length > 1,
        [`${prefixCls}-status-${status}`]: !!status,
    });
    const badgeCls = classNames(className, prefixCls, {
        [`${prefixCls}-status`]: !!status,
        [`${prefixCls}-not-a-wrapper`]: !children,
    });
    const styleWithOffset = offset
        ? {
            marginTop: offset[0],
            marginLeft: offset[1],
            ...style,
        }
        : style;
    // <Badge status="success" />
    if (!children && status) {
        return (React.createElement("span", { className: badgeCls, style: styleWithOffset },
            React.createElement("span", { className: statusCls }),
            React.createElement("span", { className: `${prefixCls}-status-text` }, text)));
    }
    const scrollNumber = hidden ? null : (React.createElement(ScrollNumber, { prefixCls: getPrefixCls('scroll-number', scrollNumberPrefixCls), hidden: hidden, className: scrollNumberCls, count: displayCount, title: count, style: styleWithOffset }));
    const statusText = hidden || !text ? null : React.createElement("span", { className: `${prefixCls}-status-text` }, text);
    return (React.createElement("span", Object.assign({}, restProps, { className: badgeCls }),
        children,
        React.createElement(Animate, { component: "", hiddenProp: "hidden", transitionName: children ? `${prefixCls}-zoom` : '', transitionAppear: true }, scrollNumber),
        statusText));
}
Badge.displayName = 'Badge';
Badge.defaultProps = {
    count: null,
    showZero: false,
    dot: false,
    overflowCount: 99,
};
Badge.propTypes = {
    count: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),
    showZero: PropTypes.bool,
    dot: PropTypes.bool,
    overflowCount: PropTypes.number,
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2h1aWh1YXdrL0RvY3VtZW50cy9vcHQvY2hvZXJvZG9uLXVpL2NvbXBvbmVudHMvYmFkZ2UvaW5kZXgudHN4IiwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBd0IsTUFBTSxPQUFPLENBQUM7QUFDN0MsT0FBTyxTQUFTLE1BQU0sWUFBWSxDQUFDO0FBQ25DLE9BQU8sVUFBVSxNQUFNLFlBQVksQ0FBQztBQUNwQyxPQUFPLFlBQVksTUFBTSxnQkFBZ0IsQ0FBQztBQUMxQyxPQUFPLE9BQU8sTUFBTSxZQUFZLENBQUM7QUFDakMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQXFCNUMsTUFBTSxDQUFDLE9BQU8sVUFBVSxLQUFLLENBQUMsS0FBZ0M7SUFDNUQsTUFBTSxFQUNKLEtBQUssRUFDTCxRQUFRLEVBQ1IsU0FBUyxFQUFFLGtCQUFrQixFQUM3QixxQkFBcUIsRUFDckIsYUFBYSxFQUNiLFNBQVMsRUFDVCxLQUFLLEVBQ0wsUUFBUSxFQUNSLEdBQUcsRUFDSCxNQUFNLEVBQ04sSUFBSSxFQUNKLE1BQU0sRUFDTixHQUFHLFNBQVMsRUFDYixHQUFHLEtBQUssQ0FBQztJQUNWLE1BQU0sU0FBUyxHQUFHLFlBQVksQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUM1RCxJQUFJLFlBQVksR0FBSSxLQUFnQixHQUFJLGFBQXdCLENBQUMsQ0FBQyxDQUFDLEdBQUcsYUFBYSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUMvRixNQUFNLE1BQU0sR0FBRyxZQUFZLEtBQUssR0FBRyxJQUFJLFlBQVksS0FBSyxDQUFDLENBQUM7SUFDMUQsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxNQUFNLENBQUM7SUFDekMsNEJBQTRCO0lBQzVCLElBQUksS0FBSyxFQUFFO1FBQ1QsWUFBWSxHQUFHLEVBQUUsQ0FBQztLQUNuQjtJQUNELE1BQU0sT0FBTyxHQUFHLFlBQVksS0FBSyxJQUFJLElBQUksWUFB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LENBQUMsWUFBWSxHQUFHO0lBQ25CLEtBQUssRUFBRSxJQUFJO0lBQ1gsUUFBUSxFQUFFLEtBQUs7SUFDZixHQUFHLEVBQUUsS0FBSztJQUNWLGFBQWEsRUFBRSxFQUFFO0NBQ2xCLENBQUM7QUFFRixLQUFLLENBQUMsU0FBUyxHQUFHO0lBQ2hCLEtBQUssRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEUsUUFBUSxFQUFFLFNBQVMsQ0FBQyxJQUFJO0lBQ3hCLEdBQUcsRUFBRSxTQUFTLENBQUMsSUFBSTtJQUNuQixhQUFhLEVBQUUsU0FBUyxDQUFDLE1BQU07Q0FDaEMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvaHVpaHVhd2svRG9jdW1lbnRzL29wdC9jaG9lcm9kb24tdWkvY29tcG9uZW50cy9iYWRnZS9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENTU1Byb3BlcnRpZXMgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgU2Nyb2xsTnVtYmVyIGZyb20gJy4vU2Nyb2xsTnVtYmVyJztcbmltcG9ydCBBbmltYXRlIGZyb20gJy4uL2FuaW1hdGUnO1xuaW1wb3J0IHsgZ2V0UHJlZml4Q2xzIH0gZnJvbSAnLi4vY29uZmlndXJlJztcblxuZXhwb3J0IHsgU2Nyb2xsTnVtYmVyUHJvcHMgfSBmcm9tICcuL1Njcm9sbE51bWJlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFkZ2VQcm9wcyB7XG4gIC8qKiBOdW1iZXIgdG8gc2hvdyBpbiBiYWRnZSAqL1xuICBjb3VudD86IG51bWJlciB8IHN0cmluZztcbiAgc2hvd1plcm8/OiBib29sZWFuO1xuICAvKiogTWF4IGNvdW50IHRvIHNob3cgKi9cbiAgb3ZlcmZsb3dDb3VudD86IG51bWJlcjtcbiAgLyoqIHdoZXRoZXIgdG8gc2hvdyByZWQgZG90IHdpdGhvdXQgbnVtYmVyICovXG4gIGRvdD86IGJvb2xlYW47XG4gIHN0eWxlPzogQ1NTUHJvcGVydGllcztcbiAgcHJlZml4Q2xzPzogc3RyaW5nO1xuICBzY3JvbGxOdW1iZXJQcmVmaXhDbHM/OiBzdHJpbmc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgc3RhdHVzPzogJ3N1Y2Nlc3MnIHwgJ3Byb2Nlc3NpbmcnIHwgJ2RlZmF1bHQnIHwgJ2Vycm9yJyB8ICd3YXJuaW5nJztcbiAgdGV4dD86IHN0cmluZztcbiAgb2Zmc2V0PzogW251bWJlciB8IHN0cmluZywgbnVtYmVyIHwgc3RyaW5nXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmFkZ2UocHJvcHM6IEJhZGdlUHJvcHMgJiB7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3Qge1xuICAgIGNvdW50LFxuICAgIHNob3daZXJvLFxuICAgIHByZWZpeENsczogY3VzdG9taXplUHJlZml4Q2xzLFxuICAgIHNjcm9sbE51bWJlclByZWZpeENscyxcbiAgICBvdmVyZmxvd0NvdW50LFxuICAgIGNsYXNzTmFtZSxcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICBkb3QsXG4gICAgc3RhdHVzLFxuICAgIHRleHQsXG4gICAgb2Zmc2V0LFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHByZWZpeENscyA9IGdldFByZWZpeENscygnYmFkZ2UnLCBjdXN0b21pemVQcmVmaXhDbHMpO1xuICBsZXQgZGlzcGxheUNvdW50ID0gKGNvdW50IGFzIG51bWJlcikgPiAob3ZlcmZsb3dDb3VudCBhcyBudW1iZXIpID8gYCR7b3ZlcmZsb3dDb3VudH0rYCA6IGNvdW50O1xuICBjb25zdCBpc1plcm8gPSBkaXNwbGF5Q291bnQgPT09ICcwJyB8fCBkaXNwbGF5Q291bnQgPT09IDA7XG4gIGNvbnN0IGlzRG90ID0gKGRvdCAmJiAhaXNaZXJvKSB8fCBzdGF0dXM7XG4gIC8vIGRvdCBtb2RlIGRvbid0IG5lZWQgY291bnRcbiAgaWYgKGlzRG90KSB7XG4gICAgZGlzcGxheUNvdW50ID0gJyc7XG4gIH1cbiAgY29uc3QgaXNFbXB0eSA9IGRpc3BsYXlDb3VudCA9PT0gbnVsbCB8fCBkaXNwbGF5Q291bnQgPT09IHVuZGVmaW5lZCB8fCBkaXNwbGF5Q291bnQgPT09ICcnO1xuICBjb25zdCBoaWRkZW4gPSAoaXNFbXB0eSB8fCAoaXNaZXJvICYmICFzaG93WmVybykpICYmICFpc0RvdDtcbiAgY29uc3Qgc3RhdHVzQ2xzID0gY2xhc3NOYW1lcyh7XG4gICAgW2Ake3ByZWZpeENsc30tc3RhdHVzLWRvdGBdOiAhIXN0YXR1cyxcbiAgICBbYCR7cHJlZml4Q2xzfS1zdGF0dXMtJHtzdGF0dXN9YF06ICEhc3RhdHVzLFxuICB9KTtcbiAgY29uc3Qgc2Nyb2xsTnVtYmVyQ2xzID0gY2xhc3NOYW1lcyh7XG4gICAgW2Ake3ByZWZpeENsc30tZG90YF06IGlzRG90LFxuICAgIFtgJHtwcmVmaXhDbHN9LWNvdW50YF06ICFpc0RvdCxcbiAgICBbYCR7cHJlZml4Q2xzfS1tdWx0aXBsZS13b3Jkc2BdOlxuICAgICAgIWlzRG90ICYmIGNvdW50ICYmIGNvdW50LnRvU3RyaW5nICYmIGNvdW50LnRvU3RyaW5nKCkubGVuZ3RoID4gMSxcbiAgICBbYCR7cHJlZml4Q2xzfS1zdGF0dXMtJHtzdGF0dXN9YF06ICEhc3RhdHVzLFxuICB9KTtcbiAgY29uc3QgYmFkZ2VDbHMgPSBjbGFzc05hbWVzKGNsYXNzTmFtZSwgcHJlZml4Q2xzLCB7XG4gICAgW2Ake3ByZWZpeENsc30tc3RhdHVzYF06ICEhc3RhdHVzLFxuICAgIFtgJHtwcmVmaXhDbHN9LW5vdC1hLXdyYXBwZXJgXTogIWNoaWxkcmVuLFxuICB9KTtcbiAgY29uc3Qgc3R5bGVXaXRoT2Zmc2V0ID0gb2Zmc2V0XG4gICAgPyB7XG4gICAgICAgIG1hcmdpblRvcDogb2Zmc2V0WzBdLFxuICAgICAgICBtYXJnaW5MZWZ0OiBvZmZzZXRbMV0sXG4gICAgICAgIC4uLnN0eWxlLFxuICAgICAgfVxuICAgIDogc3R5bGU7XG4gIC8vIDxCYWRnZSBzdGF0dXM9XCJzdWNjZXNzXCIgLz5cbiAgaWYgKCFjaGlsZHJlbiAmJiBzdGF0dXMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtiYWRnZUNsc30gc3R5bGU9e3N0eWxlV2l0aE9mZnNldH0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3RhdHVzQ2xzfSAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tc3RhdHVzLXRleHRgfT57dGV4dH08L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHNjcm9sbE51bWJlciA9IGhpZGRlbiA/IG51bGwgOiAoXG4gICAgPFNjcm9sbE51bWJlclxuICAgICAgcHJlZml4Q2xzPXtnZXRQcmVmaXhDbHMoJ3Njcm9sbC1udW1iZXInLCBzY3JvbGxOdW1iZXJQcmVmaXhDbHMpfVxuICAgICAgaGlkZGVuPXtoaWRkZW59XG4gICAgICBjbGFzc05hbWU9e3Njcm9sbE51bWJlckNsc31cbiAgICAgIGNvdW50PXtkaXNwbGF5Q291bnR9XG4gICAgICB0aXRsZT17Y291bnR9XG4gICAgICBzdHlsZT17c3R5bGVXaXRoT2Zmc2V0fVxuICAgIC8+XG4gICk7XG5cbiAgY29uc3Qgc3RhdHVzVGV4dCA9XG4gICAgaGlkZGVuIHx8ICF0ZXh0ID8gbnVsbCA6IDxzcGFuIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1zdGF0dXMtdGV4dGB9Pnt0ZXh0fTwvc3Bhbj47XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiB7Li4ucmVzdFByb3BzfSBjbGFzc05hbWU9e2JhZGdlQ2xzfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDxBbmltYXRlXG4gICAgICAgIGNvbXBvbmVudD1cIlwiXG4gICAgICAgIGhpZGRlblByb3A9XCJoaWRkZW5cIlxuICAgICAgICB0cmFuc2l0aW9uTmFtZT17Y2hpbGRyZW4gPyBgJHtwcmVmaXhDbHN9LXpvb21gIDogJyd9XG4gICAgICAgIHRyYW5zaXRpb25BcHBlYXJcbiAgICAgID5cbiAgICAgICAge3Njcm9sbE51bWJlcn1cbiAgICAgIDwvQW5pbWF0ZT5cbiAgICAgIHtzdGF0dXNUZXh0fVxuICAgIDwvc3Bhbj5cbiAgKTtcbn1cblxuQmFkZ2UuZGlzcGxheU5hbWUgPSAnQmFkZ2UnO1xuXG5CYWRnZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGNvdW50OiBudWxsLFxuICBzaG93WmVybzogZmFsc2UsXG4gIGRvdDogZmFsc2UsXG4gIG92ZXJmbG93Q291bnQ6IDk5LFxufTtcblxuQmFkZ2UucHJvcFR5cGVzID0ge1xuICBjb3VudDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pLFxuICBzaG93WmVybzogUHJvcFR5cGVzLmJvb2wsXG4gIGRvdDogUHJvcFR5cGVzLmJvb2wsXG4gIG92ZXJmbG93Q291bnQ6IFByb3BUeXBlcy5udW1iZXIsXG59O1xuIl0sInZlcnNpb24iOjN9