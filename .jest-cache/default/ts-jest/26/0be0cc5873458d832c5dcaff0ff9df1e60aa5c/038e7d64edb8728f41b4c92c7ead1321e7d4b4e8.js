import { Component } from 'react';
import PropTypes from 'prop-types';
export default class LocaleReceiver extends Component {
    getLocale() {
        const { componentName, defaultLocale } = this.props;
        const { c7nLocale } = this.context;
        const localeFromContext = c7nLocale && c7nLocale[componentName];
        return {
            ...(typeof defaultLocale === 'function' ? defaultLocale() : defaultLocale),
            ...(localeFromContext || {}),
        };
    }
    getLocaleCode() {
        const { c7nLocale } = this.context;
        const localeCode = c7nLocale && c7nLocale.locale;
        // Had use LocaleProvide but didn't set locale
        if (c7nLocale && c7nLocale.exist && !localeCode) {
            return 'en-us';
        }
        return localeCode;
    }
    render() {
        const { children } = this.props;
        return children(this.getLocale(), this.getLocaleCode());
    }
}
LocaleReceiver.contextTypes = {
    c7nLocale: PropTypes.object,
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2h1aWh1YXdrL0RvY3VtZW50cy9vcHQvY2hvZXJvZG9uLXVpL2NvbXBvbmVudHMvbG9jYWxlLXByb3ZpZGVyL0xvY2FsZVJlY2VpdmVyLnRzeCIsIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFhLE1BQU0sT0FBTyxDQUFDO0FBQzdDLE9BQU8sU0FBUyxNQUFNLFlBQVksQ0FBQztBQVluQyxNQUFNLENBQUMsT0FBTyxPQUFPLGNBQWUsU0FBUSxTQUE4QjtJQU94RSxTQUFTO1FBQ1AsTUFBTSxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BELE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ25DLE1BQU0saUJBQWlCLEdBQUcsU0FBUyxJQUFJLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNoRSxPQUFPO1lBQ0wsR0FBRyxDQUFDLE9BQU8sYUFBYSxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQztZQUMxRSxHQUFHLENBQUMsaUJBQWlCLElBQUksRUFBRSxDQUFDO1NBQzdCLENBQUM7SUFDSixDQUFDO0lBRUQsYUFBYTtRQUNYLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ25DLE1BQU0sVUFBVSxHQUFHLFNBQVMsSUFBSSxTQUFTLENBQUMsTUFBTSxDQUFDO1FBQ2pELDhDQUE4QztRQUM5QyxJQUFJLFNBQVMsSUFBSSxTQUFTLENBQUMsS0FBSyxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQy9DLE9BQU8sT0FBTyxDQUFDO1NBQ2hCO1FBQ0QsT0FBTyxVQUFVLENBQUM7SUFDcEIsQ0FBQztJQUVELE1BQU07UUFDSixNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNoQyxPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUM7SUFDMUQsQ0FBQzs7QUE3Qk0sMkJBQVksR0FBRztJQUNwQixTQUFTLEVBQUUsU0FBUyxDQUFDLE1BQU07Q0FDNUIsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvaHVpaHVhd2svRG9jdW1lbnRzL29wdC9jaG9lcm9kb24tdWkvY29tcG9uZW50cy9sb2NhbGUtcHJvdmlkZXIvTG9jYWxlUmVjZWl2ZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBMb2NhbGVSZWNlaXZlclByb3BzIHtcbiAgY29tcG9uZW50TmFtZTogc3RyaW5nO1xuICBkZWZhdWx0TG9jYWxlOiBvYmplY3QgfCBGdW5jdGlvbjtcbiAgY2hpbGRyZW46IChsb2NhbGU6IG9iamVjdCwgbG9jYWxlQ29kZT86IHN0cmluZykgPT4gUmVhY3ROb2RlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvY2FsZVJlY2VpdmVyQ29udGV4dCB7XG4gIGM3bkxvY2FsZT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2FsZVJlY2VpdmVyIGV4dGVuZHMgQ29tcG9uZW50PExvY2FsZVJlY2VpdmVyUHJvcHM+IHtcbiAgc3RhdGljIGNvbnRleHRUeXBlcyA9IHtcbiAgICBjN25Mb2NhbGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIH07XG5cbiAgY29udGV4dDogTG9jYWxlUmVjZWl2ZXJDb250ZXh0O1xuXG4gIGdldExvY2FsZSgpIHtcbiAgICBjb25zdCB7IGNvbXBvbmVudE5hbWUsIGRlZmF1bHRMb2NhbGUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBjN25Mb2NhbGUgfSA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCBsb2NhbGVGcm9tQ29udGV4dCA9IGM3bkxvY2FsZSAmJiBjN25Mb2NhbGVbY29tcG9uZW50TmFtZV07XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLih0eXBlb2YgZGVmYXVsdExvY2FsZSA9PT0gJ2Z1bmN0aW9uJyA/IGRlZmF1bHRMb2NhbGUoKSA6IGRlZmF1bHRMb2NhbGUpLFxuICAgICAgLi4uKGxvY2FsZUZyb21Db250ZXh0IHx8IHt9KSxcbiAgICB9O1xuICB9XG5cbiAgZ2V0TG9jYWxlQ29kZSgpIHtcbiAgICBjb25zdCB7IGM3bkxvY2FsZSB9ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IGxvY2FsZUNvZGUgPSBjN25Mb2NhbGUgJiYgYzduTG9jYWxlLmxvY2FsZTtcbiAgICAvLyBIYWQgdXNlIExvY2FsZVByb3ZpZGUgYnV0IGRpZG4ndCBzZXQgbG9jYWxlXG4gICAgaWYgKGM3bkxvY2FsZSAmJiBjN25Mb2NhbGUuZXhpc3QgJiYgIWxvY2FsZUNvZGUpIHtcbiAgICAgIHJldHVybiAnZW4tdXMnO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlQ29kZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBjaGlsZHJlbih0aGlzLmdldExvY2FsZSgpLCB0aGlzLmdldExvY2FsZUNvZGUoKSk7XG4gIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==