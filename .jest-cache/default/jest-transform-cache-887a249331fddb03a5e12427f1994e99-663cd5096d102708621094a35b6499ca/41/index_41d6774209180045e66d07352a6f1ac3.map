{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/table/query-bar/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAQA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAQA;;AAGA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,IAAqB,aAArB;AAAA;AAAA;AAAA;;AAAA;;AAAA,2BAAA;AAAA;;AAAA;;AAwTE;;;;;AAKA,UAAA,QAAA,GAAW,UAAC,OAAD,EAAY;AACrB,UAAI,MAAK,WAAL,IAAoB,MAAK,WAAL,CAAiB,MAAzC,EAAiD;AAC/C,cAAK,WAAL,GAAmB,EAAnB;AACD,OAFD,MAEO;AACL,cAAK,WAAL,GAAmB,MAAK,aAAL,CAAmB,OAAnB,CAAnB;AACD;;AACD,aAAO,MAAK,WAAZ;AACD,KAPD;;AA7TF;AAkmBC;;AAlmBD;AAAA;AAAA,2CA8BsB;AAClB,UAAI,KAAK,WAAT,EAAsB;AACpB,aAAK,WAAL,CAAiB,KAAjB,CAAuB,IAAvB;AACD;AACF;AAlCH;AAAA;AAAA,yCAqCoB;AAAA,UAEA,OAFA,GAGZ,KAAK,OAHO,CAEd,UAFc,CAEA,OAFA;AAIhB,MAAA,OAAO,CAAC,MAAR,CAAe,EAAf,EAAmB,CAAnB;AACD;AA1CH;AAAA;AAAA,yCA6CoB;AAAA,UAEA,OAFA,GAGZ,KAAK,OAHO,CAEd,UAFc,CAEA,OAFA;AAIhB,aAAO,OAAO,CAAC,MAAR,EAAP;AACD;AAlDH;AAAA;AAAA,yCAqDoB;AAAA,UAEA,OAFA,GAGZ,KAAK,OAHO,CAEd,UAFc,CAEA,OAFA;AAIhB,aAAO,OAAO,UAAP,CAAe,OAAO,CAAC,QAAvB,CAAP;AACD;AA1DH;AAAA;AAAA,yCA6DoB;AAAA,UAEA,OAFA,GAGZ,KAAK,OAHO,CAEd,UAFc,CAEA,OAFA;AAIhB,MAAA,OAAO,CAAC,MAAR,CAAe,OAAO,CAAC,QAAvB;AACD;AAlEH;AAAA;AAAA,wCAqEmB;AAAA,UAEC,OAFD,GAGX,KAAK,OAHM,CAEb,UAFa,CAEC,OAFD;AAIf,MAAA,OAAO,CAAC,KAAR;AACD;AA1EH;AAAA;AAAA,uCA6EkB;AAAA,UAGC,YAHD,GAKV,KAAK,OALK,CAEZ,UAFY,CAGV,OAHU,CAGC,YAHD;;AAMd,UAAI,YAAJ,EAAkB;AAAA,YACR,OADQ,GACI,YADJ,CACR,OADQ;;AAEhB,YAAI,OAAJ,EAAa;AACX,UAAA,OAAO,CAAC,KAAR;AACD;;AACD,aAAK,WAAL;AACD;AACF;AA1FH;AAAA;AAAA,sCA6FiB;AAAA,UACL,UADK,GACU,KAAK,OADf,CACL,UADK;AAEb,MAAA,UAAU,CAAC,SAAX;AACD;AAhGH;AAAA;AAAA,wCAmGmB;AAAA,UACP,UADO,GACQ,KAAK,OADb,CACP,UADO;AAEf,MAAA,UAAU,CAAC,WAAX;AACD;AAtGH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AA0GY,gBAAA,UA1GZ,GA0G2B,KAAK,OA1GhC,CA0GY,UA1GZ;AAAA;AAAA,uBA2GgC,UAAU,CAAC,gBAAX,EA3GhC;;AAAA;AA2GU,gBAAA,aA3GV;;AA4GU,gBAAA,cA5GV,GA4G2B,SAAjB,cAAiB,CAAC,KAAD,EAAkB;AACvC,kBAAA,MAAI,CAAC,cAAL,GAAsB,KAAtB;AACD,iBA9GL;;AA+GY,gBAAA,SA/GZ,GA+G0B,KAAK,KA/G/B,CA+GY,SA/GZ;AAgHI,qBAAK,aAAL,GAAqB,IAAI,mBAAJ,CAAY;AAAE,kBAAA,IAAI,EAAE,aAAR;AAAuB,kBAAA,MAAM,EAAE;AAA/B,iBAAZ,CAArB;AACA,qBAAK,aAAL,CAAmB,SAAnB;AACA,qBAAK,cAAL,GAAsB,UAAU,CAAC,OAAX,CAAmB,UAAzC;AACA,qBAAK,WAAL,GAAmB,kBAAM,IAAN,CAAW;AAC5B,kBAAA,KAAK,EAAE,uBAAG,OAAH,EAAY,uBAAZ,CADqB;AAE5B,kBAAA,QAAQ,EACN,kBAAA,aAAA,CAAA,kBAAA,QAAA,EAAA,IAAA,EACE,kBAAA,aAAA,CAAC,iBAAD,EAAM;AAAC,oBAAA,OAAO,EAAE,KAAK,aAAf;AAA8B,oBAAA,KAAK,EAAE;AAAE,sBAAA,MAAM,EAAE,4BAAQ,GAAR;AAAV;AAArC,mBAAN,EACE,kBAAA,aAAA,CAAC,kBAAD,EAAO;AAAC,oBAAA,MAAM,EAAE,uBAAG,OAAH,EAAY,aAAZ,CAAT;AAAqC,oBAAA,IAAI,EAAC,OAA1C;AAAkD,oBAAA,SAAS,EAAE;AAA7D,mBAAP,CADF,CADF,EAKI,UAAU,CAAC,OAAX,CAAmB,UAAnB,KAA6B;AAAA;AAA7B,oBAEI,kBAAA,aAAA,CAAC,eAAD,EAAI;AAAC,oBAAA,SAAS,YAAK,SAAL;AAAV,mBAAJ,EACE,kBAAA,aAAA,CAAC,eAAD,EAAI;AAAC,oBAAA,IAAI,EAAE;AAAP,mBAAJ,EACE,kBAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EAAO,uBAAG,OAAH,EAAY,YAAZ,CAAP,CADF,CADF,EAIE,kBAAA,aAAA,CAAC,eAAD,EAAI;AAAC,oBAAA,IAAI,EAAE;AAAP,mBAAJ,EACE,kBAAA,aAAA,CAAC,uBAAD,EAAY;AAAC,oBAAA,QAAQ,EAAE,cAAX;AAA2B,oBAAA,YAAY,EAAE,KAAK,cAA9C;AAA8D,oBAAA,GAAG,EAAE,IAAnE;AAAyE,oBAAA,WAAW,EAAA,IAApF;AAAqF,oBAAA,GAAG,EAAE,CAA1F;AAA6F,oBAAA,IAAI,EAAE;AAAnG,mBAAZ,CADF,CAJF,CAFJ,GAUM,SAfV,CAH0B;AAsB5B,kBAAA,QAAQ,EAAE,IAtBkB;AAuB5B,kBAAA,MAAM,EAAE,uBAAG,OAAH,EAAY,eAAZ,CAvBoB;AAwB5B,kBAAA,IAAI,EAAE,KAAK,YAxBiB;AAyB5B,kBAAA,KAAK,EAAE;AACL,oBAAA,KAAK,EAAE,4BAAQ,GAAR;AADF;AAzBqB,iBAAX,CAAnB;;AAnHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kCAmJa;AAAA,UAEO,OAFP,GAGL,KAAK,OAHA,CAEP,UAFO,CAEO,OAFP;AAIT,aAAO,OAAO,CAAC,KAAR,EAAP;AACD;AAxJH;AAAA;AAAA,mCA2Jc;AAAA,UACF,QADE,GACW,KAAK,aADhB,CACF,QADE;;AAEV,UAAI,QAAQ,CAAC,MAAb,EAAqB;AAAA,YAEH,OAFG,GAGf,KAAK,OAHU,CAEjB,UAFiB,CAEH,OAFG;AAInB,QAAA,OAAO,UAAP,CACE,QAAQ,CAAC,MAAT,CAAgB,UAAC,OAAD,EAAU,MAAV,EAAoB;AAClC,cAAI,MAAM,GAAG,MAAM,CAAC,GAAP,CAAW,MAAX,CAAb;AACA,cAAM,OAAO,GAAG,OAAO,CAAC,QAAR,CAAiB,MAAjB,CAAhB;;AACA,cAAI,OAAO,IAAI,OAAO,CAAC,IAAR,KAAY;AAAA;AAA3B,YAAkD;AAChD,kBAAM,SAAS,GAAG,6BAAgB,OAAhB,EAAyB,OAAO,CAAC,MAAjC,EAAyC,WAAzC,CAAlB;;AACA,kBAAI,SAAJ,EAAe;AACb,gBAAA,MAAM,GAAG,SAAS,CAAC,IAAnB;AACD;AACF;;AACD,UAAA,OAAO,CAAC,MAAD,CAAP,GAAkB,MAAM,CAAC,GAAP,CAAW,OAAX,CAAlB;AACA,iBAAO,OAAP;AACD,SAXD,EAWG,EAXH,CADF,EAaE,KAAK,cAbP;AAeD,OAnBD,MAmBO;AACL,eAAO,KAAP;AACD;AACF;AAnLH;AAAA;AAAA,mCAsLI,IAtLJ,EAsLyB;AAAA,kCAIjB,KAAK,OAJY,CAGnB,UAHmB;AAAA,UAGL,MAHK,yBAGL,MAHK;AAAA,UAGG,OAHH,yBAGG,OAHH;AAKrB,UAAM,QAAQ,GAAG,OAAO,CAAC,MAAR,KAAc;AAAA;AAA/B;;AACA,cAAQ,IAAR;AACE,aAAK,sBAAgB,GAArB;AACE,iBAAO;AACL,YAAA,IAAI,EAAE,cADD;AAEL,YAAA,OAAO,EAAE,KAAK,kBAFT;AAGL,YAAA,QAAQ,EAAE,uBAAG,OAAH,EAAY,eAAZ,CAHL;AAIL,YAAA,QAAQ,EAAE,QAAQ,KAAK,OAAO,CAAC,MAAR,GAAiB,CAAC,OAAO,CAAC,MAAR,CAAe,OAAjC,GAA2C,KAAhD;AAJb,WAAP;;AAMF,aAAK,sBAAgB,IAArB;AACE,iBAAO;AACL,YAAA,IAAI,EAAE,MADD;AAEL,YAAA,OAAO,EAAE,KAAK,kBAFT;AAGL,YAAA,QAAQ,EAAE,uBAAG,OAAH,EAAY,aAAZ,CAHL;AAIL,YAAA,IAAI,EAAA;AAAA;AAJC;AAKL,YAAA,QAAQ,EAAR;AALK,WAAP;;AAOF,aAAK,+BAAL;AACE,iBAAO;AACL,YAAA,IAAI,EAAE,QADD;AAEL,YAAA,OAAO,EAAE,KAAK,kBAFT;AAGL,YAAA,QAAQ,EAAE,uBAAG,OAAH,EAAY,eAAZ,CAHL;AAIL,YAAA,QAAQ,EAAE,QAAQ,IAAI,OAAO,CAAC,QAAR,CAAiB,MAAjB,KAA4B;AAJ7C,WAAP;;AAMF,aAAK,sBAAgB,MAArB;AACE,iBAAO;AACL,YAAA,IAAI,EAAE,eADD;AAEL,YAAA,OAAO,EAAE,KAAK,kBAFT;AAGL,YAAA,QAAQ,EAAE,uBAAG,OAAH,EAAY,eAAZ,CAHL;AAIL,YAAA,QAAQ,EAAE,QAAQ,IAAI,OAAO,CAAC,QAAR,CAAiB,MAAjB,KAA4B;AAJ7C,WAAP;;AAMF,aAAK,sBAAgB,KAArB;AACE,iBAAO;AACL,YAAA,IAAI,EAAE,MADD;AAEL,YAAA,OAAO,EAAE,KAAK,iBAFT;AAGL,YAAA,QAAQ,EAAE,uBAAG,OAAH,EAAY,cAAZ,CAHL;AAIL,YAAA,IAAI,EAAA;AAAA;;AAJC,WAAP;;AAMF,aAAK,sBAAgB,KAArB;AACE,iBAAO;AAAE,YAAA,IAAI,EAAE,QAAR;AAAkB,YAAA,OAAO,EAAE,KAAK,WAAhC;AAA6C,YAAA,QAAQ,EAAE,uBAAG,OAAH,EAAY,cAAZ;AAAvD,WAAP;;AACF,aAAK,+BAAL;AACE,iBAAO;AACL,YAAA,IAAI,EAAE,QADD;AAEL,YAAA,OAAO,EAAE,KAAK,kBAFT;AAGL,YAAA,QAAQ,EAAE,uBAAG,OAAH,EAAY,eAAZ;AAHL,WAAP;;AAKF,aAAK,sBAAgB,SAArB;AACE,iBAAO,MAAM,GACT;AACA,YAAA,IAAI,EAAE,SADN;AAEA,YAAA,OAAO,EAAE,KAAK,eAFd;AAGA,YAAA,QAAQ,EAAE,uBAAG,OAAH,EAAY,eAAZ;AAHV,WADS,GAMT,SANJ;;AAOF,aAAK,sBAAgB,WAArB;AACE,iBAAO,MAAM,GACT;AACA,YAAA,IAAI,EAAE,YADN;AAEA,YAAA,OAAO,EAAE,KAAK,iBAFd;AAGA,YAAA,QAAQ,EAAE,uBAAG,OAAH,EAAY,iBAAZ;AAHV,WADS,GAMT,SANJ;;AAOF;AA7DF;AA+DD;AAED;;;;;AA7PF;AAAA;AAAA,kCAiQgB,OAjQhB,EAiQuB;AAAA,wBAMf,IANe,CAEjB,KAFiB;AAAA,UAER,SAFQ,eAER,SAFQ;AAAA,UAEG,UAFH,eAEG,UAFH;AAAA,8CAEe,kBAFf;AAAA,UAEe,kBAFf,sCAEoC,CAFpC;AAAA,UAID,OAJC,GAMf,IANe,CAGjB,OAHiB,CAIf,UAJe,CAID,OAJC;AAOnB,UAAM,YAAY,GAAG,CAAA;AAAA;AAAA,QAAA;AAAA;AAAA,OAArB;;AACA,UAAI,UAAU,IAAI,OAAd,IAAyB,OAAO,CAAC,MAArC,EAA6C;AAC3C,eAAO,OAAO,CAAC,GAAR,CAAY,UAAC,UAAD,EAAa,KAAb,EAAsB;AACvC,cAAM,KAAK,GAAG,OAAO,CAAC,QAAR,CAAiB,UAAjB,CAAd;AACA,cAAM,WAAW,GAAG,UAAU,CAAC,MAAX,GAAoB,kBAApB,IAA2C,KAAK,KAAM,UAAU,CAAC,MAAX,GAAoB,CAA9F;;AACA,cAAI,0BAAS,UAAT,KAAwB,KAAxB,IAAiC,YAAY,CAAC,QAAb,CAAsB,KAAK,CAAC,IAA5B,CAArC,EAAwE;AACtE,gBAAM,YAAY,GAAG,wBAAO,OAAO,CAAC,IAAR,CAAa,GAAb,CAAiB,UAAC,MAAD;AAAA,qBAAY,0BAAS,MAAM,CAAC,GAAP,CAAW,UAAX,CAAT,IAAmC,MAAM,CAAC,GAAP,CAAW,UAAX,CAAnC,GAA4D,CAAxE;AAAA,aAAjB,CAAP,EAAoG,UAAC,GAAD,EAAM,CAAN;AAAA,qBAAY,GAAG,GAAG,CAAlB;AAAA,aAApG,CAArB;AACA,mBACE,kBAAA,aAAA,CAAA,KAAA,EAAA;AAAK,cAAA,GAAG,EAAE,KAAK,CAAC,GAAN,CAAU,MAAV;AAAV,aAAA,EACE,kBAAA,aAAA,CAAA,KAAA,EAAA;AAAK,cAAA,SAAS,YAAK,SAAL;AAAd,aAAA,EACE,kBAAA,aAAA,CAAA,KAAA,EAAA;AAAK,cAAA,SAAS,YAAK,SAAL,uBAAd;AAAkD,cAAA,KAAK,EAAE,KAAK,CAAC,GAAN,CAAU,OAAV;AAAzD,aAAA,EAA8E,KAAK,CAAC,GAAN,CAAU,OAAV,CAA9E,EAAwG,GAAxG,CADF,EAEE,kBAAA,aAAA,CAAA,KAAA,EAAA;AAAK,cAAA,SAAS,YAAK,SAAL,uBAAd;AAAkD,cAAA,KAAK,EAAE;AAAzD,aAAA,EAAwE,YAAxE,CAFF,CADF,EAKG,WAAW,IAAI,kBAAA,aAAA,CAAA,KAAA,EAAA;AAAK,cAAA,SAAS,YAAK,SAAL;AAAd,aAAA,EACd,kBAAA,aAAA,CAAA,KAAA,EAAA,IAAA,CADc,CALlB,CADF;AAWD;;AACD,cAAI,OAAO,UAAP,KAAsB,UAA1B,EAAsC;AACpC,gBAAM,UAAU,GAAI,UAA6B,CAAC;AAAE,cAAA,kBAAkB,EAAlB,kBAAF;AAAsB,cAAA,OAAO,EAAP;AAAtB,aAAD,CAAjD;AACA,mBACE,kBAAA,aAAA,CAAA,KAAA,EAAA;AAAK,cAAA,GAAG,EAAE,0BAAS,UAAU,CAAC,KAApB,IAA6B,UAAU,CAAC,KAAxC,GAAgD;AAA1D,aAAA,EACE,kBAAA,aAAA,CAAA,KAAA,EAAA;AAAK,cAAA,SAAS,YAAK,SAAL;AAAd,aAAA,EACE,kBAAA,aAAA,CAAA,KAAA,EAAA;AACE,cAAA,SAAS,YAAK,SAAL,uBADX;AAEE,cAAA,KAAK,EAAE,0BAAS,UAAU,CAAC,KAApB,IAA6B,UAAU,CAAC,KAAxC,GAAgD;AAFzD,aAAA,EAIG,UAAU,CAAC,KAJd,EAKM,GALN,CADF,EAOE,kBAAA,aAAA,CAAA,KAAA,EAAA;AACE,cAAA,SAAS,YAAK,SAAL,uBADX;AAEE,cAAA,KAAK,EAAE,0BAAS,UAAU,CAAC,KAApB,KAA8B,0BAAS,UAAU,CAAC,KAApB,CAA9B,GAA2D,UAAU,CAAC,KAAX,CAAiB,QAAjB,EAA3D,GAAyF;AAFlG,aAAA,EAIG,UAAU,CAAC,KAJd,CAPF,CADF,EAeG,WAAW,IAAI,kBAAA,aAAA,CAAA,KAAA,EAAA;AAAK,cAAA,SAAS,YAAK,SAAL;AAAd,aAAA,EACd,kBAAA,aAAA,CAAA,KAAA,EAAA,IAAA,CADc,CAflB,CADF;AAqBD;;AACD,iBAAO,IAAP;AACD,SA1CM,CAAP;AA2CD;AACF;AAgBD;;;;;AAtUF;AAAA;AAAA,yCA0UuB,OA1UvB,EA0U8B;AAAA;;AAAA,UAClB,SADkB,GACJ,KAAK,KADD,CAClB,SADkB;;AAG1B,UAAI,OAAO,CAAC,MAAZ,EAAoB;AAClB,eACE,kBAAA,aAAA,CAAA,KAAA,EAAA;AAAK,UAAA,SAAS,YAAK,SAAL;AAAd,SAAA,EACE,kBAAA,aAAA,CAAA,GAAA,EAAA;AACE,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAAC,QAAL,CAAc,OAAd,CAAN;AAAA;AADX,SAAA,EAGG,uBAAG,OAAH,EAAY,MAAZ,CAHH,EAIG,KAAK,WAAL,IAAoB,KAAK,WAAL,CAAiB,MAArC,GAA8C,kBAAA,aAAA,CAAC,gBAAD,EAAK;AAAC,UAAA,IAAI,EAAC;AAAN,SAAL,CAA9C,GAA4E,kBAAA,aAAA,CAAC,gBAAD,EAAK;AAAC,UAAA,IAAI,EAAC;AAAN,SAAL,CAJ/E,CADF,CADF;AAUD;AACF;AAED;;;;AA3VF;AAAA;AAAA,oCA8Ve;AAAA,yBAUP,IAVO,CAET,KAFS;AAAA,UAGP,UAHO,gBAGP,UAHO;AAAA,UAIP,SAJO,gBAIP,SAJO;AAAA,UAKP,kBALO,gBAKP,kBALO;AAAA,UAQO,QARP,GAUP,IAVO,CAOT,OAPS,CAQP,UARO,CAQO,QARP;;AAYX,UAAI,UAAJ,EAAgB;AACd,YAAM,iBAAiB,GAAG,KAAK,aAAL,CAAmB,UAAU,CAAC,KAAX,CAAiB,CAAjB,EAAoB,kBAApB,CAAnB,CAA1B;AACA,YAAM,WAAW,GAAG,UAAU,CAAC,KAAX,CAAiB,kBAAjB,CAApB;AACA,YAAM,iBAAiB,GAA6B,KAAK,oBAAL,CAA0B,WAA1B,CAApD;AACA,YAAM,KAAK,GAAG,MAAM,IAAI,CAAC,GAAL,CAAS,UAAU,CAAC,MAApB,EAA4B,kBAA5B,CAAN,GAAyD,IAAI,CAAC,GAAL,CAAS,UAAU,CAAC,MAApB,EAA4B,kBAA5B,CAAvE;AACA,eACE,kBAAA,aAAA,CAAA,KAAA,EAAA;AACE,UAAA,SAAS,YAAK,SAAL,mBADX;AAEE,UAAA,KAAK,EAAE;AAAE,qBAAO,QAAQ,KAAA;AAAA;AAAR,cAAiD,MAAjD,GAA0D;AAAnE;AAFT,SAAA,EAIE,kBAAA,aAAA,CAAA,KAAA,EAAA;AAAK,UAAA,SAAS,YAAK,SAAL,mBAAd;AAA8C,UAAA,KAAK,EAAE;AAAE,YAAA,KAAK,EAAL;AAAF;AAArD,SAAA,EACG,iBADH,EAEG,KAAK,WAFR,CAJF,EAQG,iBARH,CADF;AAYD;AACF;AAED;;;;AA9XF;AAAA;AAAA,oCAiYe;AAAA;;AAAA,yBACoB,KAAK,KADzB;AAAA,UACH,OADG,gBACH,OADG;AAAA,UACM,SADN,gBACM,SADN;AAEX,UAAM,gBAAgB,GAAG,0BAAU,kBAAV,CAAzB;AACA,UAAM,QAAQ,GAAgD,EAA9D;;AACA,UAAI,OAAO,IAAI,OAAO,CAAC,MAAvB,EAA+B;AAC7B,QAAA,OAAO,CAAC,KAAR,CAAc,CAAd,EAAiB,OAAjB,CAAyB,UAAA,MAAM,EAAG;AAChC,cAAI,KAAK,GAAqB,EAA9B;;AACA,cAAI,uBAAY,MAAZ,CAAJ,EAAyB;AACvB,YAAA,KAAK,GAAG,MAAM,CAAC,CAAD,CAAN,IAAa,EAArB;AACA,YAAA,MAAM,GAAG,MAAM,CAAC,CAAD,CAAf;AACD;;AACD,cAAI,0BAAS,MAAT,KAAoB,MAAM,IAAI,qBAAlC,EAAmD;AAAA,yBACV,KADU;AAAA,gBACzC,UADyC,UACzC,UADyC;AAAA,gBAC1B,WAD0B;;AAEjD,gBAAM,kBAAkB,GAAG,MAAI,CAAC,cAAL,CAAoB,MAApB,CAA3B;;AACA,gBAAI,kBAAJ,EAAwB;AACtB,kBAAI,UAAJ,EAAgB;AAAA,oBACN,OADM,GACM,kBADN,CACN,OADM;;AAEd,gBAAA,kBAAkB,CAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,+CAA6B,kBAAM,CAAN;AAAA;AAAA;AAAA;AAAA;AAC3B,4BAAA,CAAC,CAAC,OAAF;AAD2B;AAAA;AAAA,mCAGnB,OAAO,CAAC,CAAD,CAHY;;AAAA;AAAA;AAKzB,4BAAA,UAAU,CAAC,CAAD,CAAV;AALyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA7B;;AAAA;AAAA;AAAA;AAAA;AAQD;;AACD,cAAA,QAAQ,CAAC,IAAT,CACE,kBAAA,aAAA,CAAC,iBAAK,IAAN,EAAU;AAAC,gBAAA,GAAG,EAAE,MAAN;AAAc,gBAAA,SAAS,YAAK,SAAL;AAAvB,eAAV,EACE,kBAAA,aAAA,CAAC,kBAAD,EAAO,0BAAA;AACL,gBAAA,GAAG,YAAK,MAAL;AADE,eAAA,EAED,gBAFC,EAGD,kBAHC,EAID,WAJC,CAAP,CADF,CADF;AAUD;AACF,WA1BD,MA0BO,IAAI,2BAA4B,MAA5B,CAAJ,EAAyC;AAC9C,YAAA,QAAQ,CAAC,IAAT,CACE,kBAAA,aAAA,CAAC,iBAAK,IAAN,EAAU;AAAC,cAAA,SAAS,YAAK,SAAL;AAAV,aAAV,EACG,yBAAa,MAAb,qCAA0B,gBAA1B,MAA+C,MAAM,CAAC,KAAtD,EADH,CADF;AAKD,WANM,MAMA,IAAI,0BAAS,MAAT,CAAJ,EAAsB;AAC3B,YAAA,QAAQ,CAAC,IAAT,CACE,kBAAA,aAAA,CAAC,iBAAK,IAAN,EAAU;AAAC,cAAA,SAAS,YAAK,SAAL;AAAV,aAAV,EACE,kBAAA,aAAA,CAAC,kBAAD,EAAO,0BAAA,EAAA,EAAK,gBAAL,EAA2B,MAA3B,CAAP,CADF,CADF;AAKD;AACF,SA7CD;AA8CD;;AACD,UAAM,IAAI,GACR,kBAAA,aAAA,CAAC,gBAAD,EAAK,IAAL,EACG,QADH,CADF;;AAKA,aACE,kBAAA,aAAA,CAAC,oBAAD,EAAS;AAAC,QAAA,OAAO,EAAE,IAAV;AAAgB,QAAA,GAAG,EAAC;AAApB,OAAT,EACE,kBAAA,aAAA,CAAC,kBAAD,EAAO,0BAAA,EAAA,EAAK,gBAAL,EAAqB;AAAE,QAAA,GAAG,EAAC;AAAN,OAArB,CAAP,EACG,uBAAG,OAAH,EAAY,aAAZ,CADH,E,GAAA,EAC+B,kBAAA,aAAA,CAAC,gBAAD,EAAK;AAAC,QAAA,IAAI,EAAC;AAAN,OAAL,CAD/B,CADF,CADF;AAOD;AAjcH;AAAA;AAAA,iCAmcY;AAAA;;AAAA,yBACwB,KAAK,KAD7B;AAAA,UACA,OADA,gBACA,OADA;AAAA,UACS,UADT,gBACS,UADT;AAER,UAAM,QAAQ,GAAgD,EAA9D;;AACA,UAAI,OAAJ,EAAa;AACX,YAAM,gBAAgB,GAAG,0BAAU,kBAAV,CAAzB;AACA,YAAM,UAAU,GAAG,UAAU,IAAI,OAAO,CAAC,MAAR,GAAiB,CAA/B,GAAmC,OAAO,CAAC,KAAR,CAAc,CAAd,EAAiB,CAAjB,CAAnC,GAAyD,OAA5E;AACA,QAAA,UAAU,CAAC,OAAX,CAAmB,UAAA,MAAM,EAAG;AAC1B,cAAI,KAAK,GAAqB,EAA9B;;AACA,cAAI,uBAAY,MAAZ,CAAJ,EAAyB;AACvB,YAAA,KAAK,GAAG,MAAM,CAAC,CAAD,CAAN,IAAa,EAArB;AACA,YAAA,MAAM,GAAG,MAAM,CAAC,CAAD,CAAf;AACD;;AACD,cAAI,0BAAS,MAAT,KAAoB,MAAM,IAAI,qBAAlC,EAAmD;AAAA,0BACV,KADU;AAAA,gBACzC,UADyC,WACzC,UADyC;AAAA,gBAC1B,WAD0B;;AAEjD,gBAAM,kBAAkB,GAAG,MAAI,CAAC,cAAL,CAAoB,MAApB,CAA3B;;AACA,gBAAI,kBAAJ,EAAwB;AACtB,kBAAI,UAAJ,EAAgB;AAAA,oBACN,OADM,GACM,kBADN,CACN,OADM;;AAEd,gBAAA,kBAAkB,CAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,+CAA6B,kBAAM,CAAN;AAAA;AAAA;AAAA;AAAA;AAC3B,4BAAA,CAAC,CAAC,OAAF;AAD2B;AAAA;AAAA,mCAGnB,OAAO,CAAC,CAAD,CAHY;;AAAA;AAAA;AAKzB,4BAAA,UAAU,CAAC,CAAD,CAAV;AALyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA7B;;AAAA;AAAA;AAAA;AAAA;AAQD;;AACD,cAAA,QAAQ,CAAC,IAAT,CACE,kBAAA,aAAA,CAAC,kBAAD,EAAO,0BAAA;AACL,gBAAA,GAAG,EAAE;AADA,eAAA,EAED,gBAFC,EAGD,kBAHC,EAID,WAJC,CAAP,CADF;AAQD;AACF,WAxBD,MAwBO,IAAI,2BAA4B,MAA5B,CAAJ,EAAyC;AAC9C,YAAA,QAAQ,CAAC,IAAT,CAAc,yBAAa,MAAb,qCAA0B,gBAA1B,MAA+C,MAAM,CAAC,KAAtD,EAAd;AACD,WAFM,MAEA,IAAI,0BAAS,MAAT,CAAJ,EAAsB;AAC3B,YAAA,QAAQ,CAAC,IAAT,CAAc,kBAAA,aAAA,CAAC,kBAAD,EAAO,0BAAA,EAAA,EAAK,gBAAL,EAA2B,MAA3B,CAAP,CAAd;AACD;AACF,SAnCD;;AAoCA,YAAI,UAAU,IAAI,OAAO,CAAC,MAAR,GAAiB,CAAnC,EAAsC;AACpC,cAAM,UAAU,GAAiB,KAAK,aAAL,EAAjC;AACA,UAAA,QAAQ,CAAC,IAAT,CAAc,UAAd;AACD;AACF;;AACD,aAAO,QAAP;AACD;AAnfH;AAAA;AAAA,qCAqfgB;AAAA,UAGM,OAHN,GAMR,IANQ,CAEV,OAFU,CAGR,UAHQ,CAGM,OAHN;AAAA,UAKD,WALC,GAMR,IANQ,CAKV,KALU,CAKD,WALC;AAAA,UAOJ,YAPI,GAOa,OAPb,CAOJ,YAPI;AAQZ,UAAM,MAAM,GAAwB,EAApC;;AACA,UAAI,YAAJ,EAAkB;AAAA,YACR,MADQ,GACG,YADH,CACR,MADQ;AAEhB,eAAO,oCAAI,MAAM,CAAC,OAAP,EAAJ,EAAsB,MAAtB,CAA6B,UAAC,IAAD,SAAwB;AAAA;AAAA,cAAhB,IAAgB;AAAA,cAAV,KAAU;;AAC1D,cAAI,CAAC,KAAK,CAAC,GAAN,CAAU,MAAV,CAAL,EAAwB;AACtB,gBAAM,KAAK,GAAQ;AACjB,cAAA,GAAG,EAAE,IADY;AAEjB,cAAA,IAAI,EAAJ,IAFiB;AAGjB,cAAA,OAAO,EAAE;AAHQ,aAAnB;AAKA,gBAAM,OAAO,GAAG,WAAY,CAAC,IAAD,CAA5B;AACA,YAAA,IAAI,CAAC,IAAL,CACE,2BAAe,OAAf,IACI,yBAAa,OAAb,EAAsB,KAAtB,CADJ,GAEI,yBAAa,6BAAiB,KAAjB,CAAb,qCACG,KADH,MAEI,0BAAS,OAAT,IAAoB,OAApB,GAA8B,EAFlC,EAHN;AAQD;;AACD,iBAAO,IAAP;AACD,SAlBM,EAkBJ,MAlBI,CAAP;AAmBD;;AACD,aAAO,MAAP;AACD;AArhBH;AAAA;AAAA,kCAuhBgB,KAvhBhB,EAuhB6C;AAAA,UACjC,SADiC,GACnB,KAAK,KADc,CACjC,SADiC;AAEzC,aAAO,kBAAA,aAAA,CAAC,wBAAD,EAAa,0BAAA;AAAC,QAAA,GAAG,EAAC,SAAL;AAAe,QAAA,SAAS,EAAE;AAA1B,OAAA,EAAyC,KAAzC,CAAb,CAAP;AACD;AA1hBH;AAAA;AAAA,oCA4hBkB,KA5hBlB,EA4hB+C;AAAA,yBAGvC,IAHuC,CAEzC,KAFyC;AAAA,UAEhC,SAFgC,gBAEhC,SAFgC;AAAA,UAErB,kBAFqB,gBAErB,kBAFqB;AAAA,UAED,oBAFC,gBAED,oBAFC;AAI3C,aACE,kBAAA,aAAA,CAAC,0BAAD,EAAe,0BAAA;AACb,QAAA,GAAG,EAAC,SADS;AAEb,QAAA,SAAS,EAAE,SAFE;AAGb,QAAA,SAAS,EAAE,kBAHE;AAIb,QAAA,WAAW,EAAE;AAJA,OAAA,EAKT,KALS,CAAf,CADF;AASD;AAziBH;AAAA;AAAA,2CA2iByB,KA3iBzB,EA2iBsD;AAAA,UAC1C,SAD0C,GAC5B,KAAK,KADuB,CAC1C,SAD0C;AAElD,aAAO,kBAAA,aAAA,CAAC,iCAAD,EAAsB,0BAAA;AAAC,QAAA,GAAG,EAAC,SAAL;AAAe,QAAA,SAAS,EAAE;AAA1B,OAAA,EAAyC,KAAzC,CAAtB,CAAP;AACD;AA9iBH;AAAA;AAAA,0CAgjBwB,KAhjBxB,EAgjBqD;AAAA,UACzC,SADyC,GAC3B,KAAK,KADsB,CACzC,SADyC;AAEjD,aAAO,kBAAA,aAAA,CAAC,gCAAD,EAAqB,0BAAA;AAAC,QAAA,GAAG,EAAC,SAAL;AAAe,QAAA,SAAS,EAAE;AAA1B,OAAA,EAAyC,KAAzC,CAArB,CAAP;AACD;AAnjBH;AAAA;AAAA,6BAqjBQ;AACJ,UAAM,OAAO,GAAG,KAAK,UAAL,EAAhB;AACA,UAAM,UAAU,GAAG,KAAK,aAAL,EAAnB;AAFI,mCASA,IATA,CAIF,OAJE,CAKA,UALA;AAAA,UAKc,OALd,0BAKc,OALd;AAAA,UAKuB,QALvB,0BAKuB,QALvB;AAAA,yBASA,IATA,CAOF,KAPE;AAAA,UAOO,gBAPP,gBAOO,gBAPP;AAAA,UAOyB,kBAPzB,gBAOyB,kBAPzB;AAAA,UAO6C,SAP7C,gBAO6C,SAP7C;AAAA,UAOwD,UAPxD,gBAOwD,UAPxD;AAAA,UAQF,YARE,GASA,IATA,CAQF,YARE;;AAUJ,UAAI,YAAJ,EAAkB;AAAA,YACR,YADQ,GACS,OADT,CACR,YADQ;AAEhB,YAAM,WAAW,GAAG,KAAK,cAAL,EAApB;AACA,YAAM,KAAK,GAA2B;AACpC,UAAA,OAAO,EAAP,OADoC;AAEpC,UAAA,YAAY,EAAZ,YAFoC;AAGpC,UAAA,OAAO,EAAP,OAHoC;AAIpC,UAAA,UAAU,EAAV,UAJoC;AAKpC,UAAA,WAAW,EAAX,WALoC;AAMpC,UAAA,gBAAgB,EAAE,gBANkB;AAOpC,UAAA,kBAAkB,EAAE,kBAPgB;AAQpC,UAAA,UAAU,EAAV;AARoC,SAAtC;;AAUA,YAAI,OAAO,QAAP,KAAoB,UAAxB,EAAoC;AAClC,iBAAQ,QAA8B,CAAC,KAAD,CAAtC;AACD;;AACD,gBAAQ,QAAR;AACE,eAAA;AAAA;AAAA;AACE,mBAAO,KAAK,aAAL,CAAmB,KAAnB,CAAP;;AACF,eAAA;AAAA;AAAA;AACE,mBAAO,KAAK,eAAL,CAAqB,KAArB,CAAP;;AACF,eAAA;AAAA;AAAA;AACE,mBAAO,KAAK,sBAAL,CAA4B,KAA5B,CAAP;;AACF,eAAA;AAAA;AAAA;AACE,mBAAO,KAAK,qBAAL,CAA2B,KAA3B,CAAP;;AACF;AATF;AAWD;;AACD,aAAO,CACL,kBAAA,aAAA,CAAC,wBAAD,EAAa;AAAC,QAAA,GAAG,EAAC,SAAL;AAAe,QAAA,SAAS,EAAE,SAA1B;AAAqC,QAAA,OAAO,EAAE;AAA9C,OAAb,EACG,UADH,CADK,EAIL,UAJK,CAAP;AAMD;AAjmBH;AAAA;AAAA,wBAoBkB;AAAA,UAEH,YAFG,GAMV,IANU,CAEZ,KAFY,CAEH,YAFG;AAAA,UAII,QAJJ,GAMV,IANU,CAGZ,OAHY,CAIV,UAJU,CAII,QAJJ;AAOd,aAAO,YAAY,KAAK,KAAjB,IAA0B,QAAQ,KAAA;AAAA;AAAzC;AACD;AA5BH;AAAA;AAAA,EAA2C,gBAA3C,CAAA;;AACS,aAAA,CAAA,WAAA,GAAc,eAAd;AAEA,aAAA,CAAA,WAAA,GAAc,wBAAd;AAaA,aAAA,CAAA,YAAA,GAAe;AACpB,EAAA,kBAAkB,EAAE;AADA,CAAf;AAFK,uBAAA,CAAX,gBAAW,CAAA,E,uBAAA,E,aAAA,E,KAA0B,CAA1B;AAuBZ,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,oBAAA,EAKC,IALD;AAQA,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,oBAAA,EAKC,IALD;AAQA,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,oBAAA,EAKC,IALD;AAQA,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,oBAAA,EAKC,IALD;AAQA,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,mBAAA,EAKC,IALD;AAQA,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,kBAAA,EAaC,IAbD;AAgBA,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,iBAAA,EAGC,IAHD;AAMA,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,mBAAA,EAGC,IAHD;AAMA,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,oBAAA,EAuCC,IAvCD;AA0CA,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,aAAA,EAKC,IALD;AAQA,uBAAA,CADC,oBACD,CAAA,E,uBAAA,E,cAAA,EAwBC,IAxBD;AAkKA,uBAAA,CADC,YACD,CAAA,E,uBAAA,E,UAAA,E,KAOE,CAPF;AA7TmB,aAAa,GAAA,uBAAA,CADjC,mBACiC,CAAA,EAAb,aAAa,CAAb;eAAA,a","sourcesContent":["import React, {\n  cloneElement,\n  Component,\n  isValidElement,\n  MouseEventHandler,\n  ReactElement,\n  ReactNode,\n} from 'react';\nimport { observer } from 'mobx-react';\nimport { action, isArrayLike, observable } from 'mobx';\nimport isObject from 'lodash/isObject';\nimport isString from 'lodash/isString';\nimport isNumber from 'lodash/isNumber';\nimport reduce from 'lodash/reduce';\nimport { pxToRem } from 'choerodon-ui/lib/_util/UnitConvertor';\nimport { getConfig } from 'choerodon-ui/lib/configure';\nimport Row from 'choerodon-ui/lib/row';\nimport Col from 'choerodon-ui/lib/col';\nimport Icon from 'choerodon-ui/lib/icon';\nimport { DropDownProps } from 'choerodon-ui/lib/dropdown';\nimport { TableButtonType, TableQueryBarType } from '../enum';\nimport TableButtons from './TableButtons';\nimport Table, {\n  Buttons,\n  SummaryBar,\n  SummaryBarHook,\n  TableButtonProps,\n  TableQueryBarHook,\n  TableQueryBarHookProps,\n} from '../Table';\nimport Button, { ButtonProps } from '../../button/Button';\nimport { ButtonType } from '../../button/enum';\nimport { DataSetStatus, FieldType, ExportMode } from '../../data-set/enum';\nimport { $l } from '../../locale-context';\nimport TableContext from '../TableContext';\nimport autobind from '../../_util/autobind';\nimport DataSet from '../../data-set';\nimport Modal from '../../modal';\nimport Column from '../Column';\nimport { getEditorByField } from '../utils';\nimport TableToolBar from './TableToolBar';\nimport TableFilterBar from './TableFilterBar';\nimport TableAdvancedQueryBar from './TableAdvancedQueryBar';\nimport TableProfessionalBar from './TableProfessionalBar';\nimport { PaginationProps } from '../../pagination/Pagination';\nimport { findBindFieldBy } from '../../data-set/utils';\nimport NumberField from '../../number-field';\nimport Dropdown from '../../dropdown/Dropdown';\nimport Menu from '../../menu';\n\nexport interface TableQueryBarProps {\n  prefixCls?: string;\n  buttons?: Buttons[];\n  queryFields?: { [key: string]: ReactElement<any> };\n  queryFieldsLimit?: number;\n  summaryFieldsLimit?: number;\n  showQueryBar?: boolean;\n  pagination?: ReactElement<PaginationProps>;\n  summaryBar?: SummaryBar[];\n  filterBarFieldName?: string;\n  filterBarPlaceholder?: string;\n}\n\n@observer\nexport default class TableQueryBar extends Component<TableQueryBarProps> {\n  static displayName = 'TableQueryBar';\n\n  static contextType = TableContext;\n\n  exportModal;\n\n  exportDataSet: DataSet;\n\n  exportQuantity: number;\n\n  /**\n   * 多行汇总\n   */\n  @observable moreSummary: SummaryBar[];\n\n  static defaultProps = {\n    summaryFieldsLimit: 3,\n  };\n\n  get showQueryBar(): boolean {\n    const {\n      props: { showQueryBar },\n      context: {\n        tableStore: { queryBar },\n      },\n    } = this;\n    return showQueryBar !== false && queryBar !== TableQueryBarType.none;\n  }\n\n  componentWillUnmount() {\n    if (this.exportModal) {\n      this.exportModal.close(true);\n    }\n  }\n\n  @autobind\n  handleButtonCreate() {\n    const {\n      tableStore: { dataSet },\n    } = this.context;\n    dataSet.create({}, 0);\n  }\n\n  @autobind\n  handleButtonSubmit() {\n    const {\n      tableStore: { dataSet },\n    } = this.context;\n    return dataSet.submit();\n  }\n\n  @autobind\n  handleButtonDelete() {\n    const {\n      tableStore: { dataSet },\n    } = this.context;\n    return dataSet.delete(dataSet.selected);\n  }\n\n  @autobind\n  handleButtonRemove() {\n    const {\n      tableStore: { dataSet },\n    } = this.context;\n    dataSet.remove(dataSet.selected);\n  }\n\n  @autobind\n  handleButtonReset() {\n    const {\n      tableStore: { dataSet },\n    } = this.context;\n    dataSet.reset();\n  }\n\n  @autobind\n  handleQueryReset() {\n    const {\n      tableStore: {\n        dataSet: { queryDataSet },\n      },\n    } = this.context;\n    if (queryDataSet) {\n      const { current } = queryDataSet;\n      if (current) {\n        current.reset();\n      }\n      this.handleQuery();\n    }\n  }\n\n  @autobind\n  handleExpandAll() {\n    const { tableStore } = this.context;\n    tableStore.expandAll();\n  }\n\n  @autobind\n  handleCollapseAll() {\n    const { tableStore } = this.context;\n    tableStore.collapseAll();\n  }\n\n  @autobind\n  async handleButtonExport() {\n    const { tableStore } = this.context;\n    const columnHeaders = await tableStore.getColumnHeaders();\n    const changeQuantity = (value: number) => {\n      this.exportQuantity = value;\n    };\n    const { prefixCls } = this.props;\n    this.exportDataSet = new DataSet({ data: columnHeaders, paging: false });\n    this.exportDataSet.selectAll();\n    this.exportQuantity = tableStore.dataSet.totalCount;\n    this.exportModal = Modal.open({\n      title: $l('Table', 'choose_export_columns'),\n      children: (\n        <>\n          <Table dataSet={this.exportDataSet} style={{ height: pxToRem(300) }}>\n            <Column header={$l('Table', 'column_name')} name=\"label\" resizable={false} />\n          </Table>\n          {\n            tableStore.dataSet.exportMode === ExportMode.client\n              ? (\n                <Row className={`${prefixCls}-export-quantity`}>\n                  <Col span={11}>\n                    <span>{$l('Table', 'max_export')}</span>\n                  </Col>\n                  <Col span={13}>\n                    <NumberField onChange={changeQuantity} defaultValue={this.exportQuantity} max={1000} clearButton min={0} step={1} />\n                  </Col>\n                </Row>\n              ) : undefined\n          }\n        </>\n      ),\n      closable: true,\n      okText: $l('Table', 'export_button'),\n      onOk: this.handleExport,\n      style: {\n        width: pxToRem(400),\n      },\n    });\n  }\n\n  @autobind\n  handleQuery() {\n    const {\n      tableStore: { dataSet },\n    } = this.context;\n    return dataSet.query();\n  }\n\n  @autobind\n  handleExport() {\n    const { selected } = this.exportDataSet;\n    if (selected.length) {\n      const {\n        tableStore: { dataSet },\n      } = this.context;\n      dataSet.export(\n        selected.reduce((columns, record) => {\n          let myName = record.get('name');\n          const myField = dataSet.getField(myName);\n          if (myField && myField.type === FieldType.object) {\n            const bindField = findBindFieldBy(myField, dataSet.fields, 'textField');\n            if (bindField) {\n              myName = bindField.name;\n            }\n          }\n          columns[myName] = record.get('label');\n          return columns;\n        }, {}),\n        this.exportQuantity,\n      );\n    } else {\n      return false;\n    }\n  }\n\n  getButtonProps(\n    type: TableButtonType,\n  ): ButtonProps & { onClick: MouseEventHandler<any>; children?: ReactNode } | undefined {\n    const {\n      tableStore: { isTree, dataSet },\n    } = this.context;\n    const disabled = dataSet.status !== DataSetStatus.ready;\n    switch (type) {\n      case TableButtonType.add:\n        return {\n          icon: 'playlist_add',\n          onClick: this.handleButtonCreate,\n          children: $l('Table', 'create_button'),\n          disabled: disabled || (dataSet.parent ? !dataSet.parent.current : false),\n        };\n      case TableButtonType.save:\n        return {\n          icon: 'save',\n          onClick: this.handleButtonSubmit,\n          children: $l('Table', 'save_button'),\n          type: ButtonType.submit,\n          disabled,\n        };\n      case TableButtonType.delete:\n        return {\n          icon: 'delete',\n          onClick: this.handleButtonDelete,\n          children: $l('Table', 'delete_button'),\n          disabled: disabled || dataSet.selected.length === 0,\n        };\n      case TableButtonType.remove:\n        return {\n          icon: 'remove_circle',\n          onClick: this.handleButtonRemove,\n          children: $l('Table', 'remove_button'),\n          disabled: disabled || dataSet.selected.length === 0,\n        };\n      case TableButtonType.reset:\n        return {\n          icon: 'undo',\n          onClick: this.handleButtonReset,\n          children: $l('Table', 'reset_button'),\n          type: ButtonType.reset,\n        };\n      case TableButtonType.query:\n        return { icon: 'search', onClick: this.handleQuery, children: $l('Table', 'query_button') };\n      case TableButtonType.export:\n        return {\n          icon: 'export',\n          onClick: this.handleButtonExport,\n          children: $l('Table', 'export_button'),\n        };\n      case TableButtonType.expandAll:\n        return isTree\n          ? {\n            icon: 'add_box',\n            onClick: this.handleExpandAll,\n            children: $l('Table', 'expand_button'),\n          }\n          : undefined;\n      case TableButtonType.collapseAll:\n        return isTree\n          ? {\n            icon: 'short_text',\n            onClick: this.handleCollapseAll,\n            children: $l('Table', 'collapse_button'),\n          }\n          : undefined;\n      default:\n    }\n  }\n\n  /**\n   * 渲染表头汇总列\n   * @param summary\n   */\n  renderSummary(summary) {\n    const {\n      props: { prefixCls, summaryBar, summaryFieldsLimit = 3 },\n      context: {\n        tableStore: { dataSet },\n      },\n    } = this;\n    const fieldTypeArr = [FieldType.currency, FieldType.number];\n    if (summaryBar && summary && summary.length) {\n      return summary.map((summaryCol, index) => {\n        const field = dataSet.getField(summaryCol);\n        const hasSeparate = summaryBar.length > summaryFieldsLimit! || index !== (summaryBar.length - 1);\n        if (isString(summaryCol) && field && fieldTypeArr.includes(field.type)) {\n          const summaryValue = reduce(dataSet.data.map((record) => isNumber(record.get(summaryCol)) ? record.get(summaryCol) : 0), (sum, n) => sum + n);\n          return (\n            <div key={field.get('name')}>\n              <div className={`${prefixCls}-summary-col`}>\n                <div className={`${prefixCls}-summary-col-label`} title={field.get('label')}>{field.get('label')}:</div>\n                <div className={`${prefixCls}-summary-col-value`} title={summaryValue}>{summaryValue}</div>\n              </div>\n              {hasSeparate && <div className={`${prefixCls}-summary-col-separate`}>\n                <div />\n              </div>}\n            </div>\n          );\n        }\n        if (typeof summaryCol === 'function') {\n          const summaryObj = (summaryCol as SummaryBarHook)({ summaryFieldsLimit, dataSet });\n          return (\n            <div key={isString(summaryObj.label) ? summaryObj.label : ''}>\n              <div className={`${prefixCls}-summary-col`}>\n                <div\n                  className={`${prefixCls}-summary-col-label`}\n                  title={isString(summaryObj.label) ? summaryObj.label : ''}\n                >\n                  {summaryObj.label}:\n                </div>\n                <div\n                  className={`${prefixCls}-summary-col-value`}\n                  title={isString(summaryObj.value) || isNumber(summaryObj.value) ? summaryObj.value.toString() : ''}\n                >\n                  {summaryObj.value}\n                </div>\n              </div>\n              {hasSeparate && <div className={`${prefixCls}-summary-col-separate`}>\n                <div />\n              </div>}\n            </div>\n          );\n        }\n        return null;\n      });\n    }\n  }\n\n  /**\n   * 点击汇总条展开收起\n   * @param summary\n   */\n  @action\n  openMore = (summary) => {\n    if (this.moreSummary && this.moreSummary.length) {\n      this.moreSummary = [];\n    } else {\n      this.moreSummary = this.renderSummary(summary);\n    }\n    return this.moreSummary;\n  };\n\n  /**\n   * 汇总条展开收起按钮\n   * @param summary\n   */\n  getMoreSummaryButton(summary) {\n    const { prefixCls } = this.props;\n\n    if (summary.length) {\n      return (\n        <div className={`${prefixCls}-summary-button-more`}>\n          <a\n            onClick={() => this.openMore(summary)}\n          >\n            {$l('Table', 'more')}\n            {this.moreSummary && this.moreSummary.length ? <Icon type='expand_less' /> : <Icon type='expand_more' />}\n          </a>\n        </div>\n      );\n    }\n  }\n\n  /**\n   * 渲染汇总条\n   */\n  getSummaryBar(): ReactElement<any> | undefined {\n    const {\n      props: {\n        summaryBar,\n        prefixCls,\n        summaryFieldsLimit,\n      },\n      context: {\n        tableStore: { queryBar },\n      },\n    } = this;\n\n    if (summaryBar) {\n      const currentSummaryBar = this.renderSummary(summaryBar.slice(0, summaryFieldsLimit));\n      const moreSummary = summaryBar.slice(summaryFieldsLimit);\n      const moreSummaryButton: ReactElement | undefined = this.getMoreSummaryButton(moreSummary);\n      const width = 170 * Math.min(summaryBar.length, summaryFieldsLimit!) + Math.min(summaryBar.length, summaryFieldsLimit!);\n      return (\n        <div\n          className={`${prefixCls}-summary-group`}\n          style={{ float: queryBar === TableQueryBarType.professionalBar ? 'left' : 'right' }}\n        >\n          <div className={`${prefixCls}-summary-group`} style={{ width }}>\n            {currentSummaryBar}\n            {this.moreSummary}\n          </div>\n          {moreSummaryButton}\n        </div>\n      );\n    }\n  }\n\n  /**\n   * 汇总条存在下 buttons 大于4个放入下拉\n   */\n  getMoreButton() {\n    const { buttons, prefixCls } = this.props;\n    const tableButtonProps = getConfig('tableButtonProps');\n    const children: ReactElement<ButtonProps | DropDownProps>[] = [];\n    if (buttons && buttons.length) {\n      buttons.slice(3).forEach(button => {\n        let props: TableButtonProps = {};\n        if (isArrayLike(button)) {\n          props = button[1] || {};\n          button = button[0];\n        }\n        if (isString(button) && button in TableButtonType) {\n          const { afterClick, ...buttonProps } = props;\n          const defaultButtonProps = this.getButtonProps(button);\n          if (defaultButtonProps) {\n            if (afterClick) {\n              const { onClick } = defaultButtonProps;\n              defaultButtonProps.onClick = async e => {\n                e.persist();\n                try {\n                  await onClick(e);\n                } finally {\n                  afterClick(e);\n                }\n              };\n            }\n            children.push(\n              <Menu.Item key={button} className={`${prefixCls}-summary-menu-item`}>\n                <Button\n                  key={`${button}-btn`}\n                  {...tableButtonProps}\n                  {...defaultButtonProps}\n                  {...buttonProps}\n                />\n              </Menu.Item>,\n            );\n          }\n        } else if (isValidElement<ButtonProps>(button)) {\n          children.push(\n            <Menu.Item className={`${prefixCls}-summary-menu-item`}>\n              {cloneElement(button, { ...tableButtonProps, ...button.props })}\n            </Menu.Item>,\n          );\n        } else if (isObject(button)) {\n          children.push(\n            <Menu.Item className={`${prefixCls}-summary-menu-item`}>\n              <Button {...tableButtonProps} {...button} />\n            </Menu.Item>,\n          );\n        }\n      });\n    }\n    const menu = (\n      <Menu>\n        {children}\n      </Menu>\n    );\n    return (\n      <Dropdown overlay={menu} key=\"dropdown_button\">\n        <Button {...tableButtonProps} key=\"more_button\">\n          {$l('Table', 'more_button')} <Icon type='expand_more' />\n        </Button>\n      </Dropdown>\n    );\n  }\n\n  getButtons(): ReactElement<ButtonProps>[] {\n    const { buttons, summaryBar } = this.props;\n    const children: ReactElement<ButtonProps | DropDownProps>[] = [];\n    if (buttons) {\n      const tableButtonProps = getConfig('tableButtonProps');\n      const buttonsArr = summaryBar && buttons.length > 4 ? buttons.slice(0, 3) : buttons;\n      buttonsArr.forEach(button => {\n        let props: TableButtonProps = {};\n        if (isArrayLike(button)) {\n          props = button[1] || {};\n          button = button[0];\n        }\n        if (isString(button) && button in TableButtonType) {\n          const { afterClick, ...buttonProps } = props;\n          const defaultButtonProps = this.getButtonProps(button);\n          if (defaultButtonProps) {\n            if (afterClick) {\n              const { onClick } = defaultButtonProps;\n              defaultButtonProps.onClick = async e => {\n                e.persist();\n                try {\n                  await onClick(e);\n                } finally {\n                  afterClick(e);\n                }\n              };\n            }\n            children.push(\n              <Button\n                key={button}\n                {...tableButtonProps}\n                {...defaultButtonProps}\n                {...buttonProps}\n              />,\n            );\n          }\n        } else if (isValidElement<ButtonProps>(button)) {\n          children.push(cloneElement(button, { ...tableButtonProps, ...button.props }));\n        } else if (isObject(button)) {\n          children.push(<Button {...tableButtonProps} {...button} />);\n        }\n      });\n      if (summaryBar && buttons.length > 4) {\n        const moreButton: ReactElement = this.getMoreButton();\n        children.push(moreButton);\n      }\n    }\n    return children;\n  }\n\n  getQueryFields(): ReactElement<any>[] {\n    const {\n      context: {\n        tableStore: { dataSet },\n      },\n      props: { queryFields },\n    } = this;\n    const { queryDataSet } = dataSet;\n    const result: ReactElement<any>[] = [];\n    if (queryDataSet) {\n      const { fields } = queryDataSet;\n      return [...fields.entries()].reduce((list, [name, field]) => {\n        if (!field.get('bind')) {\n          const props: any = {\n            key: name,\n            name,\n            dataSet: queryDataSet,\n          };\n          const element = queryFields![name];\n          list.push(\n            isValidElement(element)\n              ? cloneElement(element, props)\n              : cloneElement(getEditorByField(field), {\n                ...props,\n                ...(isObject(element) ? element : {}),\n              }),\n          );\n        }\n        return list;\n      }, result);\n    }\n    return result;\n  }\n\n  renderToolBar(props: TableQueryBarHookProps) {\n    const { prefixCls } = this.props;\n    return <TableToolBar key=\"toolbar\" prefixCls={prefixCls} {...props} />;\n  }\n\n  renderFilterBar(props: TableQueryBarHookProps) {\n    const {\n      props: { prefixCls, filterBarFieldName, filterBarPlaceholder },\n    } = this;\n    return (\n      <TableFilterBar\n        key=\"toolbar\"\n        prefixCls={prefixCls}\n        paramName={filterBarFieldName!}\n        placeholder={filterBarPlaceholder}\n        {...props}\n      />\n    );\n  }\n\n  renderAdvancedQueryBar(props: TableQueryBarHookProps) {\n    const { prefixCls } = this.props;\n    return <TableAdvancedQueryBar key=\"toolbar\" prefixCls={prefixCls} {...props} />;\n  }\n\n  renderProfessionalBar(props: TableQueryBarHookProps) {\n    const { prefixCls } = this.props;\n    return <TableProfessionalBar key=\"toolbar\" prefixCls={prefixCls} {...props} />;\n  }\n\n  render() {\n    const buttons = this.getButtons();\n    const summaryBar = this.getSummaryBar();\n    const {\n      context: {\n        tableStore: { dataSet, queryBar },\n      },\n      props: { queryFieldsLimit, summaryFieldsLimit, prefixCls, pagination },\n      showQueryBar,\n    } = this;\n    if (showQueryBar) {\n      const { queryDataSet } = dataSet;\n      const queryFields = this.getQueryFields();\n      const props: TableQueryBarHookProps = {\n        dataSet,\n        queryDataSet,\n        buttons,\n        pagination,\n        queryFields,\n        queryFieldsLimit: queryFieldsLimit!,\n        summaryFieldsLimit: summaryFieldsLimit!,\n        summaryBar,\n      };\n      if (typeof queryBar === 'function') {\n        return (queryBar as TableQueryBarHook)(props);\n      }\n      switch (queryBar) {\n        case TableQueryBarType.normal:\n          return this.renderToolBar(props);\n        case TableQueryBarType.bar:\n          return this.renderFilterBar(props);\n        case TableQueryBarType.advancedBar:\n          return this.renderAdvancedQueryBar(props);\n        case TableQueryBarType.professionalBar:\n          return this.renderProfessionalBar(props);\n        default:\n      }\n    }\n    return [\n      <TableButtons key=\"toolbar\" prefixCls={prefixCls} buttons={buttons}>\n        {summaryBar}\n      </TableButtons>,\n      pagination,\n    ];\n  }\n}\n"]}