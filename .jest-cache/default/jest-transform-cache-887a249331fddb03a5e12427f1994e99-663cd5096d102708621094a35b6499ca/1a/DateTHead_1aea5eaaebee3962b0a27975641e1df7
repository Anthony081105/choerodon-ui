a159b5a5a12c3e4cfdf459134ea5bfcb
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _react = _interopRequireWildcard(require("react"));

var _DateConstants = _interopRequireDefault(require("./DateConstants"));

var _moment = _interopRequireDefault(require("moment"));

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var DateTHead =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(DateTHead, _Component);

  var _super = _createSuper(DateTHead);

  function DateTHead() {
    (0, _classCallCheck2["default"])(this, DateTHead);
    return _super.apply(this, arguments);
  }

  (0, _createClass2["default"])(DateTHead, [{
    key: "render",
    value: function render() {
      var props = this.props;
      var value = props.value;
      var localeData = value.localeData();
      var prefixCls = props.prefixCls;
      var veryShortWeekdays = [];
      var weekDays = [];
      var firstDayOfWeek = localeData.firstDayOfWeek();
      var showWeekNumberEl;
      var now = (0, _moment["default"])();

      for (var dateColIndex = 0; dateColIndex < _DateConstants["default"].DATE_COL_COUNT; dateColIndex++) {
        var index = (firstDayOfWeek + dateColIndex) % _DateConstants["default"].DATE_COL_COUNT;
        now.day(index);
        veryShortWeekdays[dateColIndex] = localeData.weekdaysMin(now);
        weekDays[dateColIndex] = localeData.weekdaysShort(now);
      }

      if (props.showWeekNumber) {
        showWeekNumberEl = _react["default"].createElement("th", {
          role: "columnheader",
          className: "".concat(prefixCls, "-column-header ").concat(prefixCls, "-week-number-header")
        }, _react["default"].createElement("span", {
          className: "".concat(prefixCls, "-column-header-inner")
        }, "x"));
      }

      var weekDaysEls = weekDays.map(function (day, xindex) {
        return _react["default"].createElement("th", {
          key: xindex,
          role: "columnheader",
          title: day,
          className: "".concat(prefixCls, "-column-header")
        }, _react["default"].createElement("span", {
          className: "".concat(prefixCls, "-column-header-inner")
        }, veryShortWeekdays[xindex]));
      });
      return _react["default"].createElement("thead", null, _react["default"].createElement("tr", {
        role: "row"
      }, showWeekNumberEl, weekDaysEls));
    }
  }]);
  return DateTHead;
}(_react.Component);

exports["default"] = DateTHead;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRhdGVUSGVhZC5qc3giXSwibmFtZXMiOlsiRGF0ZVRIZWFkIiwicHJvcHMiLCJ2YWx1ZSIsImxvY2FsZURhdGEiLCJwcmVmaXhDbHMiLCJ2ZXJ5U2hvcnRXZWVrZGF5cyIsIndlZWtEYXlzIiwiZmlyc3REYXlPZldlZWsiLCJzaG93V2Vla051bWJlckVsIiwibm93IiwiZGF0ZUNvbEluZGV4IiwiRGF0ZUNvbnN0YW50cyIsIkRBVEVfQ09MX0NPVU5UIiwiaW5kZXgiLCJkYXkiLCJ3ZWVrZGF5c01pbiIsIndlZWtkYXlzU2hvcnQiLCJzaG93V2Vla051bWJlciIsIndlZWtEYXlzRWxzIiwibWFwIiwieGluZGV4IiwiQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUdNQSxTOzs7Ozs7Ozs7Ozs7Ozs2QkFDSztBQUNQLFVBQU1DLEtBQUssR0FBRyxLQUFLQSxLQUFuQjtBQUNBLFVBQU1DLEtBQUssR0FBR0QsS0FBSyxDQUFDQyxLQUFwQjtBQUNBLFVBQU1DLFVBQVUsR0FBR0QsS0FBSyxDQUFDQyxVQUFOLEVBQW5CO0FBQ0EsVUFBTUMsU0FBUyxHQUFHSCxLQUFLLENBQUNHLFNBQXhCO0FBQ0EsVUFBTUMsaUJBQWlCLEdBQUcsRUFBMUI7QUFDQSxVQUFNQyxRQUFRLEdBQUcsRUFBakI7QUFDQSxVQUFNQyxjQUFjLEdBQUdKLFVBQVUsQ0FBQ0ksY0FBWCxFQUF2QjtBQUNBLFVBQUlDLGdCQUFKO0FBQ0EsVUFBTUMsR0FBRyxHQUFHLHlCQUFaOztBQUNBLFdBQUssSUFBSUMsWUFBWSxHQUFHLENBQXhCLEVBQTJCQSxZQUFZLEdBQUdDLDBCQUFjQyxjQUF4RCxFQUF3RUYsWUFBWSxFQUFwRixFQUF3RjtBQUN0RixZQUFNRyxLQUFLLEdBQUcsQ0FBQ04sY0FBYyxHQUFHRyxZQUFsQixJQUFrQ0MsMEJBQWNDLGNBQTlEO0FBQ0FILFFBQUFBLEdBQUcsQ0FBQ0ssR0FBSixDQUFRRCxLQUFSO0FBQ0FSLFFBQUFBLGlCQUFpQixDQUFDSyxZQUFELENBQWpCLEdBQWtDUCxVQUFVLENBQUNZLFdBQVgsQ0FBdUJOLEdBQXZCLENBQWxDO0FBQ0FILFFBQUFBLFFBQVEsQ0FBQ0ksWUFBRCxDQUFSLEdBQXlCUCxVQUFVLENBQUNhLGFBQVgsQ0FBeUJQLEdBQXpCLENBQXpCO0FBQ0Q7O0FBRUQsVUFBSVIsS0FBSyxDQUFDZ0IsY0FBVixFQUEwQjtBQUN4QlQsUUFBQUEsZ0JBQWdCLEdBQ2Q7QUFDRSxVQUFBLElBQUksRUFBQyxjQURQO0FBRUUsVUFBQSxTQUFTLFlBQUtKLFNBQUwsNEJBQWdDQSxTQUFoQztBQUZYLFdBSUU7QUFBTSxVQUFBLFNBQVMsWUFBS0EsU0FBTDtBQUFmLGVBSkYsQ0FERjtBQU9EOztBQUNELFVBQU1jLFdBQVcsR0FBR1osUUFBUSxDQUFDYSxHQUFULENBQWEsVUFBQ0wsR0FBRCxFQUFNTSxNQUFOLEVBQWlCO0FBQ2hELGVBQ0U7QUFDRSxVQUFBLEdBQUcsRUFBRUEsTUFEUDtBQUVFLFVBQUEsSUFBSSxFQUFDLGNBRlA7QUFHRSxVQUFBLEtBQUssRUFBRU4sR0FIVDtBQUlFLFVBQUEsU0FBUyxZQUFLVixTQUFMO0FBSlgsV0FNRTtBQUFNLFVBQUEsU0FBUyxZQUFLQSxTQUFMO0FBQWYsV0FDQ0MsaUJBQWlCLENBQUNlLE1BQUQsQ0FEbEIsQ0FORixDQURGO0FBV0QsT0FabUIsQ0FBcEI7QUFhQSxhQUFRLCtDQUNSO0FBQUksUUFBQSxJQUFJLEVBQUM7QUFBVCxTQUNHWixnQkFESCxFQUVHVSxXQUZILENBRFEsQ0FBUjtBQU1EOzs7RUE5Q3FCRyxnQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGF0ZUNvbnN0YW50cyBmcm9tICcuL0RhdGVDb25zdGFudHMnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5leHBvcnQgZGVmYXVsdFxuY2xhc3MgRGF0ZVRIZWFkIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICAgIGNvbnN0IGxvY2FsZURhdGEgPSB2YWx1ZS5sb2NhbGVEYXRhKCk7XG4gICAgY29uc3QgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuICAgIGNvbnN0IHZlcnlTaG9ydFdlZWtkYXlzID0gW107XG4gICAgY29uc3Qgd2Vla0RheXMgPSBbXTtcbiAgICBjb25zdCBmaXJzdERheU9mV2VlayA9IGxvY2FsZURhdGEuZmlyc3REYXlPZldlZWsoKTtcbiAgICBsZXQgc2hvd1dlZWtOdW1iZXJFbDtcbiAgICBjb25zdCBub3cgPSBtb21lbnQoKTtcbiAgICBmb3IgKGxldCBkYXRlQ29sSW5kZXggPSAwOyBkYXRlQ29sSW5kZXggPCBEYXRlQ29uc3RhbnRzLkRBVEVfQ09MX0NPVU5UOyBkYXRlQ29sSW5kZXgrKykge1xuICAgICAgY29uc3QgaW5kZXggPSAoZmlyc3REYXlPZldlZWsgKyBkYXRlQ29sSW5kZXgpICUgRGF0ZUNvbnN0YW50cy5EQVRFX0NPTF9DT1VOVDtcbiAgICAgIG5vdy5kYXkoaW5kZXgpO1xuICAgICAgdmVyeVNob3J0V2Vla2RheXNbZGF0ZUNvbEluZGV4XSA9IGxvY2FsZURhdGEud2Vla2RheXNNaW4obm93KTtcbiAgICAgIHdlZWtEYXlzW2RhdGVDb2xJbmRleF0gPSBsb2NhbGVEYXRhLndlZWtkYXlzU2hvcnQobm93KTtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuc2hvd1dlZWtOdW1iZXIpIHtcbiAgICAgIHNob3dXZWVrTnVtYmVyRWwgPSAoXG4gICAgICAgIDx0aFxuICAgICAgICAgIHJvbGU9XCJjb2x1bW5oZWFkZXJcIlxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1jb2x1bW4taGVhZGVyICR7cHJlZml4Q2xzfS13ZWVrLW51bWJlci1oZWFkZXJgfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWNvbHVtbi1oZWFkZXItaW5uZXJgfT54PC9zcGFuPlxuICAgICAgICA8L3RoPik7XG4gICAgfVxuICAgIGNvbnN0IHdlZWtEYXlzRWxzID0gd2Vla0RheXMubWFwKChkYXksIHhpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHRoXG4gICAgICAgICAga2V5PXt4aW5kZXh9XG4gICAgICAgICAgcm9sZT1cImNvbHVtbmhlYWRlclwiXG4gICAgICAgICAgdGl0bGU9e2RheX1cbiAgICAgICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tY29sdW1uLWhlYWRlcmB9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tY29sdW1uLWhlYWRlci1pbm5lcmB9PlxuICAgICAgICAgIHt2ZXJ5U2hvcnRXZWVrZGF5c1t4aW5kZXhdfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC90aD4pO1xuICAgIH0pO1xuICAgIHJldHVybiAoPHRoZWFkPlxuICAgIDx0ciByb2xlPVwicm93XCI+XG4gICAgICB7c2hvd1dlZWtOdW1iZXJFbH1cbiAgICAgIHt3ZWVrRGF5c0Vsc31cbiAgICA8L3RyPlxuICAgIDwvdGhlYWQ+KTtcbiAgfVxufVxuIl19