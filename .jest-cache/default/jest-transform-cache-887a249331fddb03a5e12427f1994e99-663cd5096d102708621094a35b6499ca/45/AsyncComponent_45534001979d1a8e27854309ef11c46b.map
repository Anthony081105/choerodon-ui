{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/_util/AsyncComponent.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,IAAM,cAAc,GAAG,SAAjB,cAAiB,CAAC,eAAD,EAAkD;AAAA,MACjE,cADiE;AAAA;AAAA;AAAA;;AAAA;;AACvE,8BAAA;AAAA;;AAAA;;AACE,YAAA,KAAA,GAA6B,EAA7B;AADF;AAiBC;;AAlBsE;AAAA;AAAA,0CAIpD;AAAA;;AACf,QAAA,eAAe,GAAG,IAAlB,CAAuB,gBAA2B;AAAA,cAAf,SAAe;;AAChD,UAAA,MAAI,CAAC,QAAL,CAAc;AAAE,YAAA,SAAS,EAAT;AAAF,WAAd;AACD,SAFD,EAEG,qBAFH;AAGD;AARoE;AAAA;AAAA,+BAU/D;AAAA,YACe,GADf,GACuB,KAAK,KAD5B,CACI,SADJ;AAGJ,eAAO,GAAG,GACN,kBAAA,aAAA,CAAC,GAAD,EAAI,0BAAA,EAAA,EAAK,KAAK,KAAV,CAAJ,CADM,GAEN,kBAAA,aAAA,CAAC,gBAAD,EAAK,IAAL,CAFJ;AAGD;AAhBoE;AAAA;AAAA,IAC1C,gBAD0C;;AAoBvE,SAAO,cAAP;AACD,CArBD;;eAuBe,c","sourcesContent":["import React, { Component, ComponentType } from 'react';\nimport Spin from '../spin';\nimport exception from './exception';\n\ninterface AsyncComponentState {\n  component?: ComponentType;\n}\n\nexport type AsyncCmpLoadingFunction = () => Promise<{ default: ComponentType }>;\n\nconst asyncComponent = (importComponent: AsyncCmpLoadingFunction): any => {\n  class AsyncComponent extends Component<any> {\n    state: AsyncComponentState = {};\n\n    componentDidMount() {\n      importComponent().then(({ default: component }) => {\n        this.setState({ component });\n      }, exception);\n    }\n\n    render() {\n      const { component: Cmp } = this.state;\n\n      return Cmp\n        ? <Cmp {...this.props} />\n        : <Spin />;\n    }\n\n  }\n\n  return AsyncComponent;\n};\n\nexport default asyncComponent;\n"]}