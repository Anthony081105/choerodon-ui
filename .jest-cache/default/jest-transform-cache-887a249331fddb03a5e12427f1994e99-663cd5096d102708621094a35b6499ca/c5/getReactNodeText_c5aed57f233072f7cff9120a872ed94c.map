{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/_util/getReactNodeText.tsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;SAE8B,gB;;;;;;;+BAAf,iBAAgC,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACT,IADS;AAAA;AAAA;AAAA;;AAAA,kBAEP,0BAAS,IAAT,KAAkB,0BAAS,IAAT,CAFX;AAAA;AAAA;AAAA;;AAAA,6CAGF,MAAM,CAAC,IAAD,CAHJ;;AAAA;AAAA,kBAKP,OAAO,MAAP,KAAkB,WAAlB,IAAiC,2BAAe,IAAf,CAL1B;AAAA;AAAA;AAAA;;AAMH,YAAA,OANG,GAMO,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CANP;AAOT,YAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,OAA1B;AAPS;AAAA,mBAQH,IAAI,OAAJ,CAAY,UAAA,OAAO;AAAA,qBAAI,sBAAO,IAAP,EAAa,OAAb,EAAsB,OAAtB,CAAJ;AAAA,aAAnB,CARG;;AAAA;AASD,YAAA,WATC,GASe,OATf,CASD,WATC;AAUT,kDAAuB,OAAvB;;AACA,gBAAI,OAAO,CAAC,UAAZ,EAAwB;AACtB,cAAA,OAAO,CAAC,UAAR,CAAmB,WAAnB,CAA+B,OAA/B;AACD;;AAbQ,6CAcF,WAAW,IAAI,EAdb;;AAAA;AAAA,6CAgBJ,0BAAS,IAAT,CAhBI;;AAAA;AAAA,6CAkBN,EAlBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { isValidElement, ReactNode } from 'react';\nimport { render, unmountComponentAtNode } from 'react-dom';\nimport isString from 'lodash/isString';\nimport isNumber from 'lodash/isNumber';\nimport toString from 'lodash/toString';\n\nexport default async function getReactNodeText(node: ReactNode): Promise<string> {\n  if (node) {\n    if (isString(node) || isNumber(node)) {\n      return String(node);\n    }\n    if (typeof window !== 'undefined' && isValidElement(node)) {\n      const textDiv = document.createElement('div');\n      document.body.appendChild(textDiv);\n      await new Promise(resolve => render(node, textDiv, resolve));\n      const { textContent } = textDiv;\n      unmountComponentAtNode(textDiv);\n      if (textDiv.parentNode) {\n        textDiv.parentNode.removeChild(textDiv);\n      }\n      return textContent || '';\n    }\n    return toString(node);\n  }\n  return '';\n}\n"]}