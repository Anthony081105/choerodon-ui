ff5203327caf0fb40b6b5b842396529d
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = getSearchWord;

function getWord(text, position) {
  var str = String(text);
  /* eslint no-bitwise:0 */

  var pos = Number(position) >>> 0; // Search for the word's beginning and end.

  var left = str.slice(0, pos + 1).search(/\S+$/);
  var right = str.slice(pos).search(/\s/);

  if (right < 0) {
    return {
      word: str.slice(left),
      begin: left,
      end: str.length
    };
  } // Return the word, using the located bounds to extract it from the string.


  return {
    word: str.slice(left, right + pos),
    begin: left,
    end: right + pos
  };
}

function getSearchWord(editorState, selection) {
  var anchorKey = selection.getAnchorKey();
  var anchorOffset = selection.getAnchorOffset() - 1;
  var currentContent = editorState.getCurrentContent();
  var currentBlock = currentContent.getBlockForKey(anchorKey);

  if (currentBlock) {
    var blockText = currentBlock.getText();
    return getWord(blockText, anchorOffset);
  }

  return '';
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldFNlYXJjaFdvcmQuanN4Il0sIm5hbWVzIjpbImdldFdvcmQiLCJ0ZXh0IiwicG9zaXRpb24iLCJzdHIiLCJTdHJpbmciLCJwb3MiLCJOdW1iZXIiLCJsZWZ0Iiwic2xpY2UiLCJzZWFyY2giLCJyaWdodCIsIndvcmQiLCJiZWdpbiIsImVuZCIsImxlbmd0aCIsImdldFNlYXJjaFdvcmQiLCJlZGl0b3JTdGF0ZSIsInNlbGVjdGlvbiIsImFuY2hvcktleSIsImdldEFuY2hvcktleSIsImFuY2hvck9mZnNldCIsImdldEFuY2hvck9mZnNldCIsImN1cnJlbnRDb250ZW50IiwiZ2V0Q3VycmVudENvbnRlbnQiLCJjdXJyZW50QmxvY2siLCJnZXRCbG9ja0ZvcktleSIsImJsb2NrVGV4dCIsImdldFRleHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxTQUFTQSxPQUFULENBQWlCQyxJQUFqQixFQUF1QkMsUUFBdkIsRUFBaUM7QUFDL0IsTUFBTUMsR0FBRyxHQUFHQyxNQUFNLENBQUNILElBQUQsQ0FBbEI7QUFDQTs7QUFDQSxNQUFNSSxHQUFHLEdBQUdDLE1BQU0sQ0FBQ0osUUFBRCxDQUFOLEtBQXFCLENBQWpDLENBSCtCLENBSy9COztBQUNBLE1BQU1LLElBQUksR0FBR0osR0FBRyxDQUFDSyxLQUFKLENBQVUsQ0FBVixFQUFhSCxHQUFHLEdBQUcsQ0FBbkIsRUFBc0JJLE1BQXRCLENBQTZCLE1BQTdCLENBQWI7QUFDQSxNQUFNQyxLQUFLLEdBQUdQLEdBQUcsQ0FBQ0ssS0FBSixDQUFVSCxHQUFWLEVBQWVJLE1BQWYsQ0FBc0IsSUFBdEIsQ0FBZDs7QUFHQSxNQUFJQyxLQUFLLEdBQUcsQ0FBWixFQUFlO0FBQ2IsV0FBTztBQUNMQyxNQUFBQSxJQUFJLEVBQUVSLEdBQUcsQ0FBQ0ssS0FBSixDQUFVRCxJQUFWLENBREQ7QUFFTEssTUFBQUEsS0FBSyxFQUFFTCxJQUZGO0FBR0xNLE1BQUFBLEdBQUcsRUFBRVYsR0FBRyxDQUFDVztBQUhKLEtBQVA7QUFLRCxHQWhCOEIsQ0FrQi9COzs7QUFDQSxTQUFPO0FBQ0xILElBQUFBLElBQUksRUFBRVIsR0FBRyxDQUFDSyxLQUFKLENBQVVELElBQVYsRUFBZ0JHLEtBQUssR0FBR0wsR0FBeEIsQ0FERDtBQUVMTyxJQUFBQSxLQUFLLEVBQUVMLElBRkY7QUFHTE0sSUFBQUEsR0FBRyxFQUFFSCxLQUFLLEdBQUdMO0FBSFIsR0FBUDtBQUtEOztBQUVjLFNBQVNVLGFBQVQsQ0FBdUJDLFdBQXZCLEVBQW9DQyxTQUFwQyxFQUErQztBQUM1RCxNQUFNQyxTQUFTLEdBQUdELFNBQVMsQ0FBQ0UsWUFBVixFQUFsQjtBQUNBLE1BQU1DLFlBQVksR0FBR0gsU0FBUyxDQUFDSSxlQUFWLEtBQThCLENBQW5EO0FBQ0EsTUFBTUMsY0FBYyxHQUFHTixXQUFXLENBQUNPLGlCQUFaLEVBQXZCO0FBQ0EsTUFBTUMsWUFBWSxHQUFHRixjQUFjLENBQUNHLGNBQWYsQ0FBOEJQLFNBQTlCLENBQXJCOztBQUNBLE1BQUlNLFlBQUosRUFBa0I7QUFDaEIsUUFBTUUsU0FBUyxHQUFHRixZQUFZLENBQUNHLE9BQWIsRUFBbEI7QUFDQSxXQUFPM0IsT0FBTyxDQUFDMEIsU0FBRCxFQUFZTixZQUFaLENBQWQ7QUFDRDs7QUFDRCxTQUFPLEVBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGdldFdvcmQodGV4dCwgcG9zaXRpb24pIHtcbiAgY29uc3Qgc3RyID0gU3RyaW5nKHRleHQpO1xuICAvKiBlc2xpbnQgbm8tYml0d2lzZTowICovXG4gIGNvbnN0IHBvcyA9IE51bWJlcihwb3NpdGlvbikgPj4+IDA7XG5cbiAgLy8gU2VhcmNoIGZvciB0aGUgd29yZCdzIGJlZ2lubmluZyBhbmQgZW5kLlxuICBjb25zdCBsZWZ0ID0gc3RyLnNsaWNlKDAsIHBvcyArIDEpLnNlYXJjaCgvXFxTKyQvKTtcbiAgY29uc3QgcmlnaHQgPSBzdHIuc2xpY2UocG9zKS5zZWFyY2goL1xccy8pO1xuXG5cbiAgaWYgKHJpZ2h0IDwgMCkge1xuICAgIHJldHVybiB7XG4gICAgICB3b3JkOiBzdHIuc2xpY2UobGVmdCksXG4gICAgICBiZWdpbjogbGVmdCxcbiAgICAgIGVuZDogc3RyLmxlbmd0aCxcbiAgICB9O1xuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSB3b3JkLCB1c2luZyB0aGUgbG9jYXRlZCBib3VuZHMgdG8gZXh0cmFjdCBpdCBmcm9tIHRoZSBzdHJpbmcuXG4gIHJldHVybiB7XG4gICAgd29yZDogc3RyLnNsaWNlKGxlZnQsIHJpZ2h0ICsgcG9zKSxcbiAgICBiZWdpbjogbGVmdCxcbiAgICBlbmQ6IHJpZ2h0ICsgcG9zLFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRTZWFyY2hXb3JkKGVkaXRvclN0YXRlLCBzZWxlY3Rpb24pIHtcbiAgY29uc3QgYW5jaG9yS2V5ID0gc2VsZWN0aW9uLmdldEFuY2hvcktleSgpO1xuICBjb25zdCBhbmNob3JPZmZzZXQgPSBzZWxlY3Rpb24uZ2V0QW5jaG9yT2Zmc2V0KCkgLSAxO1xuICBjb25zdCBjdXJyZW50Q29udGVudCA9IGVkaXRvclN0YXRlLmdldEN1cnJlbnRDb250ZW50KCk7XG4gIGNvbnN0IGN1cnJlbnRCbG9jayA9IGN1cnJlbnRDb250ZW50LmdldEJsb2NrRm9yS2V5KGFuY2hvcktleSk7XG4gIGlmIChjdXJyZW50QmxvY2spIHtcbiAgICBjb25zdCBibG9ja1RleHQgPSBjdXJyZW50QmxvY2suZ2V0VGV4dCgpO1xuICAgIHJldHVybiBnZXRXb3JkKGJsb2NrVGV4dCwgYW5jaG9yT2Zmc2V0KTtcbiAgfVxuICByZXR1cm4gJyc7XG59XG4iXX0=