e9f621dddf1983b1b616a5b7c25bf4c0
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _enhancer = _interopRequireDefault(require("./enhancer"));

var _types = require("./types");

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var Circle =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(Circle, _Component);

  var _super = _createSuper(Circle);

  function Circle() {
    (0, _classCallCheck2["default"])(this, Circle);
    return _super.apply(this, arguments);
  }

  (0, _createClass2["default"])(Circle, [{
    key: "getPathStyles",
    value: function getPathStyles() {
      var _this$props = this.props,
          percent = _this$props.percent,
          strokeWidth = _this$props.strokeWidth,
          _this$props$gapDegree = _this$props.gapDegree,
          gapDegree = _this$props$gapDegree === void 0 ? 0 : _this$props$gapDegree,
          gapPosition = _this$props.gapPosition;
      var radius = 50 - strokeWidth / 2;
      var beginPositionX = 0;
      var beginPositionY = -radius;
      var endPositionX = 0;
      var endPositionY = -2 * radius;

      switch (gapPosition) {
        case 'left':
          beginPositionX = -radius;
          beginPositionY = 0;
          endPositionX = 2 * radius;
          endPositionY = 0;
          break;

        case 'right':
          beginPositionX = radius;
          beginPositionY = 0;
          endPositionX = -2 * radius;
          endPositionY = 0;
          break;

        case 'bottom':
          beginPositionY = radius;
          endPositionY = 2 * radius;
          break;

        default:
      }

      var pathString = "M 50,50 m ".concat(beginPositionX, ",").concat(beginPositionY, "\n     a ").concat(radius, ",").concat(radius, " 0 1 1 ").concat(endPositionX, ",").concat(-endPositionY, "\n     a ").concat(radius, ",").concat(radius, " 0 1 1 ").concat(-endPositionX, ",").concat(endPositionY);
      var len = Math.PI * 2 * radius;
      var trailPathStyle = {
        strokeDasharray: "".concat(len - gapDegree, "px ").concat(len, "px"),
        strokeDashoffset: "-".concat(gapDegree / 2, "px"),
        transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s'
      };
      var strokePathStyle = {
        strokeDasharray: "".concat(percent / 100 * (len - gapDegree), "px ").concat(len, "px"),
        strokeDashoffset: "-".concat(gapDegree / 2, "px"),
        transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s' // eslint-disable-line

      };
      return {
        pathString: pathString,
        trailPathStyle: trailPathStyle,
        strokePathStyle: strokePathStyle
      };
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      var _this$props2 = this.props,
          prefixCls = _this$props2.prefixCls,
          strokeWidth = _this$props2.strokeWidth,
          trailWidth = _this$props2.trailWidth,
          strokeColor = _this$props2.strokeColor,
          percent = _this$props2.percent,
          trailColor = _this$props2.trailColor,
          strokeLinecap = _this$props2.strokeLinecap,
          style = _this$props2.style,
          className = _this$props2.className,
          restProps = (0, _objectWithoutProperties2["default"])(_this$props2, ["prefixCls", "strokeWidth", "trailWidth", "strokeColor", "percent", "trailColor", "strokeLinecap", "style", "className"]);

      var _this$getPathStyles = this.getPathStyles(),
          pathString = _this$getPathStyles.pathString;

      var _this$getPathStyles2 = this.getPathStyles(),
          trailPathStyle = _this$getPathStyles2.trailPathStyle,
          strokePathStyle = _this$getPathStyles2.strokePathStyle;

      trailPathStyle = trailColor ? (0, _objectSpread2["default"])({}, trailPathStyle, {
        stroke: trailColor
      }) : trailPathStyle;
      strokePathStyle = strokeColor ? (0, _objectSpread2["default"])({}, strokePathStyle, {
        stroke: strokeColor
      }) : strokePathStyle;
      delete restProps.percent;
      delete restProps.gapDegree;
      delete restProps.gapPosition;
      return _react["default"].createElement("svg", (0, _extends2["default"])({
        className: "".concat(prefixCls, "-circle ").concat(className),
        viewBox: "0 0 100 100",
        style: style
      }, restProps), _react["default"].createElement("path", {
        className: "".concat(prefixCls, "-circle-trail"),
        d: pathString,
        stroke: trailColor,
        strokeWidth: trailWidth || strokeWidth,
        fillOpacity: "0",
        style: trailPathStyle
      }), _react["default"].createElement("path", {
        className: "".concat(prefixCls, "-circle-path"),
        d: pathString,
        strokeLinecap: strokeLinecap,
        stroke: strokeColor,
        strokeWidth: this.props.percent === 0 ? 0 : strokeWidth,
        fillOpacity: "0",
        ref: function ref(path) {
          _this.path = path;
        },
        style: strokePathStyle
      }));
    }
  }]);
  return Circle;
}(_react.Component);

(0, _defineProperty2["default"])(Circle, "propTypes", (0, _objectSpread2["default"])({}, _types.propTypes, {
  gapPosition: _propTypes["default"].oneOf(['top', 'bottom', 'left', 'right'])
}));
(0, _defineProperty2["default"])(Circle, "defaultProps", (0, _objectSpread2["default"])({}, _types.defaultProps, {
  gapPosition: 'top'
}));

var _default = (0, _enhancer["default"])(Circle);

exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2dyZXNzL0NpcmNsZS5qc3giXSwibmFtZXMiOlsiQ2lyY2xlIiwiQ29tcG9uZW50IiwicHJvcFR5cGVzIiwiZ2FwUG9zaXRpb24iLCJQcm9wVHlwZXMiLCJkZWZhdWx0UHJvcHMiLCJwZXJjZW50Iiwic3Ryb2tlV2lkdGgiLCJnYXBEZWdyZWUiLCJyYWRpdXMiLCJiZWdpblBvc2l0aW9uWCIsImJlZ2luUG9zaXRpb25ZIiwiZW5kUG9zaXRpb25YIiwiZW5kUG9zaXRpb25ZIiwicGF0aFN0cmluZyIsImxlbiIsIk1hdGgiLCJ0cmFpbFBhdGhTdHlsZSIsInN0cm9rZURhc2hhcnJheSIsInN0cm9rZURhc2hvZmZzZXQiLCJ0cmFuc2l0aW9uIiwic3Ryb2tlUGF0aFN0eWxlIiwicHJlZml4Q2xzIiwidHJhaWxXaWR0aCIsInN0cm9rZUNvbG9yIiwidHJhaWxDb2xvciIsInN0cm9rZUxpbmVjYXAiLCJzdHlsZSIsImNsYXNzTmFtZSIsInJlc3RQcm9wcyIsInN0cm9rZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxJQUFBLE1BQUEsR0FBQSx1QkFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFVBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFNBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLE1BQUEsR0FBQSxPQUFBLENBQUEsU0FBQSxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBRU1BLE07Ozs7Ozs7Ozs7Ozs7O29DQVdZO0FBQUEsVUFBQSxXQUFBLEdBQytDLEtBRC9DLEtBQUE7QUFBQSxVQUNOTSxPQURNLEdBQUEsV0FBQSxDQUFBLE9BQUE7QUFBQSxVQUNHQyxXQURILEdBQUEsV0FBQSxDQUFBLFdBQUE7QUFBQSxVQUFBLHFCQUFBLEdBQUEsV0FBQSxD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LElBQUEsRUFBUTtBQUNYLFVBQUEsS0FBSSxDQUFKLElBQUEsR0FBQSxJQUFBO0FBUkosU0FBQTtBQVVFLFFBQUEsS0FBSyxFQUFFSTtBQVZULE9BQUEsQ0FkRixDQURGO0FBNkJEOzs7RUF4R2tCcEIsTUFBQUEsQ0FBQUEsUzs7aUNBQWZELE0sa0RBRUNFLE1BQUFBLENBQUFBLFM7QUFDSEMsRUFBQUEsV0FBVyxFQUFFQyxVQUFBQSxDQUFBQSxTQUFBQSxDQUFBQSxDQUFBQSxLQUFBQSxDQUFnQixDQUFBLEtBQUEsRUFBQSxRQUFBLEVBQUEsTUFBQSxFQUFoQkEsT0FBZ0IsQ0FBaEJBOztpQ0FIWEosTSxxREFPQ0ssTUFBQUEsQ0FBQUEsWTtBQUNIRixFQUFBQSxXQUFXLEVBQUU7OztlQW1HRixDQUFBLEdBQUEsU0FBQSxDQUFBLFNBQUEsQ0FBQSxFQUFBLE1BQUEsQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCByZWFjdC9wcm9wLXR5cGVzOiAwICovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBlbmhhbmNlciBmcm9tICcuL2VuaGFuY2VyJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcywgcHJvcFR5cGVzIH0gZnJvbSAnLi90eXBlcyc7XG5cbmNsYXNzIENpcmNsZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgLi4ucHJvcFR5cGVzLFxuICAgIGdhcFBvc2l0aW9uOiBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnXSksXG4gIH07XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgZ2FwUG9zaXRpb246ICd0b3AnLFxuICB9O1xuXG4gIGdldFBhdGhTdHlsZXMoKSB7XG4gICAgY29uc3QgeyBwZXJjZW50LCBzdHJva2VXaWR0aCwgZ2FwRGVncmVlID0gMCwgZ2FwUG9zaXRpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgcmFkaXVzID0gNTAgLSBzdHJva2VXaWR0aCAvIDI7XG4gICAgbGV0IGJlZ2luUG9zaXRpb25YID0gMDtcbiAgICBsZXQgYmVnaW5Qb3NpdGlvblkgPSAtcmFkaXVzO1xuICAgIGxldCBlbmRQb3NpdGlvblggPSAwO1xuICAgIGxldCBlbmRQb3NpdGlvblkgPSAtMiAqIHJhZGl1cztcbiAgICBzd2l0Y2ggKGdhcFBvc2l0aW9uKSB7XG4gICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgYmVnaW5Qb3NpdGlvblggPSAtcmFkaXVzO1xuICAgICAgICBiZWdpblBvc2l0aW9uWSA9IDA7XG4gICAgICAgIGVuZFBvc2l0aW9uWCA9IDIgKiByYWRpdXM7XG4gICAgICAgIGVuZFBvc2l0aW9uWSA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICBiZWdpblBvc2l0aW9uWCA9IHJhZGl1cztcbiAgICAgICAgYmVnaW5Qb3NpdGlvblkgPSAwO1xuICAgICAgICBlbmRQb3NpdGlvblggPSAtMiAqIHJhZGl1cztcbiAgICAgICAgZW5kUG9zaXRpb25ZID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICBiZWdpblBvc2l0aW9uWSA9IHJhZGl1cztcbiAgICAgICAgZW5kUG9zaXRpb25ZID0gMiAqIHJhZGl1cztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgICBjb25zdCBwYXRoU3RyaW5nID0gYE0gNTAsNTAgbSAke2JlZ2luUG9zaXRpb25YfSwke2JlZ2luUG9zaXRpb25ZfVxuICAgICBhICR7cmFkaXVzfSwke3JhZGl1c30gMCAxIDEgJHtlbmRQb3NpdGlvblh9LCR7LWVuZFBvc2l0aW9uWX1cbiAgICAgYSAke3JhZGl1c30sJHtyYWRpdXN9IDAgMSAxICR7LWVuZFBvc2l0aW9uWH0sJHtlbmRQb3NpdGlvbll9YDtcbiAgICBjb25zdCBsZW4gPSBNYXRoLlBJICogMiAqIHJhZGl1cztcbiAgICBjb25zdCB0cmFpbFBhdGhTdHlsZSA9IHtcbiAgICAgIHN0cm9rZURhc2hhcnJheTogYCR7bGVuIC0gZ2FwRGVncmVlfXB4ICR7bGVufXB4YCxcbiAgICAgIHN0cm9rZURhc2hvZmZzZXQ6IGAtJHtnYXBEZWdyZWUgLyAyfXB4YCxcbiAgICAgIHRyYW5zaXRpb246ICdzdHJva2UtZGFzaG9mZnNldCAuM3MgZWFzZSAwcywgc3Ryb2tlLWRhc2hhcnJheSAuM3MgZWFzZSAwcywgc3Ryb2tlIC4zcycsXG4gICAgfTtcbiAgICBjb25zdCBzdHJva2VQYXRoU3R5bGUgPSB7XG4gICAgICBzdHJva2VEYXNoYXJyYXk6IGAkeyhwZXJjZW50IC8gMTAwKSAqIChsZW4gLSBnYXBEZWdyZWUpfXB4ICR7bGVufXB4YCxcbiAgICAgIHN0cm9rZURhc2hvZmZzZXQ6IGAtJHtnYXBEZWdyZWUgLyAyfXB4YCxcbiAgICAgIHRyYW5zaXRpb246XG4gICAgICAgICdzdHJva2UtZGFzaG9mZnNldCAuM3MgZWFzZSAwcywgc3Ryb2tlLWRhc2hhcnJheSAuM3MgZWFzZSAwcywgc3Ryb2tlIC4zcywgc3Ryb2tlLXdpZHRoIC4wNnMgZWFzZSAuM3MnLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgfTtcbiAgICByZXR1cm4geyBwYXRoU3RyaW5nLCB0cmFpbFBhdGhTdHlsZSwgc3Ryb2tlUGF0aFN0eWxlIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgcHJlZml4Q2xzLFxuICAgICAgc3Ryb2tlV2lkdGgsXG4gICAgICB0cmFpbFdpZHRoLFxuICAgICAgc3Ryb2tlQ29sb3IsXG4gICAgICBwZXJjZW50LFxuICAgICAgdHJhaWxDb2xvcixcbiAgICAgIHN0cm9rZUxpbmVjYXAsXG4gICAgICBzdHlsZSxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIC4uLnJlc3RQcm9wc1xuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgcGF0aFN0cmluZyB9ID0gdGhpcy5nZXRQYXRoU3R5bGVzKCk7XG4gICAgbGV0IHt0cmFpbFBhdGhTdHlsZSwgc3Ryb2tlUGF0aFN0eWxlIH0gPSB0aGlzLmdldFBhdGhTdHlsZXMoKTtcbiAgICB0cmFpbFBhdGhTdHlsZSA9IHRyYWlsQ29sb3IgPyB7Li4udHJhaWxQYXRoU3R5bGUsc3Ryb2tlOnRyYWlsQ29sb3J9OiB0cmFpbFBhdGhTdHlsZTtcbiAgICBzdHJva2VQYXRoU3R5bGUgPSBzdHJva2VDb2xvciA/IHsuLi5zdHJva2VQYXRoU3R5bGUsc3Ryb2tlOnN0cm9rZUNvbG9yfSA6IHN0cm9rZVBhdGhTdHlsZTtcbiAgICBkZWxldGUgcmVzdFByb3BzLnBlcmNlbnQ7XG4gICAgZGVsZXRlIHJlc3RQcm9wcy5nYXBEZWdyZWU7XG4gICAgZGVsZXRlIHJlc3RQcm9wcy5nYXBQb3NpdGlvbjtcbiAgICByZXR1cm4gKFxuICAgICAgPHN2Z1xuICAgICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tY2lyY2xlICR7Y2xhc3NOYW1lfWB9XG4gICAgICAgIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiXG4gICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgey4uLnJlc3RQcm9wc31cbiAgICAgID5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tY2lyY2xlLXRyYWlsYH1cbiAgICAgICAgICBkPXtwYXRoU3RyaW5nfVxuICAgICAgICAgIHN0cm9rZT17dHJhaWxDb2xvcn1cbiAgICAgICAgICBzdHJva2VXaWR0aD17dHJhaWxXaWR0aCB8fCBzdHJva2VXaWR0aH1cbiAgICAgICAgICBmaWxsT3BhY2l0eT1cIjBcIlxuICAgICAgICAgIHN0eWxlPXt0cmFpbFBhdGhTdHlsZX1cbiAgICAgICAgLz5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tY2lyY2xlLXBhdGhgfVxuICAgICAgICAgIGQ9e3BhdGhTdHJpbmd9XG4gICAgICAgICAgc3Ryb2tlTGluZWNhcD17c3Ryb2tlTGluZWNhcH1cbiAgICAgICAgICBzdHJva2U9e3N0cm9rZUNvbG9yfVxuICAgICAgICAgIHN0cm9rZVdpZHRoPXt0aGlzLnByb3BzLnBlcmNlbnQgPT09IDAgPyAwIDogc3Ryb2tlV2lkdGh9XG4gICAgICAgICAgZmlsbE9wYWNpdHk9XCIwXCJcbiAgICAgICAgICByZWY9e3BhdGggPT4ge1xuICAgICAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgICB9fVxuICAgICAgICAgIHN0eWxlPXtzdHJva2VQYXRoU3R5bGV9XG4gICAgICAgIC8+XG4gICAgICA8L3N2Zz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGVuaGFuY2VyKENpcmNsZSk7XG4iXX0=