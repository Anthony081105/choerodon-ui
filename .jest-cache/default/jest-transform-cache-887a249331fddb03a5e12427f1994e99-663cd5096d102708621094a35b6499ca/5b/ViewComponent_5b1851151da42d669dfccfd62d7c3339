cd10b2a448f29829cd48f421f23d43f5
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _tslib = require("tslib");

var _react = require("react");

var _reactDom = require("react-dom");

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _mobx = require("mobx");

var _omit = _interopRequireDefault(require("lodash/omit"));

var _omitBy = _interopRequireDefault(require("lodash/omitBy"));

var _defer = _interopRequireDefault(require("lodash/defer"));

var _merge = _interopRequireDefault(require("lodash/merge"));

var _noop = _interopRequireDefault(require("lodash/noop"));

var _isUndefined = _interopRequireDefault(require("lodash/isUndefined"));

var _componentClasses = _interopRequireDefault(require("component-classes"));

var _configure = require("choerodon-ui/lib/configure");

var _autobind = _interopRequireDefault(require("../_util/autobind"));

var _normalizeLanguage = _interopRequireDefault(require("../_util/normalizeLanguage"));

var _localeContext = _interopRequireDefault(require("../locale-context"));

/* eslint-disable react/no-unused-prop-types */
var ViewComponent =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(ViewComponent, _Component);

  function ViewComponent(props, context) {
    var _this;

    (0, _classCallCheck2["default"])(this, ViewComponent);
    _this = (0, _possibleConstructorReturn2["default"])(this, (0, _getPrototypeOf2["default"])(ViewComponent).call(this, props, context));

    _this.setObservableProps(props, context);

    return _this;
  }

  (0, _createClass2["default"])(ViewComponent, [{
    key: "getMergedClassNames",
    value: function getMergedClassNames() {
      for (var _len = arguments.length, props = new Array(_len), _key = 0; _key < _len; _key++) {
        props[_key] = arguments[_key];
      }

      return _classnames["default"].apply(void 0, [this.getClassName(), this.getWrapperClassNames()].concat(props));
    }
  }, {
    key: "getMergedProps",
    value: function getMergedProps() {
      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      return (0, _objectSpread2["default"])({}, (0, _merge["default"])(this.getWrapperProps(props), this.getOtherProps()), {
        className: this.getMergedClassNames()
      });
    }
  }, {
    key: "getObservableProps",
    value: function getObservableProps(_props, _context) {
      return {};
    }
  }, {
    key: "setObservableProps",
    value: function setObservableProps(props, context) {
      this.observableProps = this.getObservableProps(props, context);
    }
  }, {
    key: "updateObservableProps",
    value: function updateObservableProps(props, context) {
      (0, _extends2["default"])(this.observableProps, (0, _omitBy["default"])(this.getObservableProps(props, context), _isUndefined["default"]), true);
    }
  }, {
    key: "getOtherProps",
    value: function getOtherProps() {
      var _this$props = this.props,
          tabIndex = _this$props.tabIndex,
          lang = _this$props.lang,
          _this$props$style = _this$props.style,
          style = _this$props$style === void 0 ? {} : _this$props$style;
      var otherProps = (0, _omit["default"])(this.props, ['prefixCls', 'suffixCls', 'className', 'elementClassName', 'style', 'size', 'autoFocus', 'onFocus', 'onBlur', 'children', 'dataSet']);

      if (this.isDisabled()) {
        otherProps = (0, _omit["default"])(otherProps, ['onClick', 'onMouseUp', 'onMouseDown', 'onMouseEnter', 'onMouseLeave', 'onMouseOver', 'onMouseOut', 'onKeyDown', 'onKeyUp', 'onKeyPress', 'onContextMenu']);

        if (tabIndex !== undefined) {
          otherProps.tabIndex = -1;
        }
      } else {
        otherProps.onFocus = this.handleFocus;
        otherProps.onBlur = this.handleBlur;
      }

      otherProps.ref = this.elementReference;
      otherProps.disabled = this.isDisabled();
      otherProps.className = this.getClassName();

      if ('height' in style) {
        otherProps.style = {
          height: style.height
        };
      }

      otherProps.lang = (0, _normalizeLanguage["default"])(lang);
      return otherProps;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var prefixCls = this.prefixCls,
          elementClassName = this.props.elementClassName;

      for (var _len2 = arguments.length, props = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        props[_key2] = arguments[_key2];
      }

      return _classnames["default"].apply(void 0, [prefixCls, elementClassName].concat(props));
    }
  }, {
    key: "getWrapperProps",
    value: function getWrapperProps() {
      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var _this$props2 = this.props,
          style = _this$props2.style,
          hidden = _this$props2.hidden;
      var wrapperProps = (0, _objectSpread2["default"])({
        ref: this.wrapperReference,
        className: this.getWrapperClassNames(),
        hidden: hidden
      }, props);

      if (style) {
        wrapperProps.style = (0, _omit["default"])(style, 'height');
      }

      return wrapperProps;
    }
  }, {
    key: "getWrapperClassNames",
    value: function getWrapperClassNames() {
      var _ref;

      var prefixCls = this.prefixCls,
          _this$props3 = this.props,
          className = _this$props3.className,
          size = _this$props3.size;

      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }

      return _classnames["default"].apply(void 0, ["".concat(prefixCls, "-wrapper"), className, (_ref = {}, (0, _defineProperty2["default"])(_ref, "".concat(prefixCls, "-sm"), size === 'small'), (0, _defineProperty2["default"])(_ref, "".concat(prefixCls, "-lg"), size === 'large'), (0, _defineProperty2["default"])(_ref, "".concat(prefixCls, "-disabled"), this.isDisabled()), (0, _defineProperty2["default"])(_ref, "".concat(prefixCls, "-focused"), this.isFocus), _ref)].concat(args));
    }
  }, {
    key: "isDisabled",
    value: function isDisabled() {
      var disabled = this.props.disabled;
      return disabled;
    }
  }, {
    key: "handleFocus",
    value: function handleFocus(e) {
      this.isFocused = true;
      this.isFocus = true;
      var _this$props$onFocus = this.props.onFocus,
          onFocus = _this$props$onFocus === void 0 ? _noop["default"] : _this$props$onFocus,
          prefixCls = this.prefixCls;
      onFocus(e);
      var element = this.wrapper || (0, _reactDom.findDOMNode)(this);

      if (element) {
        (0, _componentClasses["default"])(element).add("".concat(prefixCls, "-focused"));
      }
    }
  }, {
    key: "handleBlur",
    value: function handleBlur(e) {
      if (!e.isDefaultPrevented()) {
        var _this$props$onBlur = this.props.onBlur,
            onBlur = _this$props$onBlur === void 0 ? _noop["default"] : _this$props$onBlur,
            prefixCls = this.prefixCls;
        onBlur(e);

        if (!e.isDefaultPrevented()) {
          this.isFocused = false;
          this.isFocus = false;
          var element = this.wrapper || (0, _reactDom.findDOMNode)(this);

          if (element) {
            (0, _componentClasses["default"])(element).remove("".concat(prefixCls, "-focused"));
          }
        }
      }
    }
  }, {
    key: "focus",
    value: function focus() {
      if (this.element) {
        this.element.focus();
      }
    }
  }, {
    key: "blur",
    value: function blur() {
      if (this.element) {
        this.element.blur();
      }
    }
  }, {
    key: "elementReference",
    value: function elementReference(node) {
      this.element = node;
    }
  }, {
    key: "wrapperReference",
    value: function wrapperReference(node) {
      this.wrapper = node;
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps, nextContext) {
      this.updateObservableProps(nextProps, nextContext);
    }
  }, {
    key: "componentWillMount",
    value: function componentWillMount() {
      var _this2 = this;

      var _this$props4 = this.props,
          tabIndex = _this$props4.tabIndex,
          autoFocus = _this$props4.autoFocus;

      if (!this.isDisabled() && autoFocus && (tabIndex === undefined || tabIndex > -1)) {
        (0, _defer["default"])(function () {
          return _this2.focus();
        });
      }
    }
  }, {
    key: "prefixCls",
    get: function get() {
      var _this$props5 = this.props,
          suffixCls = _this$props5.suffixCls,
          prefixCls = _this$props5.prefixCls;
      return (0, _configure.getProPrefixCls)(suffixCls, prefixCls);
    }
  }, {
    key: "lang",
    get: function get() {
      var lang = this.props.lang;

      if (lang) {
        return lang;
      }

      return _localeContext["default"].locale.lang;
    }
  }]);
  return ViewComponent;
}(_react.Component);

exports["default"] = ViewComponent;
ViewComponent.propTypes = {
  /**
   * 组件id
   */
  id: _propTypes["default"].string,

  /**
   * 组件大小<未实现>
   * 可选值 `default` `small` `big`
   */
  size: _propTypes["default"].oneOf(["small"
  /* small */
  , "default"
  /* default */
  , "large"
  /* large */
  ]),

  /**
   * 样式后缀
   */
  suffixCls: _propTypes["default"].string,

  /**
   * 样式前缀
   */
  prefixCls: _propTypes["default"].string,

  /**
   * 悬浮提示，建议用ToolTip组件
   */
  title: _propTypes["default"].string,

  /**
   *  是否禁用
   */
  disabled: _propTypes["default"].bool,

  /**
   * 是否隐藏
   */
  hidden: _propTypes["default"].bool,

  /**
   * 自动获取焦点，多个组件同时设置该参数时，以节点树的顺序最末的组件获取焦点
   */
  autoFocus: _propTypes["default"].bool,

  /**
   * 内链样式
   */
  style: _propTypes["default"].object,

  /**
   * 自定义样式名
   */
  className: _propTypes["default"].string,

  /**
   * 键盘Tab键焦点序号，设为-1时不会获得焦点，设为0时为节点树的顺序。
   */
  tabIndex: _propTypes["default"].number,

  /**
   * 语言
   */
  lang: _propTypes["default"].string,

  /**
   * 拼写校验
   */
  spellCheck: _propTypes["default"].bool,

  /**
   * 获取焦点回调
   */
  onFocus: _propTypes["default"].func,

  /**
   * 失去焦点回调
   */
  onBlur: _propTypes["default"].func,

  /**
   * 单击回调
   */
  onClick: _propTypes["default"].func,

  /**
   * 双击回调
   */
  onDoubleClick: _propTypes["default"].func,

  /**
   * 鼠标抬起回调
   */
  onMouseUp: _propTypes["default"].func,

  /**
   * 鼠标点下回调
   */
  onMouseDown: _propTypes["default"].func,

  /**
   * 鼠标移动回调
   */
  onMouseMove: _propTypes["default"].func,

  /**
   * 鼠标进入回调
   */
  onMouseEnter: _propTypes["default"].func,

  /**
   * 鼠标离开回调
   */
  onMouseLeave: _propTypes["default"].func,

  /**
   * 鼠标进入回调，与onMouseEnter区别在于鼠标进入子节点时会触发onMouseOut
   */
  onMouseOver: _propTypes["default"].func,

  /**
   * 鼠标离开回调，与onMouseLeave区别在于子节点的onMouseout会冒泡触发本回调
   */
  onMouseOut: _propTypes["default"].func,

  /**
   * 鼠标右击后的回调
   */
  onContextMenu: _propTypes["default"].func,

  /**
   * 键盘按下时的回调
   */
  onKeyDown: _propTypes["default"].func,

  /**
   * 键盘抬起时的回调
   */
  onKeyUp: _propTypes["default"].func,

  /**
   * 键盘敲击后的回调
   */
  onKeyPress: _propTypes["default"].func
};
(0, _tslib.__decorate)([_mobx.observable], ViewComponent.prototype, "isFocused", void 0);
(0, _tslib.__decorate)([_mobx.observable], ViewComponent.prototype, "observableProps", void 0);
(0, _tslib.__decorate)([_mobx.action], ViewComponent.prototype, "setObservableProps", null);
(0, _tslib.__decorate)([_mobx.action], ViewComponent.prototype, "updateObservableProps", null);
(0, _tslib.__decorate)([_autobind["default"], _mobx.action], ViewComponent.prototype, "handleFocus", null);
(0, _tslib.__decorate)([_autobind["default"], _mobx.action], ViewComponent.prototype, "handleBlur", null);
(0, _tslib.__decorate)([_autobind["default"]], ViewComponent.prototype, "elementReference", null);
(0, _tslib.__decorate)([_autobind["default"], _mobx.action], ViewComponent.prototype, "wrapperReference", null);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9odWlodWF3ay9Eb2N1bWVudHMvb3B0L2Nob2Vyb2Rvbi11aS9jb21wb25lbnRzLXByby9jb3JlL1ZpZXdDb21wb25lbnQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQVFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUVBOztBQWlKQTtJQUNxQixhOzs7OztBQTRJbkIseUJBQVksS0FBWixFQUFtQixPQUFuQixFQUEwQjtBQUFBOztBQUFBO0FBQ3hCLHlIQUFNLEtBQU4sRUFBYSxPQUFiOztBQUNBLFVBQUssa0JBQUwsQ0FBd0IsS0FBeEIsRUFBK0IsT0FBL0I7O0FBRndCO0FBR3pCOzs7OzBDQUUyQjtBQUFBLHdDQUFMLEtBQUs7QUFBTCxRQUFBLEtBQUs7QUFBQTs7QUFDMUIsYUFBTyxzQ0FBVyxLQUFLLFlBQUwsRUFBWCxFQUFnQyxLQUFLLG9CQUFMLEVBQWhDLFNBQWdFLEtBQWhFLEVBQVA7QUFDRDs7O3FDQUV3QjtBQUFBLFVBQVYsS0FBVSx1RUFBRixFQUFFO0FBQ3ZCLGdEQUNLLHVCQUFNLEtBQUssZUFBTCxDQUFxQixLQUFyQixDQUFOLEVBQW1DLEtBQUssYUFBTCxFQUFuQyxDQURMO0FBRUUsUUFBQSxTQUFTLEVBQUUsS0FBSyxtQkFBTDtBQUZiO0FBSUQ7Ozt1Q0FFa0IsTSxFQUFRLFEsRUFBYTtBQUN0QyxhQUFPLEVBQVA7QUFDRDs7O3VDQUdrQixLLEVBQU8sTyxFQUFZO0FBQ3BDLFdBQUssZUFBTCxHQUF1QixLQUFLLGtCQUFMLENBQXdCLEtBQXhCLEVBQStCLE9BQS9CLENBQXZCO0FBQ0Q7OzswQ0FHcUIsSyxFQUFPLE8sRUFBWTtBQUN2QyxnQ0FDRSxLQUFLLGVBRFAsRUFFRSx3QkFBTyxLQUFLLGtCQUFMLENBQXdCLEtBQXhCLEVBQStCLE9BQS9CLENB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dXNFdmVudEhhbmRsZXIsXG4gIEtleSxcbiAgS2V5Ym9hcmRFdmVudEhhbmRsZXIsXG4gIE1vdXNlRXZlbnRIYW5kbGVyLFxufSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBhY3Rpb24sIG9ic2VydmFibGUgfSBmcm9tICdtb2J4JztcbmltcG9ydCBvbWl0IGZyb20gJ2xvZGFzaC9vbWl0JztcbmltcG9ydCBvbWl0QnkgZnJvbSAnbG9kYXNoL29taXRCeSc7XG5pbXBvcnQgZGVmZXIgZnJvbSAnbG9kYXNoL2RlZmVyJztcbmltcG9ydCBtZXJnZSBmcm9tICdsb2Rhc2gvbWVyZ2UnO1xuaW1wb3J0IG5vb3AgZnJvbSAnbG9kYXNoL25vb3AnO1xuaW1wb3J0IGlzVW5kZWZpbmVkIGZyb20gJ2xvZGFzaC9pc1VuZGVmaW5lZCc7XG5pbXBvcnQgY2xhc3NlcyBmcm9tICdjb21wb25lbnQtY2xhc3Nlcyc7XG5pbXBvcnQgeyBnZXRQcm9QcmVmaXhDbHMgfSBmcm9tICdjaG9lcm9kb24tdWkvbGliL2NvbmZpZ3VyZSc7XG5pbXBvcnQgYXV0b2JpbmQgZnJvbSAnLi4vX3V0aWwvYXV0b2JpbmQnO1xuaW1wb3J0IHsgU2l6ZSB9IGZyb20gJy4vZW51bSc7XG5pbXBvcnQgbm9ybWFsaXplTGFuZ3VhZ2UgZnJvbSAnLi4vX3V0aWwvbm9ybWFsaXplTGFuZ3VhZ2UnO1xuaW1wb3J0IHsgTGFuZyB9IGZyb20gJy4uL2xvY2FsZS1jb250ZXh0L2VudW0nO1xuaW1wb3J0IGxvY2FsZUNvbnRleHQgZnJvbSAnLi4vbG9jYWxlLWNvbnRleHQnO1xuXG4vL1xuLy8g57uE5Lu25a+55aSW5byA5pS+55qE5LqL5Lu25Ye95pWw5ZCN5LulIG9uWFhYIOWRveWQjS4g5bC96YeP5YeP5bCR5a+55aSW5byA5pS+55qE5LqL5Lu277yM57uf5LiA55Sx5pWw5o2u5p2l5YWz6IGUXG4vLyDnu4Tku7blr7nlhoXlk43lupTnmoTkuovku7blh73mlbDlkI3ku6UgaGFuZGxlWFhYIOWRveWQjS5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGludGVyZmFjZSBWaWV3Q29tcG9uZW50UHJvcHNcbiAgZXh0ZW5kcyBNb3VzZUV2ZW50Q29tcG9uZW50UHJvcHMsXG4gICAgS2V5Ym9hcmRFdmVudENvbXBvbmVudFByb3BzLFxuICAgIEVsZW1lbnRQcm9wcyB7XG4gIC8qKlxuICAgKiDnu4Tku7ZpZFxuICAgKi9cbiAgaWQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiAg5piv5ZCm56aB55SoXG4gICAqL1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiDplK7nm5hUYWLplK7nhKbngrnluo/lj7fvvIzorr7kuLotMeaXtuS4jeS8muiOt+W+l+eEpueCue+8jOiuvuS4ujDml7bkuLroioLngrnmoJHnmoTpobrluo/jgIJcbiAgICovXG4gIHRhYkluZGV4PzogbnVtYmVyO1xuICAvKipcbiAgICog5oKs5rWu5o+Q56S677yM5bu66K6u55SoVG9vbFRpcOe7hOS7tlxuICAgKi9cbiAgdGl0bGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiDoh6rliqjojrflj5bnhKbngrnvvIzlpJrkuKrnu4Tku7blkIzml7borr7nva7or6Xlj4LmlbDml7bvvIzku6XoioLngrnmoJHnmoTpobrluo/mnIDmnKvnmoTnu4Tku7bojrflj5bnhKbngrlcbiAgICovXG4gIGF1dG9Gb2N1cz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiDnu4Tku7blpKflsI885pyq5a6e546wPlxuICAgKiDlj6/pgInlgLwgYGRlZmF1bHRgIGBzbWFsbGAgYGxhcmdlYFxuICAgKi9cbiAgc2l6ZT86IFNpemU7XG4gIC8qKlxuICAgKiDojrflj5bnhKbngrnlm57osINcbiAgICovXG4gIG9uRm9jdXM/OiBGb2N1c0V2ZW50SGFuZGxlcjxhbnk+O1xuICAvKipcbiAgICog5aSx5Y6754Sm54K55Zue6LCDXG4gICAqL1xuICBvbkJsdXI/OiBGb2N1c0V2ZW50SGFuZGxlcjxhbnk+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRQcm9wcyB7XG4gIC8qKlxuICAgKiDnu4Tku7ZrZXlcbiAgICovXG4gIGtleT86IEtleTtcbiAgLyoqXG4gICAqIOagt+W8j+WQjue8gFxuICAgKi9cbiAgc3VmZml4Q2xzPzogc3RyaW5nO1xuICAvKipcbiAgICog5qC35byP5YmN57yAXG4gICAqL1xuICBwcmVmaXhDbHM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiDlpJblsYLoh6rlrprkuYnmoLflvI/lkI1cbiAgICovXG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqIOWunumZheWFg+e0oOiHquWumuS5ieagt+W8j+WQjVxuICAgKi9cbiAgZWxlbWVudENsYXNzTmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqIOWGhemTvuagt+W8j1xuICAgKi9cbiAgc3R5bGU/OiBDU1NQcm9wZXJ0aWVzO1xuICAvKipcbiAgICog5piv5ZCm6ZqQ6JePXG4gICAqL1xuICBoaWRkZW4/OiBib29sZWFuO1xuICAvKipcbiAgICog6K+t6KiAXG4gICAqL1xuICBsYW5nPzogTGFuZztcbiAgLyoqXG4gICAqIOaLvOWGmeagoemqjFxuICAgKi9cbiAgc3BlbGxDaGVjaz86IGJvb2xlYW47XG59XG5cbi8qKiDlk43lupTpvKDmoIfkuovku7bnu4Tku7YgKi9cbmV4cG9ydCBpbnRlcmZhY2UgTW91c2VFdmVudENvbXBvbmVudFByb3BzIHtcbiAgLyoqXG4gICAqIOWNleWHu+Wbnuiwg1xuICAgKi9cbiAgb25DbGljaz86IE1vdXNlRXZlbnRIYW5kbGVyPGFueT47XG4gIC8qKlxuICAgKiDlj4zlh7vlm57osINcbiAgICovXG4gIG9uRG91YmxlQ2xpY2s/OiBNb3VzZUV2ZW50SGFuZGxlcjxhbnk+O1xuICAvKipcbiAgICog5Y+z54K55Ye75Zue6LCDXG4gICAqL1xuICBvbkNvbnRleHRNZW51PzogTW91c2VFdmVudEhhbmRsZXI8YW55PjtcbiAgLyoqXG4gICAqIOm8oOagh+aKrOi1t+Wbnuiwg1xuICAgKi9cbiAgb25Nb3VzZVVwPzogTW91c2VFdmVudEhhbmRsZXI8YW55PjtcbiAgLyoqXG4gICAqIOm8oOagh+eCueS4i+Wbnuiwg1xuICAgKi9cbiAgb25Nb3VzZURvd24/OiBNb3VzZUV2ZW50SGFuZGxlcjxhbnk+O1xuICAvKipcbiAgICog6byg5qCH56e75Yqo5Zue6LCDXG4gICAqL1xuICBvbk1vdXNlTW92ZT86IE1vdXNlRXZlbnRIYW5kbGVyPGFueT47XG4gIC8qKlxuICAgKiDpvKDmoIfov5vlhaXlm57osINcbiAgICovXG4gIG9uTW91c2VFbnRlcj86IE1vdXNlRXZlbnRIYW5kbGVyPGFueT47XG4gIC8qKlxuICAgKiDpvKDmoIfnprvlvIDlm57osINcbiAgICovXG4gIG9uTW91c2VMZWF2ZT86IE1vdXNlRXZlbnRIYW5kbGVyPGFueT47XG4gIC8qKlxuICAgKiDpvKDmoIfov5vlhaXlm57osIPvvIzkuI5vbk1vdXNlRW50ZXLljLrliKvlnKjkuo7pvKDmoIfov5vlhaXlrZDoioLngrnml7bkvJrop6blj5Fvbk1vdXNlT3V0XG4gICAqL1xuICBvbk1vdXNlT3Zlcj86IE1vdXNlRXZlbnRIYW5kbGVyPGFueT47XG4gIC8qKlxuICAgKiDpvKDmoIfnprvlvIDlm57osIPvvIzkuI5vbk1vdXNlTGVhdmXljLrliKvlnKjkuo7lrZDoioLngrnnmoRvbk1vdXNlb3V05Lya5YaS5rOh6Kem5Y+R5pys5Zue6LCDXG4gICAqL1xuICBvbk1vdXNlT3V0PzogTW91c2VFdmVudEhhbmRsZXI8YW55Pjtcbn1cblxuLyoqIOWTjeW6lOmUruebmOS6i+S7tue7hOS7tiAqL1xuZXhwb3J0IGludGVyZmFjZSBLZXlib2FyZEV2ZW50Q29tcG9uZW50UHJvcHMge1xuICAvKipcbiAgICog6ZSu55uY5oyJ5LiL5pe255qE5Zue6LCDXG4gICAqL1xuICBvbktleURvd24/OiBLZXlib2FyZEV2ZW50SGFuZGxlcjxhbnk+O1xuICAvKipcbiAgICog6ZSu55uY5oqs6LW35pe255qE5Zue6LCDXG4gICAqL1xuICBvbktleVVwPzogS2V5Ym9hcmRFdmVudEhhbmRsZXI8YW55PjtcbiAgLyoqXG4gICAqIOmUruebmOaVsuWHu+WQjueahOWbnuiwg1xuICAgKi9cbiAgb25LZXlQcmVzcz86IEtleWJvYXJkRXZlbnRIYW5kbGVyPGFueT47XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3Q29tcG9uZW50PFAgZXh0ZW5kcyBWaWV3Q29tcG9uZW50UHJvcHM+IGV4dGVuZHMgQ29tcG9uZW50PFAsIGFueT4ge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIC8qKlxuICAgICAqIOe7hOS7tmlkXG4gICAgICovXG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgLyoqXG4gICAgICog57uE5Lu25aSn5bCPPOacquWunueOsD5cbiAgICAgKiDlj6/pgInlgLwgYGRlZmF1bHRgIGBzbWFsbGAgYGJpZ2BcbiAgICAgKi9cbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2YoW1NpemUuc21hbGwsIFNpemUuZGVmYXVsdCwgU2l6ZS5sYXJnZV0pLFxuICAgIC8qKlxuICAgICAqIOagt+W8j+WQjue8gFxuICAgICAqL1xuICAgIHN1ZmZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAvKipcbiAgICAgKiDmoLflvI/liY3nvIBcbiAgICAgKi9cbiAgICBwcmVmaXhDbHM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgLyoqXG4gICAgICog5oKs5rWu5o+Q56S677yM5bu66K6u55SoVG9vbFRpcOe7hOS7tlxuICAgICAqL1xuICAgIHRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIC8qKlxuICAgICAqICDmmK/lkKbnpoHnlKhcbiAgICAgKi9cbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgLyoqXG4gICAgICog5piv5ZCm6ZqQ6JePXG4gICAgICovXG4gICAgaGlkZGVuOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiDoh6rliqjojrflj5bnhKbngrnvvIzlpJrkuKrnu4Tku7blkIzml7borr7nva7or6Xlj4LmlbDml7bvvIzku6XoioLngrnmoJHnmoTpobrluo/mnIDmnKvnmoTnu4Tku7bojrflj5bnhKbngrlcbiAgICAgKi9cbiAgICBhdXRvRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIOWGhemTvuagt+W8j1xuICAgICAqL1xuICAgIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIC8qKlxuICAgICAqIOiHquWumuS5ieagt+W8j+WQjVxuICAgICAqL1xuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAvKipcbiAgICAgKiDplK7nm5hUYWLplK7nhKbngrnluo/lj7fvvIzorr7kuLotMeaXtuS4jeS8muiOt+W+l+eEpueCue+8jOiuvuS4ujDml7bkuLroioLngrnmoJHnmoTpobrluo/jgIJcbiAgICAgKi9cbiAgICB0YWJJbmRleDogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiDor63oqIBcbiAgICAgKi9cbiAgICBsYW5nOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIOaLvOWGmeagoemqjFxuICAgICAqL1xuICAgIHNwZWxsQ2hlY2s6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIOiOt+WPlueEpueCueWbnuiwg1xuICAgICAqL1xuICAgIG9uRm9jdXM6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIOWkseWOu+eEpueCueWbnuiwg1xuICAgICAqL1xuICAgIG9uQmx1cjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICog5Y2V5Ye75Zue6LCDXG4gICAgICovXG4gICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICog5Y+M5Ye75Zue6LCDXG4gICAgICovXG4gICAgb25Eb3VibGVDbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICog6byg5qCH5oqs6LW35Zue6LCDXG4gICAgICovXG4gICAgb25Nb3VzZVVwOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiDpvKDmoIfngrnkuIvlm57osINcbiAgICAgKi9cbiAgICBvbk1vdXNlRG93bjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICog6byg5qCH56e75Yqo5Zue6LCDXG4gICAgICovXG4gICAgb25Nb3VzZU1vdmU6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIOm8oOagh+i/m+WFpeWbnuiwg1xuICAgICAqL1xuICAgIG9uTW91c2VFbnRlcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICog6byg5qCH56a75byA5Zue6LCDXG4gICAgICovXG4gICAgb25Nb3VzZUxlYXZlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiDpvKDmoIfov5vlhaXlm57osIPvvIzkuI5vbk1vdXNlRW50ZXLljLrliKvlnKjkuo7pvKDmoIfov5vlhaXlrZDoioLngrnml7bkvJrop6blj5Fvbk1vdXNlT3V0XG4gICAgICovXG4gICAgb25Nb3VzZU92ZXI6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIOm8oOagh+emu+W8gOWbnuiwg++8jOS4jm9uTW91c2VMZWF2ZeWMuuWIq+WcqOS6juWtkOiKgueCueeahG9uTW91c2VvdXTkvJrlhpLms6Hop6blj5HmnKzlm57osINcbiAgICAgKi9cbiAgICBvbk1vdXNlT3V0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiDpvKDmoIflj7Plh7vlkI7nmoTlm57osINcbiAgICAgKi9cbiAgICBvbkNvbnRleHRNZW51OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiDplK7nm5jmjInkuIvml7bnmoTlm57osINcbiAgICAgKi9cbiAgICBvbktleURvd246IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIOmUruebmOaKrOi1t+aXtueahOWbnuiwg1xuICAgICAqL1xuICAgIG9uS2V5VXA6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIOmUruebmOaVsuWHu+WQjueahOWbnuiwg1xuICAgICAqL1xuICAgIG9uS2V5UHJlc3M6IFByb3BUeXBlcy5mdW5jLFxuICB9O1xuXG4gIGVsZW1lbnQ6IGFueTtcblxuICB3cmFwcGVyOiBhbnk7XG5cbiAgaXNGb2N1czogYm9vbGVhbjtcblxuICBAb2JzZXJ2YWJsZSBpc0ZvY3VzZWQ6IGJvb2xlYW47XG5cbiAgQG9ic2VydmFibGUgb2JzZXJ2YWJsZVByb3BzOiBhbnk7XG5cbiAgZ2V0IHByZWZpeENscygpOiBzdHJpbmcge1xuICAgIGNvbnN0IHsgc3VmZml4Q2xzLCBwcmVmaXhDbHMgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIGdldFByb1ByZWZpeENscyhzdWZmaXhDbHMhLCBwcmVmaXhDbHMpO1xuICB9XG5cbiAgZ2V0IGxhbmcoKTogTGFuZyB7XG4gICAgY29uc3QgeyBsYW5nIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChsYW5nKSB7XG4gICAgICByZXR1cm4gbGFuZyE7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbGVDb250ZXh0LmxvY2FsZS5sYW5nO1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgdGhpcy5zZXRPYnNlcnZhYmxlUHJvcHMocHJvcHMsIGNvbnRleHQpO1xuICB9XG5cbiAgZ2V0TWVyZ2VkQ2xhc3NOYW1lcyguLi5wcm9wcykge1xuICAgIHJldHVybiBjbGFzc05hbWVzKHRoaXMuZ2V0Q2xhc3NOYW1lKCksIHRoaXMuZ2V0V3JhcHBlckNsYXNzTmFtZXMoKSwgLi4ucHJvcHMpO1xuICB9XG5cbiAgZ2V0TWVyZ2VkUHJvcHMocHJvcHMgPSB7fSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5tZXJnZSh0aGlzLmdldFdyYXBwZXJQcm9wcyhwcm9wcyksIHRoaXMuZ2V0T3RoZXJQcm9wcygpKSxcbiAgICAgIGNsYXNzTmFtZTogdGhpcy5nZXRNZXJnZWRDbGFzc05hbWVzKCksXG4gICAgfTtcbiAgfVxuXG4gIGdldE9ic2VydmFibGVQcm9wcyhfcHJvcHMsIF9jb250ZXh0OiBhbnkpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBAYWN0aW9uXG4gIHNldE9ic2VydmFibGVQcm9wcyhwcm9wcywgY29udGV4dDogYW55KSB7XG4gICAgdGhpcy5vYnNlcnZhYmxlUHJvcHMgPSB0aGlzLmdldE9ic2VydmFibGVQcm9wcyhwcm9wcywgY29udGV4dCk7XG4gIH1cblxuICBAYWN0aW9uXG4gIHVwZGF0ZU9ic2VydmFibGVQcm9wcyhwcm9wcywgY29udGV4dDogYW55KSB7XG4gICAgT2JqZWN0LmFzc2lnbihcbiAgICAgIHRoaXMub2JzZXJ2YWJsZVByb3BzLFxuICAgICAgb21pdEJ5KHRoaXMuZ2V0T2JzZXJ2YWJsZVByb3BzKHByb3BzLCBjb250ZXh0KSwgaXNVbmRlZmluZWQpLFxuICAgICAgdHJ1ZSxcbiAgICApO1xuICB9XG5cbiAgZ2V0T3RoZXJQcm9wcygpIHtcbiAgICBjb25zdCB7IHRhYkluZGV4LCBsYW5nLCBzdHlsZSA9IHt9IH0gPSB0aGlzLnByb3BzO1xuICAgIGxldCBvdGhlclByb3BzOiBhbnkgPSBvbWl0KHRoaXMucHJvcHMsIFtcbiAgICAgICdwcmVmaXhDbHMnLFxuICAgICAgJ3N1ZmZpeENscycsXG4gICAgICAnY2xhc3NOYW1lJyxcbiAgICAgICdlbGVtZW50Q2xhc3NOYW1lJyxcbiAgICAgICdzdHlsZScsXG4gICAgICAnc2l6ZScsXG4gICAgICAnYXV0b0ZvY3VzJyxcbiAgICAgICdvbkZvY3VzJyxcbiAgICAgICdvbkJsdXInLFxuICAgICAgJ2NoaWxkcmVuJyxcbiAgICAgICdkYXRhU2V0JyxcbiAgICBdKTtcbiAgICBpZiAodGhpcy5pc0Rpc2FibGVkKCkpIHtcbiAgICAgIG90aGVyUHJvcHMgPSBvbWl0KG90aGVyUHJvcHMsIFtcbiAgICAgICAgJ29uQ2xpY2snLFxuICAgICAgICAnb25Nb3VzZVVwJyxcbiAgICAgICAgJ29uTW91c2VEb3duJyxcbiAgICAgICAgJ29uTW91c2VFbnRlcicsXG4gICAgICAgICdvbk1vdXNlTGVhdmUnLFxuICAgICAgICAnb25Nb3VzZU92ZXInLFxuICAgICAgICAnb25Nb3VzZU91dCcsXG4gICAgICAgICdvbktleURvd24nLFxuICAgICAgICAnb25LZXlVcCcsXG4gICAgICAgICdvbktleVByZXNzJyxcbiAgICAgICAgJ29uQ29udGV4dE1lbnUnLFxuICAgICAgXSk7XG4gICAgICBpZiAodGFiSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdGhlclByb3BzLnRhYkluZGV4ID0gLTE7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG90aGVyUHJvcHMub25Gb2N1cyA9IHRoaXMuaGFuZGxlRm9jdXM7XG4gICAgICBvdGhlclByb3BzLm9uQmx1ciA9IHRoaXMuaGFuZGxlQmx1cjtcbiAgICB9XG4gICAgb3RoZXJQcm9wcy5yZWYgPSB0aGlzLmVsZW1lbnRSZWZlcmVuY2U7XG4gICAgb3RoZXJQcm9wcy5kaXNhYmxlZCA9IHRoaXMuaXNEaXNhYmxlZCgpO1xuICAgIG90aGVyUHJvcHMuY2xhc3NOYW1lID0gdGhpcy5nZXRDbGFzc05hbWUoKTtcbiAgICBpZiAoJ2hlaWdodCcgaW4gc3R5bGUpIHtcbiAgICAgIG90aGVyUHJvcHMuc3R5bGUgPSB7IGhlaWdodDogc3R5bGUuaGVpZ2h0IH07XG4gICAgfVxuICAgIG90aGVyUHJvcHMubGFuZyA9IG5vcm1hbGl6ZUxhbmd1YWdlKGxhbmcpO1xuICAgIHJldHVybiBvdGhlclByb3BzO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKC4uLnByb3BzKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB7XG4gICAgICBwcmVmaXhDbHMsXG4gICAgICBwcm9wczogeyBlbGVtZW50Q2xhc3NOYW1lIH0sXG4gICAgfSA9IHRoaXM7XG4gICAgcmV0dXJuIGNsYXNzTmFtZXMocHJlZml4Q2xzLCBlbGVtZW50Q2xhc3NOYW1lLCAuLi5wcm9wcyk7XG4gIH1cblxuICBnZXRXcmFwcGVyUHJvcHMocHJvcHMgPSB7fSk6IGFueSB7XG4gICAgY29uc3QgeyBzdHlsZSwgaGlkZGVuIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHdyYXBwZXJQcm9wczogYW55ID0ge1xuICAgICAgcmVmOiB0aGlzLndyYXBwZXJSZWZlcmVuY2UsXG4gICAgICBjbGFzc05hbWU6IHRoaXMuZ2V0V3JhcHBlckNsYXNzTmFtZXMoKSxcbiAgICAgIGhpZGRlbixcbiAgICAgIC4uLnByb3BzLFxuICAgIH07XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICB3cmFwcGVyUHJvcHMuc3R5bGUgPSBvbWl0KHN0eWxlLCAnaGVpZ2h0Jyk7XG4gICAgfVxuICAgIHJldHVybiB3cmFwcGVyUHJvcHM7XG4gIH1cblxuICBnZXRXcmFwcGVyQ2xhc3NOYW1lcyguLi5hcmdzKTogc3RyaW5nIHtcbiAgICBjb25zdCB7XG4gICAgICBwcmVmaXhDbHMsXG4gICAgICBwcm9wczogeyBjbGFzc05hbWUsIHNpemUgfSxcbiAgICB9ID0gdGhpcztcbiAgICByZXR1cm4gY2xhc3NOYW1lcyhcbiAgICAgIGAke3ByZWZpeENsc30td3JhcHBlcmAsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICB7XG4gICAgICAgIFtgJHtwcmVmaXhDbHN9LXNtYF06IHNpemUgPT09ICdzbWFsbCcsXG4gICAgICAgIFtgJHtwcmVmaXhDbHN9LWxnYF06IHNpemUgPT09ICdsYXJnZScsXG4gICAgICAgIFtgJHtwcmVmaXhDbHN9LWRpc2FibGVkYF06IHRoaXMuaXNEaXNhYmxlZCgpLFxuICAgICAgICBbYCR7cHJlZml4Q2xzfS1mb2N1c2VkYF06IHRoaXMuaXNGb2N1cyxcbiAgICAgIH0sXG4gICAgICAuLi5hcmdzLFxuICAgICk7XG4gIH1cblxuICBpc0Rpc2FibGVkKCkge1xuICAgIGNvbnN0IHsgZGlzYWJsZWQgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIGRpc2FibGVkO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIEBhY3Rpb25cbiAgaGFuZGxlRm9jdXMoZSkge1xuICAgIHRoaXMuaXNGb2N1c2VkID0gdHJ1ZTtcbiAgICB0aGlzLmlzRm9jdXMgPSB0cnVlO1xuICAgIGNvbnN0IHtcbiAgICAgIHByb3BzOiB7IG9uRm9jdXMgPSBub29wIH0sXG4gICAgICBwcmVmaXhDbHMsXG4gICAgfSA9IHRoaXM7XG4gICAgb25Gb2N1cyhlKTtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy53cmFwcGVyIHx8IGZpbmRET01Ob2RlKHRoaXMpO1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBjbGFzc2VzKGVsZW1lbnQpLmFkZChgJHtwcmVmaXhDbHN9LWZvY3VzZWRgKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgQGFjdGlvblxuICBoYW5kbGVCbHVyKGUpIHtcbiAgICBpZiAoIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcHJvcHM6IHsgb25CbHVyID0gbm9vcCB9LFxuICAgICAgICBwcmVmaXhDbHMsXG4gICAgICB9ID0gdGhpcztcbiAgICAgIG9uQmx1cihlKTtcbiAgICAgIGlmICghZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMud3JhcHBlciB8fCBmaW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICBjbGFzc2VzKGVsZW1lbnQpLnJlbW92ZShgJHtwcmVmaXhDbHN9LWZvY3VzZWRgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvY3VzKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIGJsdXIoKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgdGhpcy5lbGVtZW50LmJsdXIoKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgZWxlbWVudFJlZmVyZW5jZShub2RlKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gbm9kZTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBAYWN0aW9uXG4gIHdyYXBwZXJSZWZlcmVuY2Uobm9kZSkge1xuICAgIHRoaXMud3JhcHBlciA9IG5vZGU7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcywgbmV4dENvbnRleHQpIHtcbiAgICB0aGlzLnVwZGF0ZU9ic2VydmFibGVQcm9wcyhuZXh0UHJvcHMsIG5leHRDb250ZXh0KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICBjb25zdCB7IHRhYkluZGV4LCBhdXRvRm9jdXMgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCF0aGlzLmlzRGlzYWJsZWQoKSAmJiBhdXRvRm9jdXMgJiYgKHRhYkluZGV4ID09PSB1bmRlZmluZWQgfHwgdGFiSW5kZXggPiAtMSkpIHtcbiAgICAgIGRlZmVyKCgpID0+IHRoaXMuZm9jdXMoKSk7XG4gICAgfVxuICB9XG59XG4iXX0=