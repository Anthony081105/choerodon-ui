7ba03d7dc310641636ac8a2687336169
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf3 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _ = _interopRequireDefault(require(".."));

var _dataSet = _interopRequireDefault(require("../../data-set"));

var _textField = _interopRequireDefault(require("../../text-field"));

var _numberField = _interopRequireDefault(require("../../number-field"));

var _password = _interopRequireDefault(require("../../password"));

var _button = _interopRequireDefault(require("../../button"));

var _emailField = _interopRequireDefault(require("../../email-field"));

var FormTest =
/*#__PURE__*/
function (_React$Component) {
  (0, _inherits2["default"])(FormTest, _React$Component);

  function FormTest() {
    var _getPrototypeOf2;

    var _this;

    (0, _classCallCheck2["default"])(this, FormTest);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = (0, _possibleConstructorReturn2["default"])(this, (_getPrototypeOf2 = (0, _getPrototypeOf3["default"])(FormTest)).call.apply(_getPrototypeOf2, [this].concat(args)));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "ds", new _dataSet["default"]({
      data: [{
        phone: 1800000000,
        age: 18,
        sex: 'F',
        email: 'xxx@choerodon.io',
        homepage: 'https://choerodon.io'
      }],
      fields: [{
        name: 'phone',
        type: 'string',
        label: '手机号',
        labelWidth: 150,
        required: true,
        pattern: '^1[3-9]\\d{9}$'
      }, // /^1[3-9]\d{9}$/
      {
        name: 'password',
        type: 'string',
        label: '密码',
        required: true
      }, {
        name: 'age',
        type: 'number',
        label: '年龄',
        required: true,
        min: 18,
        step: 1,
        help: '我们需要确定你的年龄'
      }, {
        name: 'email',
        type: 'email',
        label: '邮箱',
        required: true
      }]
    }));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "changeField", function () {
      _this.ds.current.getField('code').set('textField', 'description');
    });
    return _this;
  }

  (0, _createClass2["default"])(FormTest, [{
    key: "render",
    value: function render() {
      return _react["default"].createElement(_["default"], {
        dataSet: this.ds,
        style: {
          width: '4.5rem'
        }
      }, _react["default"].createElement(_textField["default"], {
        name: "phone"
      }), _react["default"].createElement(_password["default"], {
        name: "password"
      }), _react["default"].createElement(_numberField["default"], {
        name: "age",
        addonAfter: "\u5468\u5C81",
        showHelp: "tooltip"
      }), _react["default"].createElement(_emailField["default"], {
        name: "email"
      }), _react["default"].createElement("div", null, _react["default"].createElement(_button["default"], {
        type: "submit"
      }, "\u6CE8\u518C"), _react["default"].createElement(_button["default"], {
        type: "reset",
        style: {
          marginLeft: 8
        }
      }, "\u91CD\u7F6E"), _react["default"].createElement(_button["default"], {
        onClick: this.changeField,
        style: {
          marginLeft: 8
        }
      }, "\u8BBE\u7F6E\u4EE3\u7801\u63CF\u8FF0\u7684textField")));
    }
  }]);
  return FormTest;
}(_react["default"].Component);

describe('Select', function () {
  beforeEach(function () {
    jest.useFakeTimers();
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  it('the form reder right', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(FormTest, null));
    jest.runAllTimers();
    expect(wrapper.find('input').length).toBe(5);
  });
  it('dataset data form test', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(FormTest, {
      disabled: true
    }));
    expect(wrapper.find('input').at(0).prop('value')).toBe('1800000000');
    expect(wrapper.find('input').at(1).prop('value')).toBe(undefined);
    expect(wrapper.find('input').at(2).prop('value')).toBe('');
    expect(wrapper.find('input').at(3).prop('value')).toBe('18');
    expect(wrapper.find('input').at(4).prop('value')).toBe('xxx@choerodon.io');
  });
  it('disable test', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(FormTest, {
      disabled: true
    }));
    jest.runAllTimers();
    expect(wrapper).toMatchSnapshot();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsiRm9ybVRlc3QiLCJEYXRhU2V0IiwiZGF0YSIsInBob25lIiwiYWdlIiwic2V4IiwiZW1haWwiLCJob21lcGFnZSIsImZpZWxkcyIsIm5hbWUiLCJ0eXBlIiwibGFiZWwiLCJsYWJlbFdpZHRoIiwicmVxdWlyZWQiLCJwYXR0ZXJuIiwibWluIiwic3RlcCIsImhlbHAiLCJkcyIsImN1cnJlbnQiLCJnZXRGaWVsZCIsInNldCIsIndpZHRoIiwibWFyZ2luTGVmdCIsImNoYW5nZUZpZWxkIiwiUmVhY3QiLCJDb21wb25lbnQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJqZXN0IiwidXNlRmFrZVRpbWVycyIsImFmdGVyRWFjaCIsInVzZVJlYWxUaW1lcnMiLCJpdCIsIndyYXBwZXIiLCJydW5BbGxUaW1lcnMiLCJleHBlY3QiLCJmaW5kIiwibGVuZ3RoIiwidG9CZSIsImF0IiwicHJvcCIsInVuZGVmaW5lZCIsInRvTWF0Y2hTbmFwc2hvdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0lBRU1BLFE7Ozs7Ozs7Ozs7Ozs7Ozs7OzJGQUNDLElBQUlDLG1CQUFKLENBQVk7QUFDZkMsTUFBQUEsSUFBSSxFQUFFLENBQ0o7QUFDRUMsUUFBQUEsS0FBSyxFQUFFLFVBRFQ7QUFFRUMsUUFBQUEsR0FBRyxFQUFFLEVBRlA7QUFHRUMsUUFBQUEsR0FBRyxFQUFFLEdBSFA7QUFJRUMsUUFBQUEsS0FBSyxFQUFFLGtCQUpUO0FBS0VDLFFBQUFBLFFBQVEsRUFBRTtBQUxaLE9BREksQ0FEUztBQVVmQyxNQUFBQSxNQUFNLEVBQUUsQ0FDTjtBQUNFQyxRQUFBQSxJQUFJLEVBQUUsT0FEUjtBQUVFQyxRQUFBQSxJQUFJLEVBQUUsUUFGUjtBQUdFQyxRQUFBQSxLQUFLLEVBQUUsS0FIVDtBQUlFQyxRQUFBQSxVQUFVLEVB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bXBvcnQgeyBtb3VudCB9IGZyb20gJ2VuenltZSc7XG5pbXBvcnQgRm9ybSBmcm9tICcuLic7XG5pbXBvcnQgRGF0YVNldCBmcm9tICcuLi8uLi9kYXRhLXNldCc7XG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJy4uLy4uL3RleHQtZmllbGQnO1xuaW1wb3J0IE51bWJlckZpZWxkIGZyb20gJy4uLy4uL251bWJlci1maWVsZCc7XG5pbXBvcnQgUGFzc3dvcmQgZnJvbSAnLi4vLi4vcGFzc3dvcmQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi8uLi9idXR0b24nO1xuaW1wb3J0IEVtYWlsRmllbGQgZnJvbSAnLi4vLi4vZW1haWwtZmllbGQnO1xuXG5jbGFzcyBGb3JtVGVzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGRzID0gbmV3IERhdGFTZXQoe1xuICAgIGRhdGE6IFtcbiAgICAgIHtcbiAgICAgICAgcGhvbmU6IDE4MDAwMDAwMDAsXG4gICAgICAgIGFnZTogMTgsXG4gICAgICAgIHNleDogJ0YnLFxuICAgICAgICBlbWFpbDogJ3h4eEBjaG9lcm9kb24uaW8nLFxuICAgICAgICBob21lcGFnZTogJ2h0dHBzOi8vY2hvZXJvZG9uLmlvJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBmaWVsZHM6IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ3Bob25lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGxhYmVsOiAn5omL5py65Y+3JyxcbiAgICAgICAgbGFiZWxXaWR0aDogMTUwLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgcGF0dGVybjogJ14xWzMtOV1cXFxcZHs5fSQnLFxuICAgICAgfSwgLy8gL14xWzMtOV1cXGR7OX0kL1xuICAgICAge1xuICAgICAgICBuYW1lOiAncGFzc3dvcmQnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgbGFiZWw6ICflr4bnoIEnLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdhZ2UnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgbGFiZWw6ICflubTpvoQnLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgbWluOiAxOCxcbiAgICAgICAgc3RlcDogMSxcbiAgICAgICAgaGVscDogJ+aIkeS7rOmcgOimgeehruWumuS9oOeahOW5tOm+hCcsXG4gICAgICB9LFxuICAgICAgeyBuYW1lOiAnZW1haWwnLCB0eXBlOiAnZW1haWwnLCBsYWJlbDogJ+mCrueusScsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgXSxcbiAgfSk7XG5cbiAgY2hhbmdlRmllbGQgPSAoKSA9PiB7XG4gICAgdGhpcy5kcy5jdXJyZW50LmdldEZpZWxkKCdjb2RlJykuc2V0KCd0ZXh0RmllbGQnLCAnZGVzY3JpcHRpb24nKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxGb3JtIGRhdGFTZXQ9e3RoaXMuZHN9IHN0eWxlPXt7IHdpZHRoOiAnNC41cmVtJyB9fT5cbiAgICAgICAgPFRleHRGaWVsZCBuYW1lPVwicGhvbmVcIiAvPlxuICAgICAgICA8UGFzc3dvcmQgbmFtZT1cInBhc3N3b3JkXCIgLz5cbiAgICAgICAgPE51bWJlckZpZWxkIG5hbWU9XCJhZ2VcIiBhZGRvbkFmdGVyPVwi5ZGo5bKBXCIgc2hvd0hlbHA9XCJ0b29sdGlwXCIgLz5cbiAgICAgICAgPEVtYWlsRmllbGQgbmFtZT1cImVtYWlsXCIgLz5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJzdWJtaXRcIj7ms6jlhow8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJyZXNldFwiIHN0eWxlPXt7IG1hcmdpbkxlZnQ6IDggfX0+XG4gICAgICAgICAgICDph43nva5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2hhbmdlRmllbGR9IHN0eWxlPXt7IG1hcmdpbkxlZnQ6IDggfX0+XG4gICAgICAgICAgICDorr7nva7ku6PnoIHmj4/ov7DnmoR0ZXh0RmllbGRcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0Zvcm0+XG4gICAgKTtcbiAgfVxufVxuXG5kZXNjcmliZSgnU2VsZWN0JywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ3RoZSBmb3JtIHJlZGVyIHJpZ2h0JywgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudCg8Rm9ybVRlc3QgLz4pO1xuICAgIGplc3QucnVuQWxsVGltZXJzKCk7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnaW5wdXQnKS5sZW5ndGgpLnRvQmUoNSk7XG4gIH0pO1xuICBpdCgnZGF0YXNldCBkYXRhIGZvcm0gdGVzdCcsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPEZvcm1UZXN0IGRpc2FibGVkIC8+KTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCdpbnB1dCcpXG4gICAgICAgIC5hdCgwKVxuICAgICAgICAucHJvcCgndmFsdWUnKSxcbiAgICApLnRvQmUoJzE4MDAwMDAwMDAnKTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCdpbnB1dCcpXG4gICAgICAgIC5hdCgxKVxuICAgICAgICAucHJvcCgndmFsdWUnKSxcbiAgICApLnRvQmUodW5kZWZpbmVkKTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCdpbnB1dCcpXG4gICAgICAgIC5hdCgyKVxuICAgICAgICAucHJvcCgndmFsdWUnKSxcbiAgICApLnRvQmUoJycpO1xuICAgIGV4cGVjdChcbiAgICAgIHdyYXBwZXJcbiAgICAgICAgLmZpbmQoJ2lucHV0JylcbiAgICAgICAgLmF0KDMpXG4gICAgICAgIC5wcm9wKCd2YWx1ZScpLFxuICAgICkudG9CZSgnMTgnKTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCdpbnB1dCcpXG4gICAgICAgIC5hdCg0KVxuICAgICAgICAucHJvcCgndmFsdWUnKSxcbiAgICApLnRvQmUoJ3h4eEBjaG9lcm9kb24uaW8nKTtcbiAgfSk7XG4gIGl0KCdkaXNhYmxlIHRlc3QnLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KDxGb3JtVGVzdCBkaXNhYmxlZCAvPik7XG4gICAgamVzdC5ydW5BbGxUaW1lcnMoKTtcbiAgICBleHBlY3Qod3JhcHBlcikudG9NYXRjaFNuYXBzaG90KCk7XG4gIH0pO1xufSk7XG4iXX0=