{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components/date-picker/RangePicker.tsx"],"names":[],"mappings":"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","sourcesContent":["/* tslint:disable jsx-no-multiline-js */\nimport React, { Component, MouseEventHandler } from 'react';\nimport moment, { Moment } from 'moment';\nimport classNames from 'classnames';\nimport Button from '../button';\nimport Icon from '../icon';\nimport warning from '../_util/warning';\nimport interopDefault from '../_util/interopDefault';\nimport { RangePickerPresetRange, RangePickerValue } from './interface';\nimport RangeCalendar from '../rc-components/calendar/RangeCalendar';\nimport RcDatePicker from '../rc-components/calendar/Picker';\nimport { Size } from '../_util/enum';\nimport { getPrefixCls } from '../configure';\n\nexport interface RangePickerState {\n  value?: RangePickerValue;\n  showDate?: RangePickerValue;\n  open?: boolean;\n  hoverValue?: RangePickerValue;\n}\n\nfunction getShowDateFromValue(value: RangePickerValue) {\n  const [start, end] = value;\n  // value could be an empty array, then we should not reset showDate\n  if (!start && !end) {\n    return;\n  }\n  const newEnd = end && end.isSame(start, 'month') ? end.clone().add(1, 'month') : end;\n  return [start, newEnd] as RangePickerValue;\n}\n\nfunction formatValue(value: Moment | undefined, format: string): string {\n  return (value && value.format(format)) || '';\n}\n\nfunction pickerValueAdapter(value?: Moment | RangePickerValue): RangePickerValue | undefined {\n  if (!value) {\n    return;\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  return [value, value.clone().add(1, 'month')];\n}\n\nfunction isEmptyArray(arr: any) {\n  if (Array.isArray(arr)) {\n    return arr.length === 0 || arr.every(i => !i);\n  }\n  return false;\n}\n\nfunction fixLocale(value: RangePickerValue | undefined, localeCode: string) {\n  if (!localeCode) {\n    return;\n  }\n  if (!value || value.length === 0) {\n    return;\n  }\n  if (value[0]) {\n    value[0]!.locale(localeCode);\n  }\n  if (value[1]) {\n    value[1]!.locale(localeCode);\n  }\n}\n\nexport default class RangePicker extends Component<any, RangePickerState> {\n  static displayName = 'RangePicker';\n\n  static defaultProps = {\n    allowClear: true,\n    showToday: false,\n  };\n\n  private picker: HTMLSpanElement;\n\n  constructor(props: any) {\n    super(props);\n    const value = props.value || props.defaultValue || [];\n    if (\n      (value[0] && !interopDefault(moment).isMoment(value[0])) ||\n      (value[1] && !interopDefault(moment).isMoment(value[1]))\n    ) {\n      throw new Error('The value/defaultValue of RangePicker must be a moment object array');\n    }\n    const pickerValue = !value || isEmptyArray(value) ? props.defaultPickerValue : value;\n    this.state = {\n      value,\n      showDate: pickerValueAdapter(pickerValue || interopDefault(moment)()),\n      open: props.open,\n      hoverValue: [],\n    };\n  }\n\n  componentWillReceiveProps(nextProps: any) {\n    if ('value' in nextProps) {\n      const { showDate } = this.state;\n      const value = nextProps.value || [];\n      this.setState({\n        value,\n        showDate: getShowDateFromValue(value) || showDate,\n      });\n    }\n    if ('open' in nextProps) {\n      this.setState({\n        open: nextProps.open,\n      });\n    }\n  }\n\n  clearSelection: MouseEventHandler<HTMLElement> = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({ value: [] });\n    this.handleChange([]);\n  };\n\n  clearHoverValue = () => this.setState({ hoverValue: [] });\n\n  handleChange = (value: RangePickerValue) => {\n    const props = this.props;\n    if (!('value' in props)) {\n      this.setState(({ showDate }) => ({\n        value,\n        showDate: getShowDateFromValue(value) || showDate,\n      }));\n    }\n    props.onChange(value, [\n      formatValue(value[0], props.format),\n      formatValue(value[1], props.format),\n    ]);\n  };\n\n  handleOpenChange = (open: boolean) => {\n    if (!('open' in this.props)) {\n      this.setState({ open });\n    }\n\n    if (open === false) {\n      this.clearHoverValue();\n    }\n\n    const { onOpenChange } = this.props;\n    if (onOpenChange) {\n      onOpenChange(open);\n    }\n  };\n\n  handleShowDateChange = (showDate: RangePickerValue) => this.setState({ showDate });\n\n  handleHoverChange = (hoverValue: any) => this.setState({ hoverValue });\n\n  handleRangeMouseLeave = () => {\n    const { open } = this.state;\n    if (open) {\n      this.clearHoverValue();\n    }\n  };\n\n  handleCalendarInputSelect = (value: RangePickerValue) => {\n    if (!value[0]) {\n      return;\n    }\n    this.setState(({ showDate }) => ({\n      value,\n      showDate: getShowDateFromValue(value) || showDate,\n    }));\n  };\n\n  handleRangeClick = (value: RangePickerPresetRange) => {\n    if (typeof value === 'function') {\n      value = value();\n    }\n\n    this.setValue(value, true);\n\n    const { onOk } = this.props;\n    if (onOk) {\n      onOk(value);\n    }\n  };\n\n  setValue(value: RangePickerValue, hidePanel?: boolean) {\n    this.handleChange(value);\n    const { props } = this;\n    if ((hidePanel || !props.showTime) && !('open' in props)) {\n      this.setState({ open: false });\n    }\n  }\n\n  focus() {\n    this.picker.focus();\n  }\n\n  blur() {\n    this.picker.blur();\n  }\n\n  savePicker = (node: HTMLSpanElement) => {\n    this.picker = node;\n  };\n\n  renderFooter = (...args: any[]) => {\n    const { ranges, renderExtraFooter } = this.props;\n    const prefixCls = this.getPrefixCls();\n    if (!ranges && !renderExtraFooter) {\n      return null;\n    }\n    const customFooter = renderExtraFooter ? (\n      <div className={`${prefixCls}-footer-extra`} key=\"extra\">\n        {renderExtraFooter(...args)}\n      </div>\n    ) : null;\n    const operations = Object.keys(ranges || {}).map(range => {\n      const value = ranges[range];\n      return (\n        <a\n          key={range}\n          onClick={() => this.handleRangeClick(value)}\n          onMouseEnter={() => this.setState({ hoverValue: value })}\n          onMouseLeave={this.handleRangeMouseLeave}\n        >\n          {range}\n        </a>\n      );\n    });\n    const rangeNode = (\n      <div className={`${prefixCls}-footer-extra ${prefixCls}-range-quick-selector`} key=\"range\">\n        {operations}\n      </div>\n    );\n    return [rangeNode, customFooter];\n  };\n\n  getPrefixCls() {\n    const { prefixCls } = this.props;\n    return getPrefixCls('calendar', prefixCls);\n  }\n\n  render() {\n    const { state, props } = this;\n    const { value, showDate, hoverValue, open } = state;\n    const {\n      popupStyle,\n      style,\n      disabledDate,\n      disabledTime,\n      showTime,\n      showToday,\n      ranges,\n      onOk,\n      locale,\n      localeCode,\n      format,\n      dateRender,\n      onCalendarChange,\n    } = props;\n\n    fixLocale(value, localeCode);\n    fixLocale(showDate, localeCode);\n\n    warning(!('onOK' in props), 'It should be `RangePicker[onOk]`, instead of `onOK`!');\n\n    const prefixCls = this.getPrefixCls();\n    const calendarClassName = classNames({\n      [`${prefixCls}-time`]: showTime,\n      [`${prefixCls}-range-with-ranges`]: ranges,\n    });\n\n    // 需要选择时间时，点击 ok 时才触发 onChange\n    const pickerChangeHandler = {\n      onChange: this.handleChange,\n    };\n    let calendarProps: any = {\n      onOk: this.handleChange,\n    };\n    if (props.timePicker) {\n      pickerChangeHandler.onChange = changedValue => this.handleChange(changedValue);\n    } else {\n      calendarProps = {};\n    }\n    if ('mode' in props) {\n      calendarProps.mode = props.mode;\n    }\n\n    const startPlaceholder =\n      'placeholder' in props ? props.placeholder[0] : locale.lang.rangePlaceholder[0];\n    const endPlaceholder =\n      'placeholder' in props ? props.placeholder[1] : locale.lang.rangePlaceholder[1];\n\n    const calendar = (\n      <RangeCalendar\n        {...calendarProps}\n        onChange={onCalendarChange}\n        format={format}\n        prefixCls={prefixCls}\n        className={calendarClassName}\n        renderFooter={this.renderFooter}\n        timePicker={props.timePicker}\n        disabledDate={disabledDate}\n        disabledTime={disabledTime}\n        dateInputPlaceholder={[startPlaceholder, endPlaceholder]}\n        locale={locale.lang}\n        onOk={onOk}\n        dateRender={dateRender}\n        value={showDate}\n        onValueChange={this.handleShowDateChange}\n        hoverValue={hoverValue}\n        onHoverChange={this.handleHoverChange}\n        onPanelChange={props.onPanelChange}\n        showToday={showToday}\n        onInputSelect={this.handleCalendarInputSelect}\n      />\n    );\n\n    // default width for showTime\n    const pickerStyle = {} as any;\n    if (props.showTime) {\n      pickerStyle.width = (style && style.width) || 350;\n    }\n\n    const clearIcon =\n      !props.disabled && props.allowClear && value && (value[0] || value[1]) ? (\n        <Button\n          shape=\"circle\"\n          size={Size.small}\n          onClick={this.clearSelection}\n          className={`${prefixCls}-picker-clear`}\n          icon=\"close\"\n        />\n      ) : null;\n\n    const input = ({ value: inputValue }: { value: any }) => {\n      const start = inputValue[0];\n      const end = inputValue[1];\n      return (\n        <span className={`${prefixCls}-range-picker ${props.pickerWrapperInputClass}`}>\n          <span className={props.pickerInputClass}>\n            <input\n              disabled={props.disabled}\n              readOnly\n              value={(start && start.format(props.format)) || ''}\n              placeholder={startPlaceholder}\n              className={`${prefixCls}-range-picker-input`}\n              tabIndex={-1}\n            />\n            <span className={`${prefixCls}-range-picker-separator`}> ~ </span>\n            <input\n              disabled={props.disabled}\n              readOnly\n              value={(end && end.format(props.format)) || ''}\n              placeholder={endPlaceholder}\n              className={`${prefixCls}-range-picker-input`}\n              tabIndex={-1}\n            />\n            {clearIcon}\n            <span className={`${props.inputPrefixCls}-suffix`}>\n              <Icon type=\"date_range\" className={`${prefixCls}-picker-icon`} />\n            </span>\n          </span>\n        </span>\n      );\n    };\n\n    return (\n      <span\n        ref={this.savePicker}\n        id={props.id}\n        className={classNames(props.className, props.pickerClass)}\n        style={{ ...style, ...pickerStyle }}\n        tabIndex={props.disabled ? -1 : 0}\n        onFocus={props.onFocus}\n        onBlur={props.onBlur}\n      >\n        <RcDatePicker\n          {...props}\n          {...pickerChangeHandler}\n          calendar={calendar}\n          value={value}\n          open={open}\n          onOpenChange={this.handleOpenChange}\n          prefixCls={`${prefixCls}-picker-container`}\n          style={popupStyle}\n        >\n          {input}\n        </RcDatePicker>\n      </span>\n    );\n  }\n}\n"]}