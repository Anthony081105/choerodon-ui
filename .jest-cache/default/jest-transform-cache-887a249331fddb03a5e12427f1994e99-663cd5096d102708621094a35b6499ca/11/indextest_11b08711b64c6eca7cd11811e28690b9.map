{"version":3,"sources":["index.test.js"],"names":["ColorPicker","describe","beforeEach","jest","useFakeTimers","afterEach","useRealTimers","it","wrapper","expect","toMatchSnapshot","props","clearButton","toEqual","triggerHiddenDelay","triggerShowDelay","find","at","prop","toBe","handleChange","fn","setProps","value","update","readOnly","simulate","runAllTimers","not","toHaveBeenCalled","instance","setColor","name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { mount } from 'enzyme';\nimport ColorPicker from '..';\nimport mountTest from '../../../tests/shared/mountTest';\nimport focusTest from '../../../tests/shared/focusTest';\nimport triggerTest from '../../../tests/shared/triggerPopTest';\nimport ColorPickerTest from './ColorPicker';\n\nmountTest(ColorPicker);\nfocusTest(ColorPicker);\ntriggerTest(ColorPicker);\n\ndescribe('color-picker-pro', () => {\n  beforeEach(() => {\n    jest.useFakeTimers();\n  });\n\n  afterEach(() => {\n    jest.useRealTimers();\n  });\n\n  it('renders ColorPicker correctly', () => {\n    const wrapper = mount(<ColorPicker />);\n    expect(wrapper).toMatchSnapshot();\n  });\n\n  it('ColorPicker has the defaultProps clearButton', () => {\n    const wrapper = mount(<ColorPicker />);\n    expect(wrapper.props().clearButton).toEqual(false);\n    expect(wrapper.props().triggerHiddenDelay).toEqual(50);\n    expect(wrapper.props().triggerShowDelay).toEqual(150);\n  });\n\n  it('should has the defaultValue', () => {\n    const wrapper = mount(<ColorPicker defaultValue=\"#f1c7f2\" />);\n    expect(\n      wrapper\n        .find('input')\n        .at(0)\n        .prop('value'),\n    ).toBe('#f1c7f2');\n  });\n\n  it('the color will be controlled by the value', () => {\n    const handleChange = jest.fn();\n    const wrapper = mount(<ColorPicker value=\"#f1c7f2\" onChange={handleChange} />);\n    expect(\n      wrapper\n        .find('input')\n        .at(0)\n        .prop('value'),\n    ).toBe('#f1c7f2');\n    wrapper.setProps({ value: '#00ff00' });\n    wrapper.update();\n    expect(\n      wrapper\n        .find('input')\n        .at(0)\n        .prop('value'),\n    ).toBe('#00ff00');\n  });\n\n  it('can not click or input when the readOnly true and default false', () => {\n    const handleChange = jest.fn();\n    const wrapper = mount(<ColorPicker onChange={handleChange} />);\n    expect(wrapper.prop('readOnly')).toBe(false);\n    wrapper.setProps({ readOnly: true });\n    wrapper.update();\n    expect(wrapper.prop('readOnly')).toBe(true);\n\n    wrapper.find('input').simulate('change');\n    jest.runAllTimers();\n    wrapper.update();\n    expect(handleChange).not.toHaveBeenCalled();\n  });\n  it('should trigger dataset default value correctly', () => {\n    const wrapper = mount(<ColorPicker />);\n    expect(\n      wrapper\n        .find('.c7n-pro-color-picker-popup')\n        .at(0)\n        .prop('hidden'),\n    ).toEqual(true);\n    wrapper.find('input').simulate('click');\n    jest.runAllTimers();\n    wrapper.update();\n    expect(\n      wrapper\n        .find('.c7n-pro-color-picker-popup')\n        .at(0)\n        .prop('hidden'),\n    ).toEqual(false);\n  });\n\n  it('footer-slider click event render correctly', () => {\n    const wrapper = mount(<ColorPicker />);\n    wrapper.find('input').simulate('click');\n    jest.runAllTimers();\n    wrapper.find('.hue').simulate('click');\n    jest.runAllTimers();\n    expect(wrapper).toMatchSnapshot();\n  });\n\n  it('the change event trigger when the body popup clicked', () => {\n    const handleChange = jest.fn();\n    const wrapper = mount(<ColorPicker onChange={handleChange} />);\n    wrapper.find('input').simulate('click');\n    jest.runAllTimers();\n    wrapper.find('.c7n-pro-color-picker-popup-body-gradient').simulate('click');\n    jest.runAllTimers();\n    expect(handleChange).toHaveBeenCalled();\n  });\n\n  it('the panel body click event render correctly', () => {\n    const wrapper = mount(<ColorPicker />);\n    wrapper.find('input').simulate('click');\n    jest.runAllTimers();\n    wrapper.find('.c7n-pro-color-picker-popup-body-selector').simulate('mousedown');\n    expect(wrapper).toMatchSnapshot();\n  });\n\n  it('the sliderPointer of footer click event render correctly', () => {\n    const wrapper = mount(<ColorPicker />);\n    wrapper.find('input').simulate('click');\n    jest.runAllTimers();\n    wrapper\n      .find('.c7n-pro-color-picker-popup-footer-slider-pointer')\n      .at(0)\n      .simulate('mousedown');\n    jest.runAllTimers();\n    wrapper.instance().setColor('#ff00ee');\n    jest.runAllTimers();\n    expect(wrapper).toMatchSnapshot();\n  });\n\n  it('should renders dataset default value correctly', () => {\n    const wrapper = mount(<ColorPickerTest />);\n    expect(wrapper.find('ColorPicker').props().name).toEqual('color');\n    expect(wrapper.find('input').prop('value')).toBe('#00ff12');\n    expect(wrapper).toMatchSnapshot();\n  });\n});\n"]}