{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components/_util/scrollTo.tsx"],"names":[],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAWc,SAAU,QAAV,CAAmB,CAAnB,EAA2D;AAAA,MAA7B,OAA6B,uEAAF,EAAE;AAAA,8BACL,OADK,CAC/D,YAD+D;AAAA,MAC/D,YAD+D,sCAChD;AAAA,WAAM,MAAN;AAAA,GADgD;AAAA,MAClC,QADkC,GACL,OADK,CAClC,QADkC;AAAA,0BACL,OADK,CACxB,QADwB;AAAA,MACxB,QADwB,kCACb,GADa;AAGvE,MAAM,SAAS,GAAG,YAAY,EAA9B;AACA,MAAM,SAAS,GAAG,2BAAU,SAAV,EAAqB,IAArB,CAAlB;AACA,MAAM,SAAS,GAAG,IAAI,CAAC,GAAL,EAAlB;;AAEA,MAAM,SAAS,GAAG,SAAZ,SAAY,GAAK;AACrB,QAAM,SAAS,GAAG,IAAI,CAAC,GAAL,EAAlB;AACA,QAAM,IAAI,GAAG,SAAS,GAAG,SAAzB;AACA,QAAM,aAAa,GAAG,6BAAe,IAAI,GAAG,QAAP,GAAkB,QAAlB,GAA6B,IAA5C,EAAkD,SAAlD,EAA6D,CAA7D,EAAgE,QAAhE,CAAtB;;AACA,QAAI,SAAS,KAAK,MAAlB,EAA0B;AACxB,MAAA,MAAM,CAAC,QAAP,CAAgB,MAAM,CAAC,WAAvB,EAAoC,aAApC;AACD,KAFD,MAEO;AACJ,MAAA,SAAyB,CAAC,SAA1B,GAAsC,aAAtC;AACF;;AACD,QAAI,IAAI,GAAG,QAAX,EAAqB;AACnB,2BAAI,SAAJ;AACD,KAFD,MAEO,IAAI,OAAO,QAAP,KAAoB,UAAxB,EAAoC;AACzC,MAAA,QAAQ;AACT;AACF,GAdD;;AAeA,uBAAI,SAAJ;AACD","sourcesContent":["import raf from 'raf';\nimport getScroll from './getScroll';\nimport { easeInOutCubic } from './easings';\n\ninterface ScrollToOptions {\n  /** Scroll container, default as window */\n  getContainer?: () => HTMLElement | Window;\n  /** Scroll end callback */\n  callback?: () => any;\n  /** Animation duration, default as 450 */\n  duration?: number;\n}\n\nexport default function scrollTo(y: number, options: ScrollToOptions = {}) {\n  const { getContainer = () => window, callback, duration = 450 } = options;\n\n  const container = getContainer();\n  const scrollTop = getScroll(container, true);\n  const startTime = Date.now();\n\n  const frameFunc = () => {\n    const timestamp = Date.now();\n    const time = timestamp - startTime;\n    const nextScrollTop = easeInOutCubic(time > duration ? duration : time, scrollTop, y, duration);\n    if (container === window) {\n      window.scrollTo(window.pageXOffset, nextScrollTop);\n    } else {\n      (container as HTMLElement).scrollTop = nextScrollTop;\n    }\n    if (time < duration) {\n      raf(frameFunc);\n    } else if (typeof callback === 'function') {\n      callback();\n    }\n  };\n  raf(frameFunc);\n}\n"]}