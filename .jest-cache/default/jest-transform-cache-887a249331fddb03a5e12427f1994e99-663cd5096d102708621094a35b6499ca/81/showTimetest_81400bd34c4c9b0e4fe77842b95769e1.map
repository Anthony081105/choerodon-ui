{"version":3,"sources":["showTime.test.js"],"names":["RangePicker","DatePicker","describe","it","onChangeFn","jest","fn","onOpenChangeFn","wrapper","calendarWrapper","find","instance","getComponent","at","simulate","expect","toHaveBeenCalled","not","onOkFn","toHaveBeenCalledWith","use12Hours","length","toBe","hostNodes","hasClass","mockClear"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { mount } from 'enzyme';\nimport DatePicker from '..';\n\nconst { RangePicker } = DatePicker;\n\ndescribe('DatePicker with showTime', () => {\n  it('should trigger onChange when select value', () => {\n    const onChangeFn = jest.fn();\n    const onOpenChangeFn = jest.fn();\n    const wrapper = mount(\n      <DatePicker showTime open onChange={onChangeFn} onOpenChange={onOpenChangeFn} />,\n    );\n\n    const calendarWrapper = mount(\n      wrapper\n        .find('Trigger')\n        .instance()\n        .getComponent(),\n    );\n    calendarWrapper\n      .find('.c7n-calendar-date')\n      .at(0)\n      .simulate('click');\n    expect(onChangeFn).toHaveBeenCalled();\n    expect(onOpenChangeFn).not.toHaveBeenCalled();\n  });\n\n  it('should trigger onOk when press ok button', () => {\n    const onOkFn = jest.fn();\n    const onOpenChangeFn = jest.fn();\n    const onChangeFn = jest.fn();\n\n    const wrapper = mount(\n      <DatePicker\n        showTime\n        open\n        onChange={onChangeFn}\n        onOk={onOkFn}\n        onOpenChange={onOpenChangeFn}\n      />,\n    );\n\n    const calendarWrapper = mount(\n      wrapper\n        .find('Trigger')\n        .instance()\n        .getComponent(),\n    );\n    calendarWrapper.find('.c7n-calendar-ok-btn').simulate('click');\n    expect(onOkFn).toHaveBeenCalled();\n    expect(onOpenChangeFn).toHaveBeenCalledWith(false);\n    expect(onChangeFn).not.toHaveBeenCalled();\n  });\n\n  it('should trigger onChange when click Now link', () => {\n    const onOpenChangeFn = jest.fn();\n    const onChangeFn = jest.fn();\n\n    const wrapper = mount(\n      <DatePicker showTime open onChange={onChangeFn} onOpenChange={onOpenChangeFn} />,\n    );\n\n    const calendarWrapper = mount(\n      wrapper\n        .find('Trigger')\n        .instance()\n        .getComponent(),\n    );\n    calendarWrapper.find('.c7n-calendar-today-btn').simulate('click');\n    expect(onOpenChangeFn).toHaveBeenCalledWith(false);\n    expect(onChangeFn).toHaveBeenCalled();\n  });\n\n  it('should have correct className when use12Hours is true', () => {\n    const wrapper = mount(<DatePicker showTime={{ use12Hours: true }} open />);\n    const calendarWrapper = mount(\n      wrapper\n        .find('Trigger')\n        .instance()\n        .getComponent(),\n    );\n    expect(calendarWrapper.find('.c7n-calendar-time-picker-column-4').length).toBe(0);\n    calendarWrapper\n      .find('.c7n-calendar-time-picker-btn')\n      .at(0)\n      .simulate('click');\n    expect(calendarWrapper.find('.c7n-calendar-time-picker-column-4').hostNodes().length).toBe(1);\n  });\n});\n\ndescribe('RangePicker with showTime', () => {\n  it('should trigger onChange when select value', () => {\n    const onChangeFn = jest.fn();\n    const onOpenChangeFn = jest.fn();\n    const wrapper = mount(\n      <RangePicker showTime open onChange={onChangeFn} onOpenChange={onOpenChangeFn} />,\n    );\n\n    const calendarWrapper = mount(\n      wrapper\n        .find('Trigger')\n        .instance()\n        .getComponent(),\n    );\n    expect(\n      calendarWrapper\n        .find('.c7n-calendar-time-picker-btn')\n        .hasClass('c7n-calendar-time-picker-btn-disabled'),\n    ).toBe(true);\n    expect(\n      calendarWrapper.find('.c7n-calendar-ok-btn').hasClass('c7n-calendar-ok-btn-disabled'),\n    ).toBe(true);\n    calendarWrapper\n      .find('.c7n-calendar-date')\n      .at(10)\n      .simulate('click');\n    calendarWrapper\n      .find('.c7n-calendar-date')\n      .at(11)\n      .simulate('click');\n    expect(\n      calendarWrapper\n        .find('.c7n-calendar-time-picker-btn')\n        .hasClass('c7n-calendar-time-picker-btn-disabled'),\n    ).toBe(false);\n    expect(\n      calendarWrapper.find('.c7n-calendar-ok-btn').hasClass('c7n-calendar-ok-btn-disabled'),\n    ).toBe(false);\n    expect(onChangeFn).toHaveBeenCalled();\n    expect(onOpenChangeFn).not.toHaveBeenCalled();\n  });\n\n  it('should trigger onOk when press ok button', () => {\n    const onOkFn = jest.fn();\n    const onChangeFn = jest.fn();\n    const onOpenChangeFn = jest.fn();\n    const wrapper = mount(\n      <RangePicker\n        showTime\n        open\n        onOk={onOkFn}\n        onChange={onChangeFn}\n        onOpenChange={onOpenChangeFn}\n      />,\n    );\n\n    const calendarWrapper = mount(\n      wrapper\n        .find('Trigger')\n        .instance()\n        .getComponent(),\n    );\n    calendarWrapper\n      .find('.c7n-calendar-date')\n      .at(10)\n      .simulate('click');\n    calendarWrapper\n      .find('.c7n-calendar-date')\n      .at(11)\n      .simulate('click');\n    onChangeFn.mockClear();\n    calendarWrapper.find('.c7n-calendar-ok-btn').simulate('click');\n    expect(onOkFn).toHaveBeenCalled();\n    expect(onOpenChangeFn).toHaveBeenCalledWith(false);\n    expect(onChangeFn).not.toHaveBeenCalled();\n  });\n});\n"]}