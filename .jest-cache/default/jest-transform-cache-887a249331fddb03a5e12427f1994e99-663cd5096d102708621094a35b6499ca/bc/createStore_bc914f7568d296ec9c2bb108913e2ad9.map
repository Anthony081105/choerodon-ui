{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components/table/createStore.tsx"],"names":[],"mappings":";;;;;;;;;;;AAMc,SAAU,WAAV,CAAsB,YAAtB,EAA0C;AACtD,MAAI,KAAK,GAAG,YAAZ;AACA,MAAM,SAAS,GAAU,EAAzB;;AAEA,WAAS,QAAT,CAAkB,OAAlB,EAAiC;AAC/B,IAAA,KAAK,sCACA,KADA,MAEA,OAFA,CAAL;;AAIA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,SAAS,CAAC,MAA9B,EAAsC,CAAC,EAAvC,EAA2C;AACzC,MAAA,SAAS,CAAC,CAAD,CAAT;AACD;AACF;;AAED,WAAS,QAAT,GAAiB;AACf,WAAO,KAAP;AACD;;AAED,WAAS,SAAT,CAAmB,QAAnB,EAAsC;AACpC,IAAA,SAAS,CAAC,IAAV,CAAe,QAAf;AAEA,WAAO,SAAS,WAAT,GAAoB;AACzB,UAAM,KAAK,GAAG,SAAS,CAAC,OAAV,CAAkB,QAAlB,CAAd;AACA,MAAA,SAAS,CAAC,MAAV,CAAiB,KAAjB,EAAwB,CAAxB;AACD,KAHD;AAID;;AAED,SAAO;AACL,IAAA,QAAQ,EAAR,QADK;AAEL,IAAA,QAAQ,EAAR,QAFK;AAGL,IAAA,SAAS,EAAT;AAHK,GAAP;AAKD","sourcesContent":["export interface Store {\n  setState: (partial: Object) => void;\n  getState: () => any;\n  subscribe: (listener: () => void) => () => void;\n}\n\nexport default function createStore(initialState: object): Store {\n  let state = initialState;\n  const listeners: any[] = [];\n\n  function setState(partial: object) {\n    state = {\n      ...state,\n      ...partial,\n    };\n    for (let i = 0; i < listeners.length; i++) {\n      listeners[i]();\n    }\n  }\n\n  function getState() {\n    return state;\n  }\n\n  function subscribe(listener: () => any) {\n    listeners.push(listener);\n\n    return function unsubscribe() {\n      const index = listeners.indexOf(listener);\n      listeners.splice(index, 1);\n    };\n  }\n\n  return {\n    setState,\n    getState,\n    subscribe,\n  };\n}\n"]}