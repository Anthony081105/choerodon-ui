28be1f7c309164feed14e658b611229d
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _createStore = _interopRequireDefault(require("../createStore"));

var _SelectionBox = _interopRequireDefault(require("../SelectionBox"));

var getDefaultStore = function getDefaultStore(selectedRowKeys) {
  return (0, _createStore["default"])({
    selectedRowKeys: selectedRowKeys || [],
    selectionDirty: false
  });
};

describe('SelectionBox', function () {
  it('unchecked by selectedRowKeys ', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_SelectionBox["default"], {
      store: getDefaultStore(),
      rowIndex: "1",
      disabled: false,
      onChange: function onChange() {},
      defaultSelection: []
    }));
    expect(wrapper.state()).toEqual({
      checked: false
    });
  });
  it('checked by selectedRowKeys ', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_SelectionBox["default"], {
      store: getDefaultStore(['1']),
      rowIndex: "1",
      disabled: false,
      onChange: function onChange() {},
      defaultSelection: []
    }));
    expect(wrapper.state()).toEqual({
      checked: true
    });
  });
  it('checked by defaultSelection', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_SelectionBox["default"], {
      store: getDefaultStore(),
      rowIndex: "1",
      disabled: false,
      onChange: function onChange() {},
      defaultSelection: ['1']
    }));
    expect(wrapper.state()).toEqual({
      checked: true
    });
  });
  it('checked when store change', function () {
    var store = getDefaultStore();
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_SelectionBox["default"], {
      store: store,
      rowIndex: "1",
      disabled: false,
      onChange: function onChange() {},
      defaultSelection: []
    }));
    store.setState({
      selectedRowKeys: ['1'],
      selectionDirty: true
    });
    expect(wrapper.state()).toEqual({
      checked: true
    });
  });
  it('passes props to Checkbox', function () {
    var checkboxProps = {
      name: 'testName',
      id: 'testId'
    };
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_SelectionBox["default"], (0, _extends2["default"])({
      store: getDefaultStore(),
      rowIndex: "1",
      disabled: false,
      onChange: function onChange() {},
      defaultSelection: ['1']
    }, checkboxProps)));
    wrapper.find('Checkbox').forEach(function (box) {
      expect(box.props().name).toEqual(checkboxProps.name);
      expect(box.props().id).toEqual(checkboxProps.id);
    });
  });
  it('passes props to Radios', function () {
    var radioProps = {
      name: 'testName',
      id: 'testId'
    };
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_SelectionBox["default"], (0, _extends2["default"])({
      store: getDefaultStore(),
      rowIndex: "1",
      disabled: false,
      onChange: function onChange() {},
      defaultSelection: ['1'],
      type: "radio"
    }, radioProps)));
    wrapper.find('Radio').forEach(function (radio) {
      expect(radio.props().name).toEqual(radioProps.name);
      expect(radio.props().id).toEqual(radioProps.id);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlbGVjdGlvbkJveC50ZXN0LmpzIl0sIm5hbWVzIjpbImdldERlZmF1bHRTdG9yZSIsInNlbGVjdGVkUm93S2V5cyIsInNlbGVjdGlvbkRpcnR5IiwiZGVzY3JpYmUiLCJpdCIsIndyYXBwZXIiLCJleHBlY3QiLCJzdGF0ZSIsInRvRXF1YWwiLCJjaGVja2VkIiwic3RvcmUiLCJzZXRTdGF0ZSIsImNoZWNrYm94UHJvcHMiLCJuYW1lIiwiaWQiLCJmaW5kIiwiZm9yRWFjaCIsImJveCIsInByb3BzIiwicmFkaW9Qcm9wcyIsInJhZGlvIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxlQUFlLEdBQUcsU0FBbEJBLGVBQWtCLENBQUFDLGVBQWUsRUFBSTtBQUN6QyxTQUFPLDZCQUFZO0FBQ2pCQSxJQUFBQSxlQUFlLEVBQUVBLGVBQWUsSUFBSSxFQURuQjtBQUVqQkMsSUFBQUEsY0FBYyxFQUFFO0FBRkMsR0FBWixDQUFQO0FBSUQsQ0FMRDs7QUFPQUMsUUFBUSxDQUFDLGNBQUQsRUFBaUIsWUFBTTtBQUM3QkMsRUFBQUEsRUFBRSxDQUFDLCtCQUFELEVBQWtDLFlBQU07QUFDeEMsUUFBTUMsT0FBTyxHQUFHLG1CQUNkLGdDQUFDLHdCQUFEO0FBQ0UsTUFBQSxLQUFLLEVBQUVMLGVBQWUsRUFEeEI7QUFFRSxNQUFBLFFBQVEsRUFBQyxHQUZYO0FBR0UsTUFBQSxRQUFRLEVBQUUsS0FIWjtBQUlFLE1BQUEsUUFBUSxFQUFFLG9CQUFNLENBQUUsQ0FKcEI7QUFLRSxNQUFBLGdCQUFnQixFQUFFO0FBTHBCLE1BRGMsQ0FBaEI7QUFVQU0sSUFBQUEsTUFBTSxDQUFDRCxPQUFPLENBQUNFLEtBQVIsRUFBRCxDQUFOLENBQXdCQyxPQUF4QixDQUFnQztBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFoQztBQUNELEdBWkMsQ0FBRjtBQWNBTCxFQUFBQSxFQUFFLENBQUMsNkJBQUQsRUFBZ0MsWUFBTTtBQUN0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QUY7QUFxQkFWLEVBQUFBLEVBQUUsQ0FBQyx3QkFBRCxFQUEyQixZQUFNO0FBQ2pDLFFBQU1lLFVBQVUsR0FBRztBQUNqQk4sTUFBQUEsSUFBSSxFQUFFLFVBRFc7QUFFakJDLE1BQUFBLEVBQUUsRUFBRTtBQUZhLEtBQW5CO0FBSUEsUUFBTVQsT0FBTyxHQUFHLG1CQUNkLGdDQUFDLHdCQUFEO0FBQ0UsTUFBQSxLQUFLLEVBQUVMLGVBQWUsRUFEeEI7QUFFRSxNQUFBLFFBQVEsRUFBQyxHQUZYO0FBR0UsTUFBQSxRQUFRLEVBQUUsS0FIWjtBQUlFLE1BQUEsUUFBUSxFQUFFLG9CQUFNLENBQUUsQ0FKcEI7QUFLRSxNQUFBLGdCQUFnQixFQUFFLENBQUMsR0FBRCxDQUxwQjtBQU1FLE1BQUEsSUFBSSxFQUFDO0FBTlAsT0FPTW1CLFVBUE4sRUFEYyxDQUFoQjtBQVdBZCxJQUFBQSxPQUFPLENBQUNVLElBQVIsQ0FBYSxPQUFiLEVBQXNCQyxPQUF0QixDQUE4QixVQUFBSSxLQUFLLEVBQUk7QUFDckNkLE1BQUFBLE1BQU0sQ0FBQ2MsS0FBSyxDQUFDRixLQUFOLEdBQWNMLElBQWYsQ0FBTixDQUEyQkwsT0FBM0IsQ0FBbUNXLFVBQVUsQ0FBQ04sSUFBOUM7QUFDQVAsTUFBQUEsTUFBTSxDQUFDYyxLQUFLLENBQUNGLEtBQU4sR0FBY0osRUFBZixDQUFOLENBQXlCTixPQUF6QixDQUFpQ1csVUFBVSxDQUFDTCxFQUE1QztBQUNELEtBSEQ7QUFJRCxHQXBCQyxDQUFGO0FBcUJELENBekdPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbW91bnQgfSBmcm9tICdlbnp5bWUnO1xuaW1wb3J0IGNyZWF0ZVN0b3JlIGZyb20gJy4uL2NyZWF0ZVN0b3JlJztcbmltcG9ydCBTZWxlY3Rpb25Cb3ggZnJvbSAnLi4vU2VsZWN0aW9uQm94JztcblxuY29uc3QgZ2V0RGVmYXVsdFN0b3JlID0gc2VsZWN0ZWRSb3dLZXlzID0+IHtcbiAgcmV0dXJuIGNyZWF0ZVN0b3JlKHtcbiAgICBzZWxlY3RlZFJvd0tleXM6IHNlbGVjdGVkUm93S2V5cyB8fCBbXSxcbiAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2UsXG4gIH0pO1xufTtcblxuZGVzY3JpYmUoJ1NlbGVjdGlvbkJveCcsICgpID0+IHtcbiAgaXQoJ3VuY2hlY2tlZCBieSBzZWxlY3RlZFJvd0tleXMgJywgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChcbiAgICAgIDxTZWxlY3Rpb25Cb3hcbiAgICAgICAgc3RvcmU9e2dldERlZmF1bHRTdG9yZSgpfVxuICAgICAgICByb3dJbmRleD1cIjFcIlxuICAgICAgICBkaXNhYmxlZD17ZmFsc2V9XG4gICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7fX1cbiAgICAgICAgZGVmYXVsdFNlbGVjdGlvbj17W119XG4gICAgICAvPixcbiAgICApO1xuXG4gICAgZXhwZWN0KHdyYXBwZXIuc3RhdGUoKSkudG9FcXVhbCh7IGNoZWNrZWQ6IGZhbHNlIH0pO1xuICB9KTtcblxuICBpdCgnY2hlY2tlZCBieSBzZWxlY3RlZFJvd0tleXMgJywgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChcbiAgICAgIDxTZWxlY3Rpb25Cb3hcbiAgICAgICAgc3RvcmU9e2dldERlZmF1bHRTdG9yZShbJzEnXSl9XG4gICAgICAgIHJvd0luZGV4PVwiMVwiXG4gICAgICAgIGRpc2FibGVkPXtmYWxzZX1cbiAgICAgICAgb25DaGFuZ2U9eygpID0+IHt9fVxuICAgICAgICBkZWZhdWx0U2VsZWN0aW9uPXtbXX1cbiAgICAgIC8+LFxuICAgICk7XG5cbiAgICBleHBlY3Qod3JhcHBlci5zdGF0ZSgpKS50b0VxdWFsKHsgY2hlY2tlZDogdHJ1ZSB9KTtcbiAgfSk7XG5cbiAgaXQoJ2NoZWNrZWQgYnkgZGVmYXVsdFNlbGVjdGlvbicsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoXG4gICAgICA8U2VsZWN0aW9uQm94XG4gICAgICAgIHN0b3JlPXtnZXREZWZhdWx0U3RvcmUoKX1cbiAgICAgICAgcm93SW5kZXg9XCIxXCJcbiAgICAgICAgZGlzYWJsZWQ9e2ZhbHNlfVxuICAgICAgICBvbkNoYW5nZT17KCkgPT4ge319XG4gICAgICAgIGRlZmF1bHRTZWxlY3Rpb249e1snMSddfVxuICAgICAgLz4sXG4gICAgKTtcblxuICAgIGV4cGVjdCh3cmFwcGVyLnN0YXRlKCkpLnRvRXF1YWwoeyBjaGVja2VkOiB0cnVlIH0pO1xuICB9KTtcblxuICBpdCgnY2hlY2tlZCB3aGVuIHN0b3JlIGNoYW5nZScsICgpID0+IHtcbiAgICBjb25zdCBzdG9yZSA9IGdldERlZmF1bHRTdG9yZSgpO1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChcbiAgICAgIDxTZWxlY3Rpb25Cb3hcbiAgICAgICAgc3RvcmU9e3N0b3JlfVxuICAgICAgICByb3dJbmRleD1cIjFcIlxuICAgICAgICBkaXNhYmxlZD17ZmFsc2V9XG4gICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7fX1cbiAgICAgICAgZGVmYXVsdFNlbGVjdGlvbj17W119XG4gICAgICAvPixcbiAgICApO1xuXG4gICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBbJzEnXSxcbiAgICAgIHNlbGVjdGlvbkRpcnR5OiB0cnVlLFxuICAgIH0pO1xuXG4gICAgZXhwZWN0KHdyYXBwZXIuc3RhdGUoKSkudG9FcXVhbCh7IGNoZWNrZWQ6IHRydWUgfSk7XG4gIH0pO1xuXG4gIGl0KCdwYXNzZXMgcHJvcHMgdG8gQ2hlY2tib3gnLCAoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tib3hQcm9wcyA9IHtcbiAgICAgIG5hbWU6ICd0ZXN0TmFtZScsXG4gICAgICBpZDogJ3Rlc3RJZCcsXG4gICAgfTtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoXG4gICAgICA8U2VsZWN0aW9uQm94XG4gICAgICAgIHN0b3JlPXtnZXREZWZhdWx0U3RvcmUoKX1cbiAgICAgICAgcm93SW5kZXg9XCIxXCJcbiAgICAgICAgZGlzYWJsZWQ9e2ZhbHNlfVxuICAgICAgICBvbkNoYW5nZT17KCkgPT4ge319XG4gICAgICAgIGRlZmF1bHRTZWxlY3Rpb249e1snMSddfVxuICAgICAgICB7Li4uY2hlY2tib3hQcm9wc31cbiAgICAgIC8+LFxuICAgICk7XG4gICAgd3JhcHBlci5maW5kKCdDaGVja2JveCcpLmZvckVhY2goYm94ID0+IHtcbiAgICAgIGV4cGVjdChib3gucHJvcHMoKS5uYW1lKS50b0VxdWFsKGNoZWNrYm94UHJvcHMubmFtZSk7XG4gICAgICBleHBlY3QoYm94LnByb3BzKCkuaWQpLnRvRXF1YWwoY2hlY2tib3hQcm9wcy5pZCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdwYXNzZXMgcHJvcHMgdG8gUmFkaW9zJywgKCkgPT4ge1xuICAgIGNvbnN0IHJhZGlvUHJvcHMgPSB7XG4gICAgICBuYW1lOiAndGVzdE5hbWUnLFxuICAgICAgaWQ6ICd0ZXN0SWQnLFxuICAgIH07XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAgICAgPFNlbGVjdGlvbkJveFxuICAgICAgICBzdG9yZT17Z2V0RGVmYXVsdFN0b3JlKCl9XG4gICAgICAgIHJvd0luZGV4PVwiMVwiXG4gICAgICAgIGRpc2FibGVkPXtmYWxzZX1cbiAgICAgICAgb25DaGFuZ2U9eygpID0+IHt9fVxuICAgICAgICBkZWZhdWx0U2VsZWN0aW9uPXtbJzEnXX1cbiAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgey4uLnJhZGlvUHJvcHN9XG4gICAgICAvPixcbiAgICApO1xuICAgIHdyYXBwZXIuZmluZCgnUmFkaW8nKS5mb3JFYWNoKHJhZGlvID0+IHtcbiAgICAgIGV4cGVjdChyYWRpby5wcm9wcygpLm5hbWUpLnRvRXF1YWwocmFkaW9Qcm9wcy5uYW1lKTtcbiAgICAgIGV4cGVjdChyYWRpby5wcm9wcygpLmlkKS50b0VxdWFsKHJhZGlvUHJvcHMuaWQpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19