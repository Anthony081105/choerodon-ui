6ede1ccbbe7a984769e73ca94103430e
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _throttleByAnimationFrame = _interopRequireDefault(require("../throttleByAnimationFrame"));

describe('Test utils function', function () {
  beforeAll(function () {
    jest.useFakeTimers();
  });
  afterAll(function () {
    jest.useRealTimers();
  });
  it('throttle function should work', function () {
    var callback = jest.fn();
    var throttled = (0, _throttleByAnimationFrame["default"])(callback);
    expect(callback).not.toHaveBeenCalled();
    throttled();
    throttled();
    jest.runAllTimers();
    expect(callback).toHaveBeenCalled();
    expect(callback.mock.calls.length).toBe(1);
  });
  it('throttle function should be canceled', function () {
    var callback = jest.fn();
    var throttled = (0, _throttleByAnimationFrame["default"])(callback);
    throttled();
    throttled.cancel();
    jest.runAllTimers();
    expect(callback).not.toHaveBeenCalled();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwudGVzdC5qcyJdLCJuYW1lcyI6WyJkZXNjcmliZSIsImJlZm9yZUFsbCIsImplc3QiLCJ1c2VGYWtlVGltZXJzIiwiYWZ0ZXJBbGwiLCJ1c2VSZWFsVGltZXJzIiwiaXQiLCJjYWxsYmFjayIsImZuIiwidGhyb3R0bGVkIiwiZXhwZWN0Iiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsInJ1bkFsbFRpbWVycyIsIm1vY2siLCJjYWxscyIsImxlbmd0aCIsInRvQmUiLCJjYW5jZWwiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFFQUEsUUFBUSxDQUFDLHFCQUFELEVBQXdCLFlBQU07QUFDcENDLEVBQUFBLFNBQVMsQ0FBQyxZQUFNO0FBQ2RDLElBQUFBLElBQUksQ0FBQ0MsYUFBTDtBQUNELEdBRlEsQ0FBVDtBQUlBQyxFQUFBQSxRQUFRLENBQUMsWUFBTTtBQUNiRixJQUFBQSxJQUFJLENBQUNHLGFBQUw7QUFDRCxHQUZPLENBQVI7QUFJQUMsRUFBQUEsRUFBRSxDQUFDLCtCQUFELEVBQWtDLFlBQU07QUFDeEMsUUFBTUMsUUFBUSxHQUFHTCxJQUFJLENBQUNNLEVBQUwsRUFBakI7QUFDQSxRQUFNQyxTQUFTLEdBQUcsMENBQXlCRixRQUF6QixDQUFsQjtBQUNBRyxJQUFBQSxNQUFNLENBQUNILFFBQUQsQ0FBTixDQUFpQkksR0FBakIsQ0FBcUJDLGdCQUFyQjtBQUVBSCxJQUFBQSxTQUFTO0FBQ1RBLElBQUFBLFNBQVM7QUFFVFAsSUFBQUEsSUFBSSxDQUFDVyxZQUFMO0FBQ0FILElBQUFBLE1BQU0sQ0FBQ0gsUUFBRCxDQUFOLENBQWlCSyxnQkFBakI7QUFDQUYsSUFBQUEsTUFBTSxDQUFDSCxRQUFRLENBQUNPLElBQVQsQ0FBY0MsS0FBZCxDQUFvQkMsTUFBckIsQ0FBTixDQUFtQ0MsSUFBbkMsQ0FBd0MsQ0FBeEM7QUFDRCxHQVhDLENBQUY7QUFhQVgsRUFBQUEsRUFBRSxDQUFDLHNDQUFELEVBQXlDLFlBQU07QUFDL0MsUUFBTUMsUUFBUSxHQUFHTCxJQUFJLENBQUNNLEVBQUwsRUFBakI7QUFDQSxRQUFNQyxTQUFTLEdBQUcsMENBQXlCRixRQUF6QixDQUFsQjtBQUVBRSxJQUFBQSxTQUFTO0FBQ1RBLElBQUFBLFNBQVMsQ0FBQ1MsTUFBVjtBQUVBaEIsSUFBQUEsSUFBSSxDQUFDVyxZQUFMO0FBQ0FILElBQUFBLE1BQU0sQ0FBQ0gsUUFBRCxDQUFOLENBQWlCSSxHQUFqQixDQUFxQkMsZ0JBQXJCO0FBQ0QsR0FUQyxDQUFGO0FBVUQsQ0FoQ08sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0aHJvdHRsZUJ5QW5pbWF0aW9uRnJhbWUgZnJvbSAnLi4vdGhyb3R0bGVCeUFuaW1hdGlvbkZyYW1lJztcblxuZGVzY3JpYmUoJ1Rlc3QgdXRpbHMgZnVuY3Rpb24nLCAoKSA9PiB7XG4gIGJlZm9yZUFsbCgoKSA9PiB7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gIH0pO1xuXG4gIGFmdGVyQWxsKCgpID0+IHtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ3Rocm90dGxlIGZ1bmN0aW9uIHNob3VsZCB3b3JrJywgKCkgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gamVzdC5mbigpO1xuICAgIGNvbnN0IHRocm90dGxlZCA9IHRocm90dGxlQnlBbmltYXRpb25GcmFtZShjYWxsYmFjayk7XG4gICAgZXhwZWN0KGNhbGxiYWNrKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuXG4gICAgdGhyb3R0bGVkKCk7XG4gICAgdGhyb3R0bGVkKCk7XG5cbiAgICBqZXN0LnJ1bkFsbFRpbWVycygpO1xuICAgIGV4cGVjdChjYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIGV4cGVjdChjYWxsYmFjay5tb2NrLmNhbGxzLmxlbmd0aCkudG9CZSgxKTtcbiAgfSk7XG5cbiAgaXQoJ3Rocm90dGxlIGZ1bmN0aW9uIHNob3VsZCBiZSBjYW5jZWxlZCcsICgpID0+IHtcbiAgICBjb25zdCBjYWxsYmFjayA9IGplc3QuZm4oKTtcbiAgICBjb25zdCB0aHJvdHRsZWQgPSB0aHJvdHRsZUJ5QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spO1xuXG4gICAgdGhyb3R0bGVkKCk7XG4gICAgdGhyb3R0bGVkLmNhbmNlbCgpO1xuXG4gICAgamVzdC5ydW5BbGxUaW1lcnMoKTtcbiAgICBleHBlY3QoY2FsbGJhY2spLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xufSk7XG4iXX0=