3fd61d13823b3cb90a7b9954c91f3e04
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));

var _ = _interopRequireDefault(require(".."));

describe('Notification.placement', function () {
  afterEach(function () {
    return _["default"].destroy();
  });

  function $$(className) {
    return document.body.querySelectorAll(className);
  }

  function getStyle(el, prop, getComputedStyle, style) {
    getComputedStyle = getComputedStyle || window.getComputedStyle;
    style = getComputedStyle ? getComputedStyle(el) : el.currentStyle; // If a css property's value is `auto`, it will return an empty string.

    return prop ? style[prop] : style;
  }

  function open(args) {
    _["default"].open((0, _objectSpread2["default"])({
      message: 'Notification Title',
      description: 'This is the content of the notification.'
    }, args));
  }

  function config(args) {
    _["default"].config((0, _objectSpread2["default"])({}, args));

    open();
  }

  it('change notification placement by `open` method', function () {
    var defaultTop = '24px';
    var defaultBottom = '24px';
    var style; // topLeft

    open({
      placement: 'topLeft'
    });
    style = getStyle($$('.c7n-notification-topLeft')[0]);
    expect(style.top).toBe(defaultTop);
    expect(style.left).toBe('0px');
    expect(style.bottom).toBe('');
    open({
      placement: 'topLeft'
    });
    expect($$('.c7n-notification-topLeft').length).toBe(1); // topRight

    open({
      placement: 'topRight'
    });
    style = getStyle($$('.c7n-notification-topRight')[0]);
    expect(style.top).toBe(defaultTop);
    expect(style.right).toBe('0px');
    expect(style.bottom).toBe('');
    open({
      placement: 'topRight'
    });
    expect($$('.c7n-notification-topRight').length).toBe(1); // bottomRight

    open({
      placement: 'bottomRight'
    });
    style = getStyle($$('.c7n-notification-bottomRight')[0]);
    expect(style.top).toBe('');
    expect(style.right).toBe('0px');
    expect(style.bottom).toBe(defaultBottom);
    open({
      placement: 'bottomRight'
    });
    expect($$('.c7n-notification-bottomRight').length).toBe(1); // bottomLeft

    open({
      placement: 'bottomLeft'
    });
    style = getStyle($$('.c7n-notification-bottomLeft')[0]);
    expect(style.top).toBe('');
    expect(style.left).toBe('0px');
    expect(style.bottom).toBe(defaultBottom);
    open({
      placement: 'bottomLeft'
    });
    expect($$('.c7n-notification-bottomLeft').length).toBe(1);
  });
  it('change notification placement by `config` method', function () {
    var style; // topLeft

    config({
      placement: 'topLeft',
      top: 50,
      bottom: 50
    });
    style = getStyle($$('.c7n-notification-topLeft')[0]);
    expect(style.top).toBe('50px');
    expect(style.left).toBe('0px');
    expect(style.bottom).toBe(''); // topRight

    config({
      placement: 'topRight',
      top: 100,
      bottom: 50
    });
    style = getStyle($$('.c7n-notification-topRight')[0]);
    expect(style.top).toBe('100px');
    expect(style.right).toBe('0px');
    expect(style.bottom).toBe(''); // bottomRight

    config({
      placement: 'bottomRight',
      top: 50,
      bottom: 100
    });
    style = getStyle($$('.c7n-notification-bottomRight')[0]);
    expect(style.top).toBe('');
    expect(style.right).toBe('0px');
    expect(style.bottom).toBe('100px'); // bottomLeft

    config({
      placement: 'bottomLeft',
      top: 100,
      bottom: 50
    });
    style = getStyle($$('.c7n-notification-bottomLeft')[0]);
    expect(style.top).toBe('');
    expect(style.left).toBe('0px');
    expect(style.bottom).toBe('50px');
  });
  it('change notification mountNode by `config` method', function () {
    var $container = document.createElement('div');
    document.body.appendChild($container);
    config({
      top: 50,
      bottom: 100,
      getContainer: function getContainer() {
        return $container;
      }
    });
    expect($container.querySelector('.c7n-notification')).not.toBe(null);
    $container.remove();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYWNlbWVudC50ZXN0LmpzIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiYWZ0ZXJFYWNoIiwibm90aWZpY2F0aW9uIiwiZGVzdHJveSIsIiQkIiwiY2xhc3NOYW1lIiwiZG9jdW1lbnQiLCJib2R5IiwicXVlcnlTZWxlY3RvckFsbCIsImdldFN0eWxlIiwiZWwiLCJwcm9wIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInN0eWxlIiwid2luZG93IiwiY3VycmVudFN0eWxlIiwib3BlbiIsImFyZ3MiLCJtZXNzYWdlIiwiZGVzY3JpcHRpb24iLCJjb25maWciLCJpdCIsImRlZmF1bHRUb3AiLCJkZWZhdWx0Qm90dG9tIiwicGxhY2VtZW50IiwiZXhwZWN0IiwidG9wIiwidG9CZSIsImxlZnQiLCJib3R0b20iLCJsZW5ndGgiLCJyaWdodCIsIiRjb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJnZXRDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwibm90IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQUEsUUFBUSxDQUFDLHdCQUFELEVBQTJCLFlBQU07QUFDdkNDLEVBQUFBLFNBQVMsQ0FBQztBQUFBLFdBQU1DLGFBQWFDLE9BQWIsRUFBTjtBQUFBLEdBQUQsQ0FBVDs7QUFFQSxXQUFTQyxFQUFULENBQVlDLFNBQVosRUFBdUI7QUFDckIsV0FBT0MsUUFBUSxDQUFDQyxJQUFULENBQWNDLGdCQUFkLENBQStCSCxTQUEvQixDQUFQO0FBQ0Q7O0FBRUQsV0FBU0ksUUFBVCxDQUFrQkMsRUFBbEIsRUFBc0JDLElBQXRCLEVBQTRCQyxnQkFBNUIsRUFBOENDLEtBQTlDLEVBQXFEO0FBQ25ERCxJQUFBQSxnQkFBZ0IsR0FBR0EsZ0JBQWdCLElBQUlFLE1BQU0sQ0FBQ0YsZ0JBQTlDO0FBQ0FDLElBQUFBLEtBQUssR0FBR0QsZ0JBQWdCLEdBQUdBLGdCQUFnQixDQUFDRixFQUFELENBQW5CLEdBQTBCQSxFQUFFLENBQUNLLFlB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Q0FBQ08sVUFBVSxDQUFDSSxhQUFYLENBQXlCLG1CQUF6QixDQUFELENBQU4sQ0FBc0RDLEdBQXRELENBQTBEVixJQUExRCxDQUErRCxJQUEvRDtBQUNBSyxJQUFBQSxVQUFVLENBQUNNLE1BQVg7QUFDRCxHQVpDLENBQUY7QUFhRCxDQTNKTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5vdGlmaWNhdGlvbiBmcm9tICcuLic7XG5cbmRlc2NyaWJlKCdOb3RpZmljYXRpb24ucGxhY2VtZW50JywgKCkgPT4ge1xuICBhZnRlckVhY2goKCkgPT4gbm90aWZpY2F0aW9uLmRlc3Ryb3koKSk7XG5cbiAgZnVuY3Rpb24gJCQoY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChjbGFzc05hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIHByb3AsIGdldENvbXB1dGVkU3R5bGUsIHN0eWxlKSB7XG4gICAgZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUgfHwgd2luZG93LmdldENvbXB1dGVkU3R5bGU7XG4gICAgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlID8gZ2V0Q29tcHV0ZWRTdHlsZShlbCkgOiBlbC5jdXJyZW50U3R5bGU7XG5cbiAgICAvLyBJZiBhIGNzcyBwcm9wZXJ0eSdzIHZhbHVlIGlzIGBhdXRvYCwgaXQgd2lsbCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nLlxuICAgIHJldHVybiBwcm9wID8gc3R5bGVbcHJvcF0gOiBzdHlsZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW4oYXJncykge1xuICAgIG5vdGlmaWNhdGlvbi5vcGVuKHtcbiAgICAgIG1lc3NhZ2U6ICdOb3RpZmljYXRpb24gVGl0bGUnLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSBub3RpZmljYXRpb24uJyxcbiAgICAgIC4uLmFyZ3MsXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjb25maWcoYXJncykge1xuICAgIG5vdGlmaWNhdGlvbi5jb25maWcoe1xuICAgICAgLi4uYXJncyxcbiAgICB9KTtcbiAgICBvcGVuKCk7XG4gIH1cblxuICBpdCgnY2hhbmdlIG5vdGlmaWNhdGlvbiBwbGFjZW1lbnQgYnkgYG9wZW5gIG1ldGhvZCcsICgpID0+IHtcbiAgICBjb25zdCBkZWZhdWx0VG9wID0gJzI0cHgnO1xuICAgIGNvbnN0IGRlZmF1bHRCb3R0b20gPSAnMjRweCc7XG4gICAgbGV0IHN0eWxlO1xuXG4gICAgLy8gdG9wTGVmdFxuICAgIG9wZW4oe1xuICAgICAgcGxhY2VtZW50OiAndG9wTGVmdCcsXG4gICAgfSk7XG4gICAgc3R5bGUgPSBnZXRTdHlsZSgkJCgnLmM3bi1ub3RpZmljYXRpb24tdG9wTGVmdCcpWzBdKTtcbiAgICBleHBlY3Qoc3R5bGUudG9wKS50b0JlKGRlZmF1bHRUb3ApO1xuICAgIGV4cGVjdChzdHlsZS5sZWZ0KS50b0JlKCcwcHgnKTtcbiAgICBleHBlY3Qoc3R5bGUuYm90dG9tKS50b0JlKCcnKTtcblxuICAgIG9wZW4oe1xuICAgICAgcGxhY2VtZW50OiAndG9wTGVmdCcsXG4gICAgfSk7XG4gICAgZXhwZWN0KCQkKCcuYzduLW5vdGlmaWNhdGlvbi10b3BMZWZ0JykubGVuZ3RoKS50b0JlKDEpO1xuXG5cbiAgICAvLyB0b3BSaWdodFxuICAgIG9wZW4oe1xuICAgICAgcGxhY2VtZW50OiAndG9wUmlnaHQnLFxuICAgIH0pO1xuICAgIHN0eWxlID0gZ2V0U3R5bGUoJCQoJy5jN24tbm90aWZpY2F0aW9uLXRvcFJpZ2h0JylbMF0pO1xuICAgIGV4cGVjdChzdHlsZS50b3ApLnRvQmUoZGVmYXVsdFRvcCk7XG4gICAgZXhwZWN0KHN0eWxlLnJpZ2h0KS50b0JlKCcwcHgnKTtcbiAgICBleHBlY3Qoc3R5bGUuYm90dG9tKS50b0JlKCcnKTtcblxuICAgIG9wZW4oe1xuICAgICAgcGxhY2VtZW50OiAndG9wUmlnaHQnLFxuICAgIH0pO1xuICAgIGV4cGVjdCgkJCgnLmM3bi1ub3RpZmljYXRpb24tdG9wUmlnaHQnKS5sZW5ndGgpLnRvQmUoMSk7XG5cblxuICAgIC8vIGJvdHRvbVJpZ2h0XG4gICAgb3Blbih7XG4gICAgICBwbGFjZW1lbnQ6ICdib3R0b21SaWdodCcsXG4gICAgfSk7XG4gICAgc3R5bGUgPSBnZXRTdHlsZSgkJCgnLmM3bi1ub3RpZmljYXRpb24tYm90dG9tUmlnaHQnKVswXSk7XG4gICAgZXhwZWN0KHN0eWxlLnRvcCkudG9CZSgnJyk7XG4gICAgZXhwZWN0KHN0eWxlLnJpZ2h0KS50b0JlKCcwcHgnKTtcbiAgICBleHBlY3Qoc3R5bGUuYm90dG9tKS50b0JlKGRlZmF1bHRCb3R0b20pO1xuXG4gICAgb3Blbih7XG4gICAgICBwbGFjZW1lbnQ6ICdib3R0b21SaWdodCcsXG4gICAgfSk7XG4gICAgZXhwZWN0KCQkKCcuYzduLW5vdGlmaWNhdGlvbi1ib3R0b21SaWdodCcpLmxlbmd0aCkudG9CZSgxKTtcblxuXG4gICAgLy8gYm90dG9tTGVmdFxuICAgIG9wZW4oe1xuICAgICAgcGxhY2VtZW50OiAnYm90dG9tTGVmdCcsXG4gICAgfSk7XG4gICAgc3R5bGUgPSBnZXRTdHlsZSgkJCgnLmM3bi1ub3RpZmljYXRpb24tYm90dG9tTGVmdCcpWzBdKTtcbiAgICBleHBlY3Qoc3R5bGUudG9wKS50b0JlKCcnKTtcbiAgICBleHBlY3Qoc3R5bGUubGVmdCkudG9CZSgnMHB4Jyk7XG4gICAgZXhwZWN0KHN0eWxlLmJvdHRvbSkudG9CZShkZWZhdWx0Qm90dG9tKTtcblxuICAgIG9wZW4oe1xuICAgICAgcGxhY2VtZW50OiAnYm90dG9tTGVmdCcsXG4gICAgfSk7XG4gICAgZXhwZWN0KCQkKCcuYzduLW5vdGlmaWNhdGlvbi1ib3R0b21MZWZ0JykubGVuZ3RoKS50b0JlKDEpO1xuICB9KTtcblxuICBpdCgnY2hhbmdlIG5vdGlmaWNhdGlvbiBwbGFjZW1lbnQgYnkgYGNvbmZpZ2AgbWV0aG9kJywgKCkgPT4ge1xuICAgIGxldCBzdHlsZTtcblxuICAgIC8vIHRvcExlZnRcbiAgICBjb25maWcoe1xuICAgICAgcGxhY2VtZW50OiAndG9wTGVmdCcsXG4gICAgICB0b3A6IDUwLFxuICAgICAgYm90dG9tOiA1MCxcbiAgICB9KTtcbiAgICBzdHlsZSA9IGdldFN0eWxlKCQkKCcuYzduLW5vdGlmaWNhdGlvbi10b3BMZWZ0JylbMF0pO1xuICAgIGV4cGVjdChzdHlsZS50b3ApLnRvQmUoJzUwcHgnKTtcbiAgICBleHBlY3Qoc3R5bGUubGVmdCkudG9CZSgnMHB4Jyk7XG4gICAgZXhwZWN0KHN0eWxlLmJvdHRvbSkudG9CZSgnJyk7XG5cbiAgICAvLyB0b3BSaWdodFxuICAgIGNvbmZpZyh7XG4gICAgICBwbGFjZW1lbnQ6ICd0b3BSaWdodCcsXG4gICAgICB0b3A6IDEwMCxcbiAgICAgIGJvdHRvbTogNTAsXG4gICAgfSk7XG4gICAgc3R5bGUgPSBnZXRTdHlsZSgkJCgnLmM3bi1ub3RpZmljYXRpb24tdG9wUmlnaHQnKVswXSk7XG4gICAgZXhwZWN0KHN0eWxlLnRvcCkudG9CZSgnMTAwcHgnKTtcbiAgICBleHBlY3Qoc3R5bGUucmlnaHQpLnRvQmUoJzBweCcpO1xuICAgIGV4cGVjdChzdHlsZS5ib3R0b20pLnRvQmUoJycpO1xuXG4gICAgLy8gYm90dG9tUmlnaHRcbiAgICBjb25maWcoe1xuICAgICAgcGxhY2VtZW50OiAnYm90dG9tUmlnaHQnLFxuICAgICAgdG9wOiA1MCxcbiAgICAgIGJvdHRvbTogMTAwLFxuICAgIH0pO1xuICAgIHN0eWxlID0gZ2V0U3R5bGUoJCQoJy5jN24tbm90aWZpY2F0aW9uLWJvdHRvbVJpZ2h0JylbMF0pO1xuICAgIGV4cGVjdChzdHlsZS50b3ApLnRvQmUoJycpO1xuICAgIGV4cGVjdChzdHlsZS5yaWdodCkudG9CZSgnMHB4Jyk7XG4gICAgZXhwZWN0KHN0eWxlLmJvdHRvbSkudG9CZSgnMTAwcHgnKTtcblxuICAgIC8vIGJvdHRvbUxlZnRcbiAgICBjb25maWcoe1xuICAgICAgcGxhY2VtZW50OiAnYm90dG9tTGVmdCcsXG4gICAgICB0b3A6IDEwMCxcbiAgICAgIGJvdHRvbTogNTAsXG4gICAgfSk7XG4gICAgc3R5bGUgPSBnZXRTdHlsZSgkJCgnLmM3bi1ub3RpZmljYXRpb24tYm90dG9tTGVmdCcpWzBdKTtcbiAgICBleHBlY3Qoc3R5bGUudG9wKS50b0JlKCcnKTtcbiAgICBleHBlY3Qoc3R5bGUubGVmdCkudG9CZSgnMHB4Jyk7XG4gICAgZXhwZWN0KHN0eWxlLmJvdHRvbSkudG9CZSgnNTBweCcpO1xuICB9KTtcbiAgaXQoJ2NoYW5nZSBub3RpZmljYXRpb24gbW91bnROb2RlIGJ5IGBjb25maWdgIG1ldGhvZCcsICgpID0+IHtcbiAgICBjb25zdCAkY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCgkY29udGFpbmVyKTtcbiAgICBjb25maWcoe1xuICAgICAgdG9wOiA1MCxcbiAgICAgIGJvdHRvbTogMTAwLFxuICAgICAgZ2V0Q29udGFpbmVyKCkge1xuICAgICAgICByZXR1cm4gJGNvbnRhaW5lcjtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgZXhwZWN0KCRjb250YWluZXIucXVlcnlTZWxlY3RvcignLmM3bi1ub3RpZmljYXRpb24nKSkubm90LnRvQmUobnVsbCk7XG4gICAgJGNvbnRhaW5lci5yZW1vdmUoKTtcbiAgfSk7XG59KTtcbiJdfQ==