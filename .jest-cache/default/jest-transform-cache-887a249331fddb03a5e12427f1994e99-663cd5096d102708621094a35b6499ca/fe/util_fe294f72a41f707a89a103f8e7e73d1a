b94b78e9cdea6eb34151e6cbef6e7712
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getKeyFromChildrenIndex = getKeyFromChildrenIndex;
exports.getMenuIdFromSubMenuEventKey = getMenuIdFromSubMenuEventKey;
exports.loopMenuItem = loopMenuItem;
exports.loopMenuItemRecursively = loopMenuItemRecursively;
exports.setStyle = exports.getWidth = exports.menuAllProps = void 0;

var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));

var _react = require("react");

function getKeyFromChildrenIndex(child, menuEventKey, index) {
  var prefix = menuEventKey || '';
  return child.key || "".concat(prefix, "item_").concat(index);
}

function getMenuIdFromSubMenuEventKey(eventKey) {
  return "".concat(eventKey, "-menu-");
}

function loopMenuItem(children, cb) {
  var index = -1;

  _react.Children.forEach(children, function (c) {
    index++;

    if (c && c.type && c.type.isMenuItemGroup) {
      _react.Children.forEach(c.props.children, function (c2) {
        index++;
        cb(c2, index);
      });
    } else {
      cb(c, index);
    }
  });
}

function loopMenuItemRecursively(children, keys, ret) {
  if (!children || ret.find) {
    return;
  }

  _react.Children.forEach(children, function (c) {
    if (c) {
      var construct = c.type;

      if (!construct || !(construct.isSubMenu || construct.isMenuItem || construct.isMenuItemGroup)) {
        return;
      }

      if (keys.indexOf(c.key) !== -1) {
        ret.find = true;
      } else if (c.props.children) {
        loopMenuItemRecursively(c.props.children, keys, ret);
      }
    }
  });
}

var menuAllProps = ['defaultSelectedKeys', 'selectedKeys', 'defaultOpenKeys', 'openKeys', 'mode', 'getPopupContainer', 'onSelect', 'onDeselect', 'onDestroy', 'openTransitionName', 'openAnimation', 'subMenuOpenDelay', 'subMenuCloseDelay', 'forceSubMenuRender', 'triggerSubMenuAction', 'level', 'selectable', 'multiple', 'onOpenChange', 'visible', 'focusable', 'defaultActiveFirst', 'prefixCls', 'inlineIndent', 'parentMenu', 'title', 'rootPrefixCls', 'eventKey', 'active', 'onItemHover', 'onTitleMouseEnter', 'onTitleMouseLeave', 'onTitleClick', 'popupAlign', 'popupOffset', 'isOpen', 'renderMenuItem', 'manualRef', 'subMenuKey', 'disabled', 'index', 'isSelected', 'store', 'activeKey', 'builtinPlacements', 'overflowedIndicator', // the following keys found need to be removed from test regression
'attribute', 'value', 'popupClassName', 'inlineCollapsed', 'menu', 'theme', 'itemIcon', 'expandIcon'];
exports.menuAllProps = menuAllProps;

var getWidth = function getWidth(elem) {
  var width = elem && typeof elem.getBoundingClientRect === 'function' && elem.getBoundingClientRect().width;

  if (width) {
    width = +width.toFixed(6);
  }

  return width || 0;
};

exports.getWidth = getWidth;

var setStyle = function setStyle(elem, styleProperty, value) {
  if (elem && (0, _typeof2["default"])(elem.style) === 'object') {
    elem.style[styleProperty] = value;
  }
};

exports.setStyle = setStyle;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUvdXRpbC5qc3giXSwibmFtZXMiOlsicHJlZml4IiwibWVudUV2ZW50S2V5IiwiY2hpbGQiLCJpbmRleCIsIkNoaWxkcmVuIiwiYyIsImNiIiwicmV0IiwiY29uc3RydWN0Iiwia2V5cyIsImxvb3BNZW51SXRlbVJlY3Vyc2l2ZWx5IiwibWVudUFsbFByb3BzIiwiZ2V0V2lkdGgiLCJ3aWR0aCIsImVsZW0iLCJzZXRTdHlsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQSxNQUFBLEdBQUEsT0FBQSxDQUFBLE9BQUEsQ0FBQTs7QUFFTyxTQUFBLHVCQUFBLENBQUEsS0FBQSxFQUFBLFlBQUEsRUFBQSxLQUFBLEVBQTZEO0FBQ2xFLE1BQU1BLE1BQU0sR0FBR0MsWUFBWSxJQUEzQixFQUFBO0FBQ0EsU0FBT0MsS0FBSyxDQUFMQSxHQUFBQSxJQUFBQSxHQUFBQSxNQUFBQSxDQUFBQSxNQUFBQSxFQUFBQSxPQUFBQSxFQUFBQSxNQUFBQSxDQUFQLEtBQU9BLENBQVA7QUFDRDs7QUFFTSxTQUFBLDRCQUFBLENBQUEsUUFBQSxFQUFnRDtBQUNyRCxTQUFBLEdBQUEsTUFBQSxDQUFBLFFBQUEsRUFBQSxRQUFBLENBQUE7QUFDRDs7QUFFTSxTQUFBLFlBQUEsQ0FBQSxRQUFBLEVBQUEsRUFBQSxFQUFvQztBQUN6QyxNQUFJQyxLQUFLLEdBQUcsQ0FBWixDQUFBOztBQUNBQyxFQUFBQSxNQUFBQSxDQUFBQSxRQUFBQSxDQUFBQSxPQUFBQSxDQUFBQSxRQUFBQSxFQUEyQixVQUFBLENBQUEsRUFBSztBQUM5QkQsSUFBQUEsS0FBSzs7QUFDTCxRQUFJRSxDQUFDLElBQUlBLENBQUMsQ0FBTkEsSUFBQUEsSUFBZUEsQ0FBQyxDQUFEQSxJQUFBQSxDQUFuQixlQUFBLEVBQTJDO0FBQ3pDRCxNQUFBQSxNQUFBQSxDQUFBQSxRQUFBQSxDQUFBQSxPQUFBQSxDQUFpQkMsQ0FBQyxDQUFEQSxLQUFBQSxDQUFqQkQsUUFBQUEsRUFBbUMsVUFBQSxF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LENBQUEsRUFBT0EsSUFBSSxDQUFYLEtBQUEsTUFBWixRQUFBLEVBQTRDO0FBQzFDQSxJQUFBQSxJQUFJLENBQUpBLEtBQUFBLENBQUFBLGFBQUFBLElBQUFBLEtBQUFBO0FBQ0Q7QUFISSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5RnJvbUNoaWxkcmVuSW5kZXgoY2hpbGQsIG1lbnVFdmVudEtleSwgaW5kZXgpIHtcbiAgY29uc3QgcHJlZml4ID0gbWVudUV2ZW50S2V5IHx8ICcnO1xuICByZXR1cm4gY2hpbGQua2V5IHx8IGAke3ByZWZpeH1pdGVtXyR7aW5kZXh9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1lbnVJZEZyb21TdWJNZW51RXZlbnRLZXkoZXZlbnRLZXkpIHtcbiAgcmV0dXJuIGAke2V2ZW50S2V5fS1tZW51LWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb29wTWVudUl0ZW0oY2hpbGRyZW4sIGNiKSB7XG4gIGxldCBpbmRleCA9IC0xO1xuICBDaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBjID0+IHtcbiAgICBpbmRleCsrO1xuICAgIGlmIChjICYmIGMudHlwZSAmJiBjLnR5cGUuaXNNZW51SXRlbUdyb3VwKSB7XG4gICAgICBDaGlsZHJlbi5mb3JFYWNoKGMucHJvcHMuY2hpbGRyZW4sIGMyID0+IHtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgY2IoYzIsIGluZGV4KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYihjLCBpbmRleCk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvb3BNZW51SXRlbVJlY3Vyc2l2ZWx5KGNoaWxkcmVuLCBrZXlzLCByZXQpIHtcbiAgaWYgKCFjaGlsZHJlbiB8fCByZXQuZmluZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBDaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBjID0+IHtcbiAgICBpZiAoYykge1xuICAgICAgY29uc3QgY29uc3RydWN0ID0gYy50eXBlO1xuICAgICAgaWYgKFxuICAgICAgICAhY29uc3RydWN0IHx8XG4gICAgICAgICEoY29uc3RydWN0LmlzU3ViTWVudSB8fCBjb25zdHJ1Y3QuaXNNZW51SXRlbSB8fCBjb25zdHJ1Y3QuaXNNZW51SXRlbUdyb3VwKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXlzLmluZGV4T2YoYy5rZXkpICE9PSAtMSkge1xuICAgICAgICByZXQuZmluZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGMucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgbG9vcE1lbnVJdGVtUmVjdXJzaXZlbHkoYy5wcm9wcy5jaGlsZHJlbiwga2V5cywgcmV0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgY29uc3QgbWVudUFsbFByb3BzID0gW1xuICAnZGVmYXVsdFNlbGVjdGVkS2V5cycsXG4gICdzZWxlY3RlZEtleXMnLFxuICAnZGVmYXVsdE9wZW5LZXlzJyxcbiAgJ29wZW5LZXlzJyxcbiAgJ21vZGUnLFxuICAnZ2V0UG9wdXBDb250YWluZXInLFxuICAnb25TZWxlY3QnLFxuICAnb25EZXNlbGVjdCcsXG4gICdvbkRlc3Ryb3knLFxuICAnb3BlblRyYW5zaXRpb25OYW1lJyxcbiAgJ29wZW5BbmltYXRpb24nLFxuICAnc3ViTWVudU9wZW5EZWxheScsXG4gICdzdWJNZW51Q2xvc2VEZWxheScsXG4gICdmb3JjZVN1Yk1lbnVSZW5kZXInLFxuICAndHJpZ2dlclN1Yk1lbnVBY3Rpb24nLFxuICAnbGV2ZWwnLFxuICAnc2VsZWN0YWJsZScsXG4gICdtdWx0aXBsZScsXG4gICdvbk9wZW5DaGFuZ2UnLFxuICAndmlzaWJsZScsXG4gICdmb2N1c2FibGUnLFxuICAnZGVmYXVsdEFjdGl2ZUZpcnN0JyxcbiAgJ3ByZWZpeENscycsXG4gICdpbmxpbmVJbmRlbnQnLFxuICAncGFyZW50TWVudScsXG4gICd0aXRsZScsXG4gICdyb290UHJlZml4Q2xzJyxcbiAgJ2V2ZW50S2V5JyxcbiAgJ2FjdGl2ZScsXG4gICdvbkl0ZW1Ib3ZlcicsXG4gICdvblRpdGxlTW91c2VFbnRlcicsXG4gICdvblRpdGxlTW91c2VMZWF2ZScsXG4gICdvblRpdGxlQ2xpY2snLFxuICAncG9wdXBBbGlnbicsXG4gICdwb3B1cE9mZnNldCcsXG4gICdpc09wZW4nLFxuICAncmVuZGVyTWVudUl0ZW0nLFxuICAnbWFudWFsUmVmJyxcbiAgJ3N1Yk1lbnVLZXknLFxuICAnZGlzYWJsZWQnLFxuICAnaW5kZXgnLFxuICAnaXNTZWxlY3RlZCcsXG4gICdzdG9yZScsXG4gICdhY3RpdmVLZXknLFxuICAnYnVpbHRpblBsYWNlbWVudHMnLFxuICAnb3ZlcmZsb3dlZEluZGljYXRvcicsXG5cbiAgLy8gdGhlIGZvbGxvd2luZyBrZXlzIGZvdW5kIG5lZWQgdG8gYmUgcmVtb3ZlZCBmcm9tIHRlc3QgcmVncmVzc2lvblxuICAnYXR0cmlidXRlJyxcbiAgJ3ZhbHVlJyxcbiAgJ3BvcHVwQ2xhc3NOYW1lJyxcbiAgJ2lubGluZUNvbGxhcHNlZCcsXG4gICdtZW51JyxcbiAgJ3RoZW1lJyxcbiAgJ2l0ZW1JY29uJyxcbiAgJ2V4cGFuZEljb24nLFxuXTtcblxuZXhwb3J0IGNvbnN0IGdldFdpZHRoID0gZWxlbSA9PiB7XG4gIGxldCB3aWR0aCA9XG4gICAgZWxlbSAmJlxuICAgIHR5cGVvZiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gIGlmICh3aWR0aCkge1xuICAgIHdpZHRoID0gK3dpZHRoLnRvRml4ZWQoNik7XG4gIH1cbiAgcmV0dXJuIHdpZHRoIHx8IDA7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0U3R5bGUgPSAoZWxlbSwgc3R5bGVQcm9wZXJ0eSwgdmFsdWUpID0+IHtcbiAgaWYgKGVsZW0gJiYgdHlwZW9mIGVsZW0uc3R5bGUgPT09ICdvYmplY3QnKSB7XG4gICAgZWxlbS5zdHlsZVtzdHlsZVByb3BlcnR5XSA9IHZhbHVlO1xuICB9XG59O1xuIl19