4b0631cd2ca92cd368667047f69d5142
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _jsonlintMod = _interopRequireDefault(require("jsonlint-mod"));

if (typeof window !== 'undefined') {
  require('codemirror/addon/lint/lint.css');

  require('codemirror/addon/lint/lint');

  var CodeMirror = require('codemirror');

  CodeMirror.registerHelper('lint', 'json', function (text) {
    var found = [];
    var jsonlint = _jsonlintMod["default"].parser || _jsonlintMod["default"];

    jsonlint.parseError = function (str, _ref) {
      var loc = _ref.loc;
      found.push({
        from: CodeMirror.Pos(loc.first_line - 1, loc.first_column),
        to: CodeMirror.Pos(loc.last_line - 1, loc.last_column),
        message: str
      });
    };

    try {
      jsonlint.parse(text); // eslint-disable-next-line no-empty
    } catch (e) {}

    return found;
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvZGUtYXJlYS9saW50L2pzb24uanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIkNvZGVNaXJyb3IiLCJmb3VuZCIsImpzb25saW50IiwianNvbmxpbnRNb2QiLCJsb2MiLCJmcm9tIiwidG8iLCJtZXNzYWdlIiwic3RyIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBQSxZQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsY0FBQSxDQUFBLENBQUE7O0FBQ0EsSUFBSSxPQUFBLE1BQUEsS0FBSixXQUFBLEVBQW1DO0FBQy9CQSxFQUFBQSxPQUFPLENBQVBBLGdDQUFPLENBQVBBOztBQUNBQSxFQUFBQSxPQUFPLENBQVBBLDRCQUFPLENBQVBBOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUExQixZQUEwQixDQUExQjs7QUFDQUMsRUFBQUEsVUFBVSxDQUFWQSxjQUFBQSxDQUFBQSxNQUFBQSxFQUFBQSxNQUFBQSxFQUEwQyxVQUFBLElBQUEsRUFBZ0I7QUFDdEQsUUFBTUMsS0FBSyxHQUFYLEVBQUE7QUFDQSxRQUFNQyxRQUFRLEdBQUdDLFlBQUFBLENBQUFBLFNBQUFBLENBQUFBLENBQUFBLE1BQUFBLElBQXNCQSxZQUFBQSxDQUF2QyxTQUF1Q0EsQ0FBdkM7O0FBQ0FELElBQUFBLFFBQVEsQ0FBUkEsVUFBQUEsR0FBc0IsVUFBQSxHQUFBLEVBQUEsSUFBQSxFQUF3QjtBQUFBLFVBQVBFLEdBQU8sR0FBQSxJQUFBLENBQVBBLEdBQU87QUFDMUNILE1BQUFBLEtBQUssQ0FBTEEsSUFBQUEsQ0FBVztBQUNQSSxRQUFBQSxJQUFJLEVBQUVMLFVBQVUsQ0FBVkEsR0FBQUEsQ0FBZUksR0FBRyxDQUFIQSxVQUFBQSxHQUFmSixDQUFBQSxFQUFtQ0ksR0FBRyxDQURyQyxZQUNESixDQURDO0FBRVBNLFFBQUFBLEVBQUUsRUFBRU4sVUFBVSxDQUFWQSxHQUFBQSxDQUFlSSxHQUFHLENBQUhBLFNBQUFBLEdBQWZKLENBQUFBLEVBQWtDSSxHQUFHLENBRmxDLFdBRUhKLENBRkc7QUFHUE8sUUFBQUEsT0FBTyxFQUFFQztBQUhGLE9BQVhQO0FBREpDLEtBQUFBOztBQU9BLFFBQUk7QUFDQUEsTUFBQUEsUUFBUSxDQUFSQSxLQUFBQSxDQURBLElBQ0FBLEVBREEsQ0FFQTtBQUZKLEtBQUEsQ0FJQSxPQUFBLENBQUEsRUFBVSxDQUFHOztBQUNiLFdBQUEsS0FBQTtBQWZKRixHQUFBQTtBQWlCSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqc29ubGludE1vZCBmcm9tICdqc29ubGludC1tb2QnO1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmVxdWlyZSgnY29kZW1pcnJvci9hZGRvbi9saW50L2xpbnQuY3NzJyk7XG4gICAgcmVxdWlyZSgnY29kZW1pcnJvci9hZGRvbi9saW50L2xpbnQnKTtcbiAgICBjb25zdCBDb2RlTWlycm9yID0gcmVxdWlyZSgnY29kZW1pcnJvcicpO1xuICAgIENvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIoJ2xpbnQnLCAnanNvbicsIGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gW107XG4gICAgICAgIGNvbnN0IGpzb25saW50ID0ganNvbmxpbnRNb2QucGFyc2VyIHx8IGpzb25saW50TW9kO1xuICAgICAgICBqc29ubGludC5wYXJzZUVycm9yID0gZnVuY3Rpb24gKHN0ciwgeyBsb2MgfSkge1xuICAgICAgICAgICAgZm91bmQucHVzaCh7XG4gICAgICAgICAgICAgICAgZnJvbTogQ29kZU1pcnJvci5Qb3MobG9jLmZpcnN0X2xpbmUgLSAxLCBsb2MuZmlyc3RfY29sdW1uKSxcbiAgICAgICAgICAgICAgICB0bzogQ29kZU1pcnJvci5Qb3MobG9jLmxhc3RfbGluZSAtIDEsIGxvYy5sYXN0X2NvbHVtbiksXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogc3RyLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqc29ubGludC5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH0pO1xufVxuIl19