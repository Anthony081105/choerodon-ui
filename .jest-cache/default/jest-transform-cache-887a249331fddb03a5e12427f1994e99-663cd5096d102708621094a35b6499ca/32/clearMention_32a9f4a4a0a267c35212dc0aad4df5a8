46988306a50b79730fd221e6f4b5afb5
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = clearMention;

var _draftJs = require("draft-js");

var _getSearchWord = _interopRequireDefault(require("./getSearchWord"));

function clearMention(editorState) {
  var selection = editorState.getSelection();
  var searchWord = (0, _getSearchWord["default"])(editorState, selection);
  var begin = searchWord.begin,
      end = searchWord.end;

  var replacedContent = _draftJs.Modifier.replaceText(editorState.getCurrentContent(), selection.merge({
    anchorOffset: begin,
    focusOffset: end
  }), '', null);

  var InsertSpaceContent = _draftJs.Modifier.insertText(replacedContent, replacedContent.getSelectionAfter(), ' ');

  var newEditorState = _draftJs.EditorState.push(editorState, InsertSpaceContent, 'insert-mention');

  return _draftJs.EditorState.forceSelection(newEditorState, InsertSpaceContent.getSelectionAfter());
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsZWFyTWVudGlvbi5qc3giXSwibmFtZXMiOlsiY2xlYXJNZW50aW9uIiwiZWRpdG9yU3RhdGUiLCJzZWxlY3Rpb24iLCJnZXRTZWxlY3Rpb24iLCJzZWFyY2hXb3JkIiwiYmVnaW4iLCJlbmQiLCJyZXBsYWNlZENvbnRlbnQiLCJNb2RpZmllciIsInJlcGxhY2VUZXh0IiwiZ2V0Q3VycmVudENvbnRlbnQiLCJtZXJnZSIsImFuY2hvck9mZnNldCIsImZvY3VzT2Zmc2V0IiwiSW5zZXJ0U3BhY2VDb250ZW50IiwiaW5zZXJ0VGV4dCIsImdldFNlbGVjdGlvbkFmdGVyIiwibmV3RWRpdG9yU3RhdGUiLCJFZGl0b3JTdGF0ZSIsInB1c2giLCJmb3JjZVNlbGVjdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBRWUsU0FBU0EsWUFBVCxDQUFzQkMsV0FBdEIsRUFBbUM7QUFDaEQsTUFBTUMsU0FBUyxHQUFHRCxXQUFXLENBQUNFLFlBQVosRUFBbEI7QUFDQSxNQUFNQyxVQUFVLEdBQUcsK0JBQWNILFdBQWQsRUFBMkJDLFNBQTNCLENBQW5CO0FBRmdELE1BR3hDRyxLQUh3QyxHQUd6QkQsVUFIeUIsQ0FHeENDLEtBSHdDO0FBQUEsTUFHakNDLEdBSGlDLEdBR3pCRixVQUh5QixDQUdqQ0UsR0FIaUM7O0FBSWhELE1BQU1DLGVBQWUsR0FBR0Msa0JBQVNDLFdBQVQsQ0FDdEJSLFdBQVcsQ0FBQ1MsaUJBQVosRUFEc0IsRUFFdEJSLFNBQVMsQ0FBQ1MsS0FBVixDQUFnQjtBQUNkQyxJQUFBQSxZQUFZLEVBQUVQLEtBREE7QUFFZFEsSUFBQUEsV0FBVyxFQUFFUDtBQUZDLEdBQWhCLENBRnNCLEVBTXRCLEVBTnNCLEVBT3RCLElBUHNCLENBQXhCOztBQVVBLE1BQU1RLGtCQUFrQixHQUFHTixrQkFBU08sVUFBVCxDQUN6QlIsZUFEeUIsRUFFekJBLGVBQWUsQ0FBQ1MsaUJBQWhCLEVBRnlCLEVBR3pCLEdBSHlCLENBQTNCOztBQU1BLE1BQU1DLGNBQWMsR0FBR0MscUJBQVlDLElBQVosQ0FBaUJsQixXQUFqQixFQUE4QmEsa0JBQTlCLEVBQWtELGdCQUFsRCxDQUF2Qjs7QUFDQSxTQUFPSSxxQkFBWUUsY0FBWixDQUEyQkgsY0FBM0IsRUFBMkNILGtCQUFrQixDQUFDRSxpQkFBbkIsRUFBM0MsQ0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWRpdG9yU3RhdGUsIE1vZGlmaWVyIH0gZnJvbSAnZHJhZnQtanMnO1xuaW1wb3J0IGdldFNlYXJjaFdvcmQgZnJvbSAnLi9nZXRTZWFyY2hXb3JkJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJNZW50aW9uKGVkaXRvclN0YXRlKSB7XG4gIGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvclN0YXRlLmdldFNlbGVjdGlvbigpO1xuICBjb25zdCBzZWFyY2hXb3JkID0gZ2V0U2VhcmNoV29yZChlZGl0b3JTdGF0ZSwgc2VsZWN0aW9uKTtcbiAgY29uc3QgeyBiZWdpbiwgZW5kIH0gPSBzZWFyY2hXb3JkO1xuICBjb25zdCByZXBsYWNlZENvbnRlbnQgPSBNb2RpZmllci5yZXBsYWNlVGV4dChcbiAgICBlZGl0b3JTdGF0ZS5nZXRDdXJyZW50Q29udGVudCgpLFxuICAgIHNlbGVjdGlvbi5tZXJnZSh7XG4gICAgICBhbmNob3JPZmZzZXQ6IGJlZ2luLFxuICAgICAgZm9jdXNPZmZzZXQ6IGVuZCxcbiAgICB9KSxcbiAgICAnJyxcbiAgICBudWxsLFxuICApO1xuXG4gIGNvbnN0IEluc2VydFNwYWNlQ29udGVudCA9IE1vZGlmaWVyLmluc2VydFRleHQoXG4gICAgcmVwbGFjZWRDb250ZW50LFxuICAgIHJlcGxhY2VkQ29udGVudC5nZXRTZWxlY3Rpb25BZnRlcigpLFxuICAgICcgJyxcbiAgKTtcblxuICBjb25zdCBuZXdFZGl0b3JTdGF0ZSA9IEVkaXRvclN0YXRlLnB1c2goZWRpdG9yU3RhdGUsIEluc2VydFNwYWNlQ29udGVudCwgJ2luc2VydC1tZW50aW9uJyk7XG4gIHJldHVybiBFZGl0b3JTdGF0ZS5mb3JjZVNlbGVjdGlvbihuZXdFZGl0b3JTdGF0ZSwgSW5zZXJ0U3BhY2VDb250ZW50LmdldFNlbGVjdGlvbkFmdGVyKCkpO1xufVxuIl19