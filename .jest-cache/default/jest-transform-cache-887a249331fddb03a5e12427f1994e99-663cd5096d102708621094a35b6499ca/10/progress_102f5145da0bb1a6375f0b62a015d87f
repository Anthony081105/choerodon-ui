e19318f80104eaecfc05e5b2999f18de
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _classnames = _interopRequireDefault(require("classnames"));

var _icon = _interopRequireDefault(require("../icon"));

var _progress = require("../rc-components/progress");

var _Loading = _interopRequireDefault(require("./Loading"));

var _configure = require("../configure");

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var Progress =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(Progress, _Component);

  var _super = _createSuper(Progress);

  function Progress() {
    (0, _classCallCheck2["default"])(this, Progress);
    return _super.apply(this, arguments);
  }

  (0, _createClass2["default"])(Progress, [{
    key: "render",
    value: function render() {
      var _classNames;

      var props = this.props;
      var customizePrefixCls = props.prefixCls,
          className = props.className,
          _props$percent = props.percent,
          percent = _props$percent === void 0 ? 0 : _props$percent,
          status = props.status,
          format = props.format,
          trailColor = props.trailColor,
          size = props.size,
          successPercent = props.successPercent,
          type = props.type,
          strokeWidth = props.strokeWidth,
          strokeColor = props.strokeColor,
          width = props.width,
          showInfo = props.showInfo,
          _props$gapDegree = props.gapDegree,
          gapDegree = _props$gapDegree === void 0 ? 0 : _props$gapDegree,
          gapPosition = props.gapPosition,
          restProps = (0, _objectWithoutProperties2["default"])(props, ["prefixCls", "className", "percent", "status", "format", "trailColor", "size", "successPercent", "type", "strokeWidth", "strokeColor", "width", "showInfo", "gapDegree", "gapPosition"]);
      var prefixCls = (0, _configure.getPrefixCls)('progress', customizePrefixCls);
      var progressStatus = parseInt(successPercent ? successPercent.toString() : percent.toString(), 10) >= 100 && !('status' in props) ? "success"
      /* success */
      : status || "normal"
      /* normal */
      ;
      var progressInfo;
      var progress;

      var textFormatter = format || function (percentNumber) {
        return "".concat(percentNumber, "%");
      };

      if (showInfo) {
        var text;
        var circleType = type === "circle"
        /* circle */
        || type === "dashboard"
        /* dashboard */
        ;

        if (progressStatus === "exception"
        /* exception */
        ) {
            text = format ? textFormatter(percent) : _react["default"].createElement(_icon["default"], {
              type: circleType ? 'close' : 'cancel'
            });
          } else if (progressStatus === "success"
        /* success */
        ) {
            text = format ? textFormatter(percent) : _react["default"].createElement(_icon["default"], {
              type: circleType ? 'check' : 'check_circle'
            });
          } else {
          text = textFormatter(percent);
        }

        progressInfo = _react["default"].createElement("span", {
          className: "".concat(prefixCls, "-text")
        }, text);
      }

      if (type === "line"
      /* line */
      ) {
          var percentStyle = {
            width: "".concat(percent, "%"),
            height: strokeWidth || (size === "small"
            /* small */
            ? 6 : 8),
            background: strokeColor
          };
          var successPercentStyle = {
            width: "".concat(successPercent, "%"),
            height: strokeWidth || (size === "small"
            /* small */
            ? 6 : 8)
          };
          var successSegment = successPercent !== undefined ? _react["default"].createElement("div", {
            className: "".concat(prefixCls, "-success-bg"),
            style: successPercentStyle
          }) : null;
          progress = _react["default"].createElement("div", null, _react["default"].createElement("div", {
            className: "".concat(prefixCls, "-outer")
          }, _react["default"].createElement("div", {
            className: "".concat(prefixCls, "-inner")
          }, _react["default"].createElement("div", {
            className: "".concat(prefixCls, "-bg"),
            style: percentStyle
          }), successSegment)), progressInfo);
        } else if (type === "circle"
      /* circle */
      || type === "dashboard"
      /* dashboard */
      ) {
          var circleSize = width || 120;
          var circleStyle = {
            width: circleSize,
            height: circleSize,
            fontSize: circleSize * 0.15 + 6
          };
          var circleWidth = strokeWidth || 6;
          var gapPos = gapPosition || type === "dashboard"
          /* dashboard */
          && "bottom"
          /* bottom */
          || "top"
          /* top */
          ;
          var gapDeg = gapDegree || type === "dashboard"
          /* dashboard */
          && 75;
          progress = _react["default"].createElement("div", {
            className: "".concat(prefixCls, "-inner"),
            style: circleStyle
          }, _react["default"].createElement(_progress.Circle, {
            percent: percent,
            strokeWidth: circleWidth,
            trailWidth: circleWidth,
            trailColor: trailColor,
            strokeColor: strokeColor,
            prefixCls: prefixCls,
            gapDegree: gapDeg,
            gapPosition: gapPos
          }), progressInfo);
        } else if (type === "loading"
      /* loading */
      ) {
          progress = _react["default"].createElement("div", {
            className: "".concat(prefixCls, "-inner")
          }, _react["default"].createElement(_Loading["default"], null));
        }

      var classString = (0, _classnames["default"])(prefixCls, (_classNames = {}, (0, _defineProperty2["default"])(_classNames, "".concat(prefixCls, "-").concat(type === "dashboard"
      /* dashboard */
      && "circle"
      /* circle */
      || type), true), (0, _defineProperty2["default"])(_classNames, "".concat(prefixCls, "-status-").concat(progressStatus), true), (0, _defineProperty2["default"])(_classNames, "".concat(prefixCls, "-show-info"), showInfo), (0, _defineProperty2["default"])(_classNames, "".concat(prefixCls, "-").concat(size), size), _classNames), className);
      return _react["default"].createElement("div", (0, _extends2["default"])({}, restProps, {
        className: classString
      }), progress);
    }
  }]);
  return Progress;
}(_react.Component);

exports["default"] = Progress;
Progress.displayName = 'Progress';
Progress.defaultProps = {
  type: "line"
  /* line */
  ,
  percent: 0,
  showInfo: true,
  trailColor: '#f3f3f3',
  size: "default"
  /* default */

};
Progress.propTypes = {
  status: _propTypes["default"].oneOf(["normal"
  /* normal */
  , "exception"
  /* exception */
  , "active"
  /* active */
  , "success"
  /* success */
  ]),
  type: _propTypes["default"].oneOf(["line"
  /* line */
  , "circle"
  /* circle */
  , "dashboard"
  /* dashboard */
  , "loading"
  /* loading */
  ]),
  showInfo: _propTypes["default"].bool,
  percent: _propTypes["default"].number,
  width: _propTypes["default"].number,
  strokeWidth: _propTypes["default"].number,
  strokeColor: _propTypes["default"].string,
  trailColor: _propTypes["default"].string,
  format: _propTypes["default"].func,
  gapDegree: _propTypes["default"].number,
  size: _propTypes["default"].oneOf(["default"
  /* default */
  , "small"
  /* small */
  , "large"
  /* large */
  ])
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2dyZXNzL3Byb2dyZXNzLmpzIl0sIm5hbWVzIjpbIlByb2dyZXNzIiwiQ29tcG9uZW50IiwicHJvcHMiLCJjdXN0b21pemVQcmVmaXhDbHMiLCJjbGFzc05hbWUiLCJwZXJjZW50Iiwic3RhdHVzIiwiZm9ybWF0IiwidHJhaWxDb2xvciIsInNpemUiLCJzdWNjZXNzUGVyY2VudCIsInR5cGUiLCJzdHJva2VXaWR0aCIsInN0cm9rZUNvbG9yIiwid2lkdGgiLCJzaG93SW5mbyIsImdhcERlZ3JlZSIsImdhcFBvc2l0aW9uIiwicmVzdFByb3BzIiwicHJlZml4Q2xzIiwicHJvZ3Jlc3NTdGF0dXMiLCJ0ZXh0Rm9ybWF0dGVyIiwiY2lyY2xlVHlwZSIsInRleHQiLCJJY29uIiwicHJvZ3Jlc3NJbmZvIiwicGVyY2VudFN0eWxlIiwiaGVpZ2h0IiwiYmFja2dyb3VuZCIsInN1Y2Nlc3NQZXJjZW50U3R5bGUiLCJzdWNjZXNzU2VnbWVudCIsInN0eWxlIiwicHJvZ3Jlc3MiLCJSZWFjdCIsImNpcmNsZVNpemUiLCJjaXJjbGVTdHlsZSIsImZvbnRTaXplIiwiY2lyY2xlV2lkdGgiLCJnYXBQb3MiLCJnYXBEZWciLCJDaXJjbGUiLCJ0cmFpbFdpZHRoIiwiTG9hZGluZyIsImNsYXNzU3RyaW5nIiwiUHJvcFR5cGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBLE1BQUEsR0FBQSx1QkFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFVBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFdBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLEtBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFNBQUEsR0FBQSxPQUFBLENBQUEsMkJBQUEsQ0FBQTs7QUFDQSxJQUFBLFFBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxXQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFVBQUEsR0FBQSxPQUFBLENBQUEsY0FBQSxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBQ3FCQSxROzs7Ozs7Ozs7Ozs7Ozs2QkFDUjtBQUFBLFVBQUEsV0FBQTs7QUFDTCxVQUFNRSxLQUFLLEdBQUcsS0FBZCxLQUFBO0FBREssVUFFY0Msa0JBRmQsR0FFME1ELEtBRjFNLENBQUEsU0FBQTtBQUFBLFVBRWtDRSxTQUZsQyxHQUUwTUYsS0FGMU0sQ0FBQSxTQUFBO0FBQUEsVUFBQSxjQUFBLEdBRTBNQSxLQUYxTSxDQUFBLE9BQUE7QUFBQSxVQUU2Q0csT0FGN0MsR0FBQSxjQUFBLEtBQUEsS0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLGNBQUE7QUFBQSxVQUUwREMsTUFGMUQsR0FFME1KLEtBRjFNLENBQUEsTUFBQTtBQUFBLFVBRWtFSyxNQUZsRSxHQUUwTUwsS0FGMU0sQ0FBQSxNQUFBO0FBQUEsVUFFMEVNLFVBRjFFLEdBRTBNTixLQUYxTSxDQUFBLFVBQUE7QUFBQSxVQUVzRk8sSUFGdEYsR0FFME1QLEtBRjFNLENBQUEsSUFBQTtBQUFBLFVBRTRGUSxjQUY1RixHQUUwTVIsS0FGMU0sQ0FBQSxjQUFBO0FBQUEsVUFFNEdTLElBRjVHLEdBRTBNVCxLQUYxTSxDQUFBLElBQUE7QUFBQSxVQUVrSFUsV0FGbEgsR0FFME1WLEtBRjFNLENBQUEsV0FBQTtBQUFBLFVBRStIVyxXQUYvSCxHQUUwTVgsS0FGMU0sQ0FBQSxXQUFBO0FBQUEsVUFFNElZLEtBRjVJLEdBRTBNWixLQUYxTSxDQUFBLEtBQUE7QUFBQSxVQUVtSmEsUUFGbkosR0FFME1iLEtBRjFNLENBQUEsUUFBQTtBQUFBLFVBQUEsZ0JBQUEsR0FFME1BLEtBRjFNLENBQUEsU0FBQTtBQUFBLFVBRTZKYyxTQUY3SixHQUFBLGdCQUFBLEtBQUEsS0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLGdCQUFBO0FBQUEsVUFFNEtDLFdBRjVLLEdBRTBNZixLQUYxTSxDQUFBLFdBQUE7QUFBQSxVQUU0TGdCLFNBRjVMLEdBQUEsQ0FBQSxHQUFBLHlCQUFBLENBQUEsU0FBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsV0FBQSxFQUFBLFdBQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxFQUFBLFFBQUEsRUFBQSxZQUFBLEVBQUEsTUFBQSxFQUFBLGdCQUFBLEVBQUEsTUFBQSxFQUFBLGFBQUEsRUFBQSxhQUFBLEVBQUEsT0FBQSxFQUFBLFVBQUEsRUFBQSxXQUFBLEVBQUEsYUFBQSxDQUFBLENBQUE7QUFHTCxVQUFNQyxTQUFTLEdBQUcsQ0FBQSxHQUFBLFVBQUEsQ0FBQSxZQUFBLEVBQUEsVUFBQSxFQUFsQixrQkFBa0IsQ0FBbEI7QUFDQSxVQUFNQyxjQUFjLEdBQUcsUUFBUSxDQUFDVixjQUFjLEdBQUdBLGNBQWMsQ0FBakIsUUFBR0EsRUFBSCxHQUErQkwsT0FBTyxDQUFyRCxRQUE4Q0EsRUFBOUMsRUFBUixFQUFRLENBQVIsSUFBQSxHQUFBLElBQ25CLEVBQUUsWUFEaUIsS0FDbkIsQ0FEbUIsR0FFakI7QUFBVTtBQUZPLFFBR2pCQyxNQUFNLElBQUk7QUFBUztBQUh6QjtBQUlBLFVBQUEsWUFBQTtBQUNBLFVBQUEsUUFBQTs7QUFDQSxVQUFNZSxhQUFhLEdBQUdkLE1BQU0sSUFBSyxVQUFBLGFBQUEsRUFBYTtBQUFBLGVBQUEsR0FBQSxNQUFBLENBQUEsYUFBQSxFQUFBLEdBQUEsQ0FBQTtBQUE5QyxPQUFBOztBQUNBLFVBQUEsUUFBQSxFQUFjO0FBQ1YsWUFBQSxJQUFBO0FBQ0EsWUFBTWUsVUFBVSxHQUFHLElBQUksS0FBSztBQUFTO0FBQWxCLFdBQWtDWCxJQUFJLEtBQUs7QUFBWTtBQUExRTs7QUFDQSxZQUFJUyxjQUFjLEtBQUs7QUFBWTtBQUFuQyxVQUFvRDtBQUNoREcsWUFBQUEsSUFBSSxHQUFHaEIsTUFBTSxHQUFHYyxhQUFhLENBQWhCLE9BQWdCLENBQWhCLEdBQTRCLE1BQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQSxhQUFBLENBQW9CRyxLQUFBQSxDQUFwQixTQUFvQkEsQ0FBcEIsRUFBMEI7QUFBRWIsY0FBQUEsSUFBSSxFQUFFVyxVQUFVLEdBQUEsT0FBQSxHQUFhO0FBQS9CLGFBQTFCLENBQXpDQztBQURKLFdBQUEsTUFHSyxJQUFJSCxjQUFjLEtBQUs7QUFBVTtBQUFqQyxVQUFnRDtBQUNqREcsWUFBQUEsSUFBSSxHQUFHaEIsTUFBTSxHQUFJYyxhQUFhLENBQWpCLE9BQWlCLENBQWpCLEdBQStCLE1BQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQSxhQUFBLENBQW9CRyxLQUFBQSxDQUFwQixTQUFvQkEsQ0FBcEIsRUFBMEI7QUFBRWIsY0FBQUEsSUFBSSxFQUFFVyxVQUFVLEdBQUEsT0FBQSxHQUFhO0FBQS9CLGFBQTFCLENBQTVDQztBQURDLFdBQUEsTUFHQTtBQUNEQSxVQUFBQSxJQUFJLEdBQUdGLGFBQWEsQ0FBcEJFLE9BQW9CLENBQXBCQTtBQUNIOztBQUNERSxRQUFBQSxZQUFZLEdBQUcsTUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLGFBQUEsQ0FBQSxNQUFBLEVBQTRCO0FBQUVyQixVQUFBQSxTQUFTLEVBQUEsR0FBQSxNQUFBLENBQUEsU0FBQSxFQUFBLE9BQUE7QUFBWCxTQUE1QixFQUFmcUIsSUFBZSxDQUFmQTtBQUNIOztBQUNELFVBQUlkLElBQUksS0FBSztBQUFPO0FBQXBCLFFBQWdDO0FBQzVCLGNBQU1lLFlBQVksR0FBRztBQUNqQlosWUFBQUEsS0FBSyxFQUFBLEdBQUEsTUFBQSxDQUFBLE9BQUEsRUFEWSxHQUNaLENBRFk7QUFFakJhLFlBQUFBLE1BQU0sRUFBRWYsV0FBVyxLQUFLLElBQUksS0FBSztBQUFRO0FBQWpCLGNBQUEsQ0FBQSxHQUZQLENBRUUsQ0FGRjtBQUdqQmdCLFlBQUFBLFVBQVUsRUFBRWY7QUFISyxXQUFyQjtBQUtBLGNBQU1nQixtQkFBbUIsR0FBRztBQUN4QmYsWUFBQUEsS0FBSyxFQUFBLEdBQUEsTUFBQSxDQUFBLGNBQUEsRUFEbUIsR0FDbkIsQ0FEbUI7QUFFeEJhLFlBQUFBLE1BQU0sRUFBRWYsV0FBVyxLQUFLLElBQUksS0FBSztBQUFRO0FBQWpCLGNBQUEsQ0FBQSxHQUFMLENBQUE7QUFGSyxXQUE1QjtBQUlBLGNBQU1rQixjQUFjLEdBQUcsY0FBYyxLQUFkLFNBQUEsR0FBZ0MsTUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLGFBQUEsQ0FBQSxLQUFBLEVBQTJCO0FBQUUxQixZQUFBQSxTQUFTLEVBQUEsR0FBQSxNQUFBLENBQUEsU0FBQSxFQUFYLGFBQVcsQ0FBWDtBQUF3QzJCLFlBQUFBLEtBQUssRUFBRUY7QUFBL0MsV0FBM0IsQ0FBaEMsR0FBdkIsSUFBQTtBQUNBRyxVQUFBQSxRQUFRLEdBQUlDLE1BQUFBLENBQUFBLFNBQUFBLENBQUFBLENBQUFBLGFBQUFBLENBQUFBLEtBQUFBLEVBQUFBLElBQUFBLEVBQ1IsTUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLGFBQUEsQ0FBQSxLQUFBLEVBQTJCO0FBQUU3QixZQUFBQSxTQUFTLEVBQUEsR0FBQSxNQUFBLENBQUEsU0FBQSxFQUFBLFFBQUE7QUFBWCxXQUEzQixFQUNJLE1BQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQSxhQUFBLENBQUEsS0FBQSxFQUEyQjtBQUFFQSxZQUFBQSxTQUFTLEVBQUEsR0FBQSxNQUFBLENBQUEsU0FBQSxFQUFBLFFBQUE7QUFBWCxXQUEzQixFQUNJLE1BQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQSxhQUFBLENBQUEsS0FBQSxFQUEyQjtBQUFFQSxZQUFBQSxTQUFTLEVBQUEsR0FBQSxNQUFBLENBQUEsU0FBQSxFQUFYLEtBQVcsQ0FBWDtBQUFnQzJCLFlBQUFBLEtBQUssRUFBRUw7QUFBdkMsV0FBM0IsQ0FESixFQUZJTyxjQUVKLENBREosQ0FEUUEsRUFBWkQsWUFBWUMsQ0FBWkQ7QUFYSixTQUFBLE1Ba0JLLElBQUksSUFBSSxLQUFLO0FBQVM7QUFBbEIsU0FBa0NyQixJQUFJLEtBQUs7QUFBWTtBQUEzRCxRQUE0RTtBQUM3RSxjQUFNdUIsVUFBVSxHQUFHcEIsS0FBSyxJQUF4QixHQUFBO0FBQ0EsY0FBTXFCLFdBQVcsR0FBRztBQUNoQnJCLFlBQUFBLEtBQUssRUFEVyxVQUFBO0FBRWhCYSxZQUFBQSxNQUFNLEVBRlUsVUFBQTtBQUdoQlMsWUFBQUEsUUFBUSxFQUFFRixVQUFVLEdBQVZBLElBQUFBLEdBQW9CO0FBSGQsV0FBcEI7QUFLQSxjQUFNRyxXQUFXLEdBQUd6QixXQUFXLElBQS9CLENBQUE7QUFDQSxjQUFNMEIsTUFBTSxHQUFHLFdBQVcsSUFDckIsSUFBSSxLQUFLO0FBQVk7QUFBckIsYUFBd0M7QUFBUztBQUR2QyxhQUVYO0FBQU07QUFGVjtBQUdBLGNBQU1DLE1BQU0sR0FBR3ZCLFNBQVMsSUFBSyxJQUFJLEtBQUs7QUFBWTtBQUFyQixhQUE3QixFQUFBO0FBQ0FnQixVQUFBQSxRQUFRLEdBQUksTUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLGFBQUEsQ0FBQSxLQUFBLEVBQTJCO0FBQUU1QixZQUFBQSxTQUFTLEVBQUEsR0FBQSxNQUFBLENBQUEsU0FBQSxFQUFYLFFBQVcsQ0FBWDtBQUFtQzJCLFlBQUFBLEtBQUssRUFBRUk7QUFBMUMsV0FBM0IsRUFDUixNQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsYUFBQSxDQUFvQkssU0FBQUEsQ0FBcEIsTUFBQSxFQUE0QjtBQUFFbkMsWUFBQUEsT0FBTyxFQUFULE9BQUE7QUFBb0JPLFlBQUFBLFdBQVcsRUFBL0IsV0FBQTtBQUE4QzZCLFlBQUFBLFVBQVUsRUFBeEQsV0FBQTtBQUF1RWpDLFlBQUFBLFVBQVUsRUFBakYsVUFBQTtBQUErRkssWUFBQUEsV0FBVyxFQUExRyxXQUFBO0FBQXlITSxZQUFBQSxTQUFTLEVBQWxJLFNBQUE7QUFBK0lILFlBQUFBLFNBQVMsRUFBeEosTUFBQTtBQUFrS0MsWUFBQUEsV0FBVyxFQUFFcUI7QUFBL0ssV0FBNUIsQ0FEUSxFQUFaTixZQUFZLENBQVpBO0FBWkMsU0FBQSxNQWdCQSxJQUFJckIsSUFBSSxLQUFLO0FBQVU7QUFBdkIsUUFBc0M7QUFDdkNxQixVQUFBQSxRQUFRLEdBQUksTUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLGFBQUEsQ0FBQSxLQUFBLEVBQTJCO0FBQUU1QixZQUFBQSxTQUFTLEVBQUEsR0FBQSxNQUFBLENBQUEsU0FBQSxFQUFBLFFBQUE7QUFBWCxXQUEzQixFQUNSNkIsTUFBQUEsQ0FBQUEsU0FBQUEsQ0FBQUEsQ0FBQUEsYUFBQUEsQ0FBb0JTLFFBQUFBLENBQXBCVCxTQUFvQlMsQ0FBcEJULEVBREpELElBQ0lDLENBRFEsQ0FBWkQ7QUFFSDs7QUFDRCxVQUFNVyxXQUFXLEdBQUcsQ0FBQSxHQUFBLFdBQUEsQ0FBQSxTQUFBLENBQUEsRUFBQSxTQUFBLEdBQUEsV0FBQSxHQUFBLEVBQUEsRUFBQSxDQUFBLEdBQUEsZ0JBQUEsQ0FBQSxTQUFBLENBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxNQUFBLENBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLENBQ0UsSUFBSSxLQUFLO0FBQVk7QUFBckIsU0FBd0M7QUFBUztBQUFqRCxTQURGLElBQUEsQ0FBQSxFQUFBLElBQUEsQ0FBQSxFQUFBLENBQUEsR0FBQSxnQkFBQSxDQUFBLFNBQUEsQ0FBQSxFQUFBLFdBQUEsRUFBQSxHQUFBLE1BQUEsQ0FBQSxTQUFBLEVBQUEsVUFBQSxFQUFBLE1BQUEsQ0FBQSxjQUFBLENBQUEsRUFBQSxJQUFBLENBQUEsRUFBQSxDQUFBLEdBQUEsZ0JBQUEsQ0FBQSxTQUFBLENBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxNQUFBLENBQUEsU0FBQSxFQUFBLFlBQUEsQ0FBQSxFQUFBLFFBQUEsQ0FBQSxFQUFBLENBQUEsR0FBQSxnQkFBQSxDQUFBLFNBQUEsQ0FBQSxFQUFBLFdBQUEsRUFBQSxHQUFBLE1BQUEsQ0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsQ0FBQSxJQUFBLENBQUEsRUFBQSxJQUFBLENBQUEsRUFBQSxXQUFBLEdBQXBCLFNBQW9CLENBQXBCO0FBTUEsYUFBUSxNQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsYUFBQSxDQUFBLEtBQUEsRUFBMkIsQ0FBQSxHQUFBLFNBQUEsQ0FBQSxTQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUE2QjtBQUFFdkMsUUFBQUEsU0FBUyxFQUFFdUM7QUFBYixPQUE3QixDQUEzQixFQUFSLFFBQVEsQ0FBUjtBQUNIOzs7RUF2RWlDMUMsTUFBQUEsQ0FBQUEsUzs7O0FBeUV0Q0QsUUFBUSxDQUFSQSxXQUFBQSxHQUFBQSxVQUFBQTtBQUNBQSxRQUFRLENBQVJBLFlBQUFBLEdBQXdCO0FBQ3BCVyxFQUFBQSxJQUFJLEVBQUU7QUFBTztBQURPO0FBRXBCTixFQUFBQSxPQUFPLEVBRmEsQ0FBQTtBQUdwQlUsRUFBQUEsUUFBUSxFQUhZLElBQUE7QUFJcEJQLEVBQUFBLFVBQVUsRUFKVSxTQUFBO0FBS3BCQyxFQUFBQSxJQUFJLEVBQUU7QUFBVTs7QUFMSSxDQUF4QlQ7QUFPQUEsUUFBUSxDQUFSQSxTQUFBQSxHQUFxQjtBQUNqQk0sRUFBQUEsTUFBTSxFQUFFLFVBQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQSxLQUFBLENBQWdCLENBQ3BCO0FBQVM7QUFEVyxJQUVwQjtBQUFZO0FBRlEsSUFHcEI7QUFBUztBQUhXLElBSXBCO0FBQVU7QUFKVSxHQUFoQixDQURTO0FBT2pCSyxFQUFBQSxJQUFJLEVBQUUsVUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLEtBQUEsQ0FBZ0IsQ0FDbEI7QUFBTztBQURXLElBRWxCO0FBQVM7QUFGUyxJQUdsQjtBQUFZO0FBSE0sSUFJbEI7QUFBVTtBQUpRLEdBQWhCLENBUFc7QUFhakJJLEVBQUFBLFFBQVEsRUFBRTZCLFVBQUFBLENBQUFBLFNBQUFBLENBQUFBLENBYk8sSUFBQTtBQWNqQnZDLEVBQUFBLE9BQU8sRUFBRXVDLFVBQUFBLENBQUFBLFNBQUFBLENBQUFBLENBZFEsTUFBQTtBQWVqQjlCLEVBQUFBLEtBQUssRUFBRThCLFVBQUFBLENBQUFBLFNBQUFBLENBQUFBLENBZlUsTUFBQTtBQWdCakJoQyxFQUFBQSxXQUFXLEVBQUVnQyxVQUFBQSxDQUFBQSxTQUFBQSxDQUFBQSxDQWhCSSxNQUFBO0FBaUJqQi9CLEVBQUFBLFdBQVcsRUFBRStCLFVBQUFBLENBQUFBLFNBQUFBLENBQUFBLENBakJJLE1BQUE7QUFrQmpCcEMsRUFBQUEsVUFBVSxFQUFFb0MsVUFBQUEsQ0FBQUEsU0FBQUEsQ0FBQUEsQ0FsQkssTUFBQTtBQW1CakJyQyxFQUFBQSxNQUFNLEVBQUVxQyxVQUFBQSxDQUFBQSxTQUFBQSxDQUFBQSxDQW5CUyxJQUFBO0FBb0JqQjVCLEVBQUFBLFNBQVMsRUFBRTRCLFVBQUFBLENBQUFBLFNBQUFBLENBQUFBLENBcEJNLE1BQUE7QUFxQmpCbkMsRUFBQUEsSUFBSSxFQUFFLFVBQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQSxLQUFBLENBQWdCLENBQUM7QUFBVTtBQUFYLElBQTBCO0FBQVE7QUFBbEMsSUFBK0M7QUFBUTtBQUF2RCxHQUFoQjtBQXJCVyxDQUFyQlQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IEljb24gZnJvbSAnLi4vaWNvbic7XG5pbXBvcnQgeyBDaXJjbGUgfSBmcm9tICcuLi9yYy1jb21wb25lbnRzL3Byb2dyZXNzJztcbmltcG9ydCBMb2FkaW5nIGZyb20gJy4vTG9hZGluZyc7XG5pbXBvcnQgeyBnZXRQcmVmaXhDbHMgfSBmcm9tICcuLi9jb25maWd1cmUnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3Jlc3MgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB7IHByZWZpeENsczogY3VzdG9taXplUHJlZml4Q2xzLCBjbGFzc05hbWUsIHBlcmNlbnQgPSAwLCBzdGF0dXMsIGZvcm1hdCwgdHJhaWxDb2xvciwgc2l6ZSwgc3VjY2Vzc1BlcmNlbnQsIHR5cGUsIHN0cm9rZVdpZHRoLCBzdHJva2VDb2xvciwgd2lkdGgsIHNob3dJbmZvLCBnYXBEZWdyZWUgPSAwLCBnYXBQb3NpdGlvbiwgLi4ucmVzdFByb3BzIH0gPSBwcm9wcztcbiAgICAgICAgY29uc3QgcHJlZml4Q2xzID0gZ2V0UHJlZml4Q2xzKCdwcm9ncmVzcycsIGN1c3RvbWl6ZVByZWZpeENscyk7XG4gICAgICAgIGNvbnN0IHByb2dyZXNzU3RhdHVzID0gcGFyc2VJbnQoc3VjY2Vzc1BlcmNlbnQgPyBzdWNjZXNzUGVyY2VudC50b1N0cmluZygpIDogcGVyY2VudC50b1N0cmluZygpLCAxMCkgPj0gMTAwICYmXG4gICAgICAgICAgICAhKCdzdGF0dXMnIGluIHByb3BzKVxuICAgICAgICAgICAgPyBcInN1Y2Nlc3NcIiAvKiBzdWNjZXNzICovXG4gICAgICAgICAgICA6IHN0YXR1cyB8fCBcIm5vcm1hbFwiIC8qIG5vcm1hbCAqLztcbiAgICAgICAgbGV0IHByb2dyZXNzSW5mbztcbiAgICAgICAgbGV0IHByb2dyZXNzO1xuICAgICAgICBjb25zdCB0ZXh0Rm9ybWF0dGVyID0gZm9ybWF0IHx8IChwZXJjZW50TnVtYmVyID0+IGAke3BlcmNlbnROdW1iZXJ9JWApO1xuICAgICAgICBpZiAoc2hvd0luZm8pIHtcbiAgICAgICAgICAgIGxldCB0ZXh0O1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlVHlwZSA9IHR5cGUgPT09IFwiY2lyY2xlXCIgLyogY2lyY2xlICovIHx8IHR5cGUgPT09IFwiZGFzaGJvYXJkXCIgLyogZGFzaGJvYXJkICovO1xuICAgICAgICAgICAgaWYgKHByb2dyZXNzU3RhdHVzID09PSBcImV4Y2VwdGlvblwiIC8qIGV4Y2VwdGlvbiAqLykge1xuICAgICAgICAgICAgICAgIHRleHQgPSBmb3JtYXQgPyB0ZXh0Rm9ybWF0dGVyKHBlcmNlbnQpIDogUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7IHR5cGU6IGNpcmNsZVR5cGUgPyAnY2xvc2UnIDogJ2NhbmNlbCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9ncmVzc1N0YXR1cyA9PT0gXCJzdWNjZXNzXCIgLyogc3VjY2VzcyAqLykge1xuICAgICAgICAgICAgICAgIHRleHQgPSBmb3JtYXQgPyAodGV4dEZvcm1hdHRlcihwZXJjZW50KSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7IHR5cGU6IGNpcmNsZVR5cGUgPyAnY2hlY2snIDogJ2NoZWNrX2NpcmNsZScgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHRGb3JtYXR0ZXIocGVyY2VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9ncmVzc0luZm8gPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogYCR7cHJlZml4Q2xzfS10ZXh0YCB9LCB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gXCJsaW5lXCIgLyogbGluZSAqLykge1xuICAgICAgICAgICAgY29uc3QgcGVyY2VudFN0eWxlID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtwZXJjZW50fSVgLFxuICAgICAgICAgICAgICAgIGhlaWdodDogc3Ryb2tlV2lkdGggfHwgKHNpemUgPT09IFwic21hbGxcIiAvKiBzbWFsbCAqLyA/IDYgOiA4KSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBzdHJva2VDb2xvcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzdWNjZXNzUGVyY2VudFN0eWxlID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtzdWNjZXNzUGVyY2VudH0lYCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHN0cm9rZVdpZHRoIHx8IChzaXplID09PSBcInNtYWxsXCIgLyogc21hbGwgKi8gPyA2IDogOCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc1NlZ21lbnQgPSBzdWNjZXNzUGVyY2VudCAhPT0gdW5kZWZpbmVkID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGAke3ByZWZpeENsc30tc3VjY2Vzcy1iZ2AsIHN0eWxlOiBzdWNjZXNzUGVyY2VudFN0eWxlIH0pKSA6IG51bGw7XG4gICAgICAgICAgICBwcm9ncmVzcyA9IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogYCR7cHJlZml4Q2xzfS1vdXRlcmAgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogYCR7cHJlZml4Q2xzfS1pbm5lcmAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGAke3ByZWZpeENsc30tYmdgLCBzdHlsZTogcGVyY2VudFN0eWxlIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc1NlZ21lbnQpKSxcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0luZm8pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBcImNpcmNsZVwiIC8qIGNpcmNsZSAqLyB8fCB0eXBlID09PSBcImRhc2hib2FyZFwiIC8qIGRhc2hib2FyZCAqLykge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlU2l6ZSA9IHdpZHRoIHx8IDEyMDtcbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZVN0eWxlID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBjaXJjbGVTaXplLFxuICAgICAgICAgICAgICAgIGhlaWdodDogY2lyY2xlU2l6ZSxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogY2lyY2xlU2l6ZSAqIDAuMTUgKyA2LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZVdpZHRoID0gc3Ryb2tlV2lkdGggfHwgNjtcbiAgICAgICAgICAgIGNvbnN0IGdhcFBvcyA9IGdhcFBvc2l0aW9uIHx8XG4gICAgICAgICAgICAgICAgKHR5cGUgPT09IFwiZGFzaGJvYXJkXCIgLyogZGFzaGJvYXJkICovICYmIFwiYm90dG9tXCIgLyogYm90dG9tICovKSB8fFxuICAgICAgICAgICAgICAgIFwidG9wXCIgLyogdG9wICovO1xuICAgICAgICAgICAgY29uc3QgZ2FwRGVnID0gZ2FwRGVncmVlIHx8ICh0eXBlID09PSBcImRhc2hib2FyZFwiIC8qIGRhc2hib2FyZCAqLyAmJiA3NSk7XG4gICAgICAgICAgICBwcm9ncmVzcyA9IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgJHtwcmVmaXhDbHN9LWlubmVyYCwgc3R5bGU6IGNpcmNsZVN0eWxlIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDaXJjbGUsIHsgcGVyY2VudDogcGVyY2VudCwgc3Ryb2tlV2lkdGg6IGNpcmNsZVdpZHRoLCB0cmFpbFdpZHRoOiBjaXJjbGVXaWR0aCwgdHJhaWxDb2xvcjogdHJhaWxDb2xvciwgc3Ryb2tlQ29sb3I6IHN0cm9rZUNvbG9yLCBwcmVmaXhDbHM6IHByZWZpeENscywgZ2FwRGVncmVlOiBnYXBEZWcsIGdhcFBvc2l0aW9uOiBnYXBQb3MgfSksXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NJbmZvKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gXCJsb2FkaW5nXCIgLyogbG9hZGluZyAqLykge1xuICAgICAgICAgICAgcHJvZ3Jlc3MgPSAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogYCR7cHJlZml4Q2xzfS1pbm5lcmAgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmcsIG51bGwpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xhc3NTdHJpbmcgPSBjbGFzc05hbWVzKHByZWZpeENscywge1xuICAgICAgICAgICAgW2Ake3ByZWZpeENsc30tJHsodHlwZSA9PT0gXCJkYXNoYm9hcmRcIiAvKiBkYXNoYm9hcmQgKi8gJiYgXCJjaXJjbGVcIiAvKiBjaXJjbGUgKi8pIHx8IHR5cGV9YF06IHRydWUsXG4gICAgICAgICAgICBbYCR7cHJlZml4Q2xzfS1zdGF0dXMtJHtwcm9ncmVzc1N0YXR1c31gXTogdHJ1ZSxcbiAgICAgICAgICAgIFtgJHtwcmVmaXhDbHN9LXNob3ctaW5mb2BdOiBzaG93SW5mbyxcbiAgICAgICAgICAgIFtgJHtwcmVmaXhDbHN9LSR7c2l6ZX1gXTogc2l6ZSxcbiAgICAgICAgfSwgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe30sIHJlc3RQcm9wcywgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nIH0pLCBwcm9ncmVzcykpO1xuICAgIH1cbn1cblByb2dyZXNzLmRpc3BsYXlOYW1lID0gJ1Byb2dyZXNzJztcblByb2dyZXNzLmRlZmF1bHRQcm9wcyA9IHtcbiAgICB0eXBlOiBcImxpbmVcIiAvKiBsaW5lICovLFxuICAgIHBlcmNlbnQ6IDAsXG4gICAgc2hvd0luZm86IHRydWUsXG4gICAgdHJhaWxDb2xvcjogJyNmM2YzZjMnLFxuICAgIHNpemU6IFwiZGVmYXVsdFwiIC8qIGRlZmF1bHQgKi8sXG59O1xuUHJvZ3Jlc3MucHJvcFR5cGVzID0ge1xuICAgIHN0YXR1czogUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAgICAgXCJub3JtYWxcIiAvKiBub3JtYWwgKi8sXG4gICAgICAgIFwiZXhjZXB0aW9uXCIgLyogZXhjZXB0aW9uICovLFxuICAgICAgICBcImFjdGl2ZVwiIC8qIGFjdGl2ZSAqLyxcbiAgICAgICAgXCJzdWNjZXNzXCIgLyogc3VjY2VzcyAqLyxcbiAgICBdKSxcbiAgICB0eXBlOiBQcm9wVHlwZXMub25lT2YoW1xuICAgICAgICBcImxpbmVcIiAvKiBsaW5lICovLFxuICAgICAgICBcImNpcmNsZVwiIC8qIGNpcmNsZSAqLyxcbiAgICAgICAgXCJkYXNoYm9hcmRcIiAvKiBkYXNoYm9hcmQgKi8sXG4gICAgICAgIFwibG9hZGluZ1wiIC8qIGxvYWRpbmcgKi8sXG4gICAgXSksXG4gICAgc2hvd0luZm86IFByb3BUeXBlcy5ib29sLFxuICAgIHBlcmNlbnQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgc3Ryb2tlV2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgc3Ryb2tlQ29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdHJhaWxDb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBmb3JtYXQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIGdhcERlZ3JlZTogUHJvcFR5cGVzLm51bWJlcixcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2YoW1wiZGVmYXVsdFwiIC8qIGRlZmF1bHQgKi8sIFwic21hbGxcIiAvKiBzbWFsbCAqLywgXCJsYXJnZVwiIC8qIGxhcmdlICovXSksXG59O1xuIl19