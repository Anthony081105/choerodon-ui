{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/modal/confirm.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { ReactNode } from 'react';\nimport noop from 'lodash/noop';\nimport { getProPrefixCls } from 'choerodon-ui/lib/configure';\nimport { ModalProps } from './Modal';\nimport { getKey, open } from '../modal-container/ModalContainer';\nimport Icon from '../icon';\nimport { confirmProps, normalizeProps } from './utils';\n\nexport default function confirm(props: ModalProps & confirmProps | ReactNode) {\n  const {\n    children,\n    type = 'confirm',\n    onOk = noop,\n    onCancel = noop,\n    onClose = noop,\n    iconType,\n    border = false,\n    okCancel = true,\n    title,\n    ...otherProps\n  } = normalizeProps(props);\n  const prefixCls = getProPrefixCls('confirm');\n  const titleNode = title && <div className={`${prefixCls}-title`}>{title}</div>;\n  const contentNode = children && <div className={`${prefixCls}-content`}>{children}</div>;\n  const iconNode = iconType && (\n    <td className={`${prefixCls}-icon ${prefixCls}-${type}`}>\n      <Icon type={iconType} />\n    </td>\n  );\n  return new Promise(resolve => {\n    open({\n      key: getKey(),\n      border,\n      destroyOnClose: true,\n      okCancel,\n      closable: false,\n      movable: false,\n      style: { width: '4.16rem' },\n      children: (\n        <table className={prefixCls}>\n          <tbody>\n            <tr>\n              {iconNode}\n              <td>\n                {titleNode}\n                {contentNode}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      ),\n      onOk: async () => {\n        const result = await onOk();\n        if (result !== false) {\n          resolve('ok');\n        }\n        return result;\n      },\n      onCancel: async () => {\n        const result = await onCancel();\n        if (result !== false) {\n          resolve('cancel');\n        }\n        return result;\n      },\n      onClose: async () => {\n        const result = await onClose();\n        if (result !== false) {\n          resolve('cancel');\n        }\n        return result;\n      },\n      ...otherProps,\n    });\n  });\n}\n"]}