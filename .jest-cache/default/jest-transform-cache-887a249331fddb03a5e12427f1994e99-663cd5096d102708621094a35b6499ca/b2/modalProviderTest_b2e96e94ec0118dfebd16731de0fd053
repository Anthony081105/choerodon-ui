f082eaf4a3ccb178be4142169c6ed8f3
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _ = _interopRequireDefault(require(".."));

var _modal = _interopRequireDefault(require("../../modal"));

var _button = _interopRequireDefault(require("../../button"));

var _class, _temp;

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var Context = (0, _react.createContext)('');
var injectModal = _["default"].injectModal,
    useModal = _["default"].useModal;

var ModalContent = function ModalContent() {
  var context = (0, _react.useContext)(Context);
  return context ? "Modal with context<".concat(context, ">") : 'Modal without context';
};

var openModal = function openModal(modal, title) {
  modal.open({
    title: title,
    children: _react["default"].createElement(ModalContent, null),
    onOk: function onOk() {
      return _modal["default"].confirm('This is normal Modal confirm');
    }
  });
};

var InnerModal = function InnerModal() {
  var modal = useModal();
  var handleClick = (0, _react.useCallback)(function () {
    return openModal(modal, 'Inner');
  }, []);
  return _react["default"].createElement(_button["default"], {
    onClick: handleClick
  }, "Open inner modal");
};

var ModalProviderTest = injectModal(_class = (_temp =
/*#__PURE__*/
function (_React$Component) {
  (0, _inherits2["default"])(ModalProviderTest, _React$Component);

  var _super = _createSuper(ModalProviderTest);

  function ModalProviderTest() {
    var _this;

    (0, _classCallCheck2["default"])(this, ModalProviderTest);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleClick", function () {
      var modal = _this.props.Modal;
      openModal(modal, 'Outer');
    });
    return _this;
  }

  (0, _createClass2["default"])(ModalProviderTest, [{
    key: "render",
    value: function render() {
      return _react["default"].createElement(_react["default"].Fragment, null, _react["default"].createElement(_button["default"], {
        onClick: this.handleClick
      }, "Open outer modal"), _react["default"].createElement(Context.Provider, {
        value: "provider"
      }, _react["default"].createElement(_["default"], null, _react["default"].createElement(InnerModal, null))));
    }
  }]);
  return ModalProviderTest;
}(_react["default"].Component), _temp)) || _class;

var _default = ModalProviderTest;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGFsUHJvdmlkZXJUZXN0LmpzIl0sIm5hbWVzIjpbIkNvbnRleHQiLCJpbmplY3RNb2RhbCIsIk1vZGFsUHJvdmlkZXIiLCJ1c2VNb2RhbCIsIk1vZGFsQ29udGVudCIsImNvbnRleHQiLCJvcGVuTW9kYWwiLCJtb2RhbCIsInRpdGxlIiwib3BlbiIsImNoaWxkcmVuIiwib25PayIsIk1vZGFsIiwiY29uZmlybSIsIklubmVyTW9kYWwiLCJoYW5kbGVDbGljayIsIk1vZGFsUHJvdmlkZXJUZXN0IiwicHJvcHMiLCJSZWFjdCIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxPQUFPLEdBQUcsMEJBQWMsRUFBZCxDQUFoQjtJQUVRQyxXLEdBQTBCQyxZLENBQTFCRCxXO0lBQWFFLFEsR0FBYUQsWSxDQUFiQyxROztBQUVyQixJQUFNQyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxHQUFNO0FBQ3pCLE1BQU1DLE9BQU8sR0FBRyx1QkFBV0wsT0FBWCxDQUFoQjtBQUNBLFNBQU9LLE9BQU8sZ0NBQXlCQSxPQUF6QixTQUFzQyx1QkFBcEQ7QUFDRCxDQUhEOztBQUtBLElBQU1DLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQUNDLEtBQUQsRUFBUUMsS0FBUixFQUFrQjtBQUNsQ0QsRUFBQUEsS0FBSyxDQUFDRSxJQUFOLENBQVc7QUFDVEQsSUFBQUEsS0FBSyxFQUFMQSxLQURTO0FBRVRFLElBQUFBLFFBQVEsRUFBRSxnQ0FBQyxZQUFELE9BRkQ7QUFHVEMsSUFBQUEsSUFBSSxFQUFFO0FBQUEsYUFBTUMsa0JBQU1DLE9BQU4sQ0FBYyw4QkFBZCxDQUFOO0FBQUE7QUFIRyxHQUFYO0FBS0QsQ0FORDs7QUFRQSxJQUFNQyxVQUFVLEdBQUcsU0FBYkEsVUFBYSxHQUFNO0FBQ3ZCLE1BQU1QLEtBQUssR0FBR0osUUFBUSxFQUF0QjtBQUNBLE1BQU1ZLFdBQVcsR0FBRyx3QkFBWTtBQUFBLFdBQU1ULFNBQVMsQ0FBQ0MsS0FBRCxFQUFRLE9BQVIsQ0FBZjtBQUFBLEdBQVosRUFBNkMsRUFBN0MsQ0FBcEI7QUFDQSxTQUFPLGdDQUFDLGtCQUFEO0FBQVEsSUFBQSxPQUFPLEVBQUVRO0FBQWpCLHdCQUFQO0FBQ0QsQ0FKRDs7SUFPTUMsaUIsR0FETGYsVzs7Ozs7Ozs7Ozs7Ozs7Ozs7b0dBRWUsWUFBTTtBQUFBLFVBQ0hNLEtBREcsR0FDTyxNQUFLVSxLQURaLENBQ1ZMLEtBRFU7QUFFbEJOLE1BQUFBLFNBQVMsQ0FBQ0MsS0FBRCxFQUFRLE9BQVIsQ0FBVDtBQUNELEs7Ozs7Ozs2QkFFUTtBQUNQLGFBQ0UsZ0NBQUMsaUJBQUQsQ0FBTyxRQUFQLFFBQ0UsZ0NBQUMsa0JBQUQ7QUFBUSxRQUFBLE9BQU8sRUFBRSxLQUFLUTtBQUF0Qiw0QkFERixFQUVFLGdDQUFDLE9BQUQsQ0FBUyxRQUFUO0FBQWtCLFFBQUEsS0FBSyxFQUFDO0FBQXhCLFNBQ0UsZ0NBQUMsWUFBRCxRQUNFLGdDQUFDLFVBQUQsT0FERixDQURGLENBRkYsQ0FERjtBQVVEOzs7RUFqQjZCRyxrQkFBTUMsUzs7ZUFvQnZCSCxpQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNb2RhbFByb3ZpZGVyIGZyb20gJy4uJztcbmltcG9ydCBNb2RhbCBmcm9tICcuLi8uLi9tb2RhbCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uLy4uL2J1dHRvbic7XG5cbmNvbnN0IENvbnRleHQgPSBjcmVhdGVDb250ZXh0KCcnKTtcblxuY29uc3QgeyBpbmplY3RNb2RhbCwgdXNlTW9kYWwgfSA9IE1vZGFsUHJvdmlkZXI7XG5cbmNvbnN0IE1vZGFsQ29udGVudCA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQ29udGV4dCk7XG4gIHJldHVybiBjb250ZXh0ID8gYE1vZGFsIHdpdGggY29udGV4dDwke2NvbnRleHR9PmAgOiAnTW9kYWwgd2l0aG91dCBjb250ZXh0Jztcbn07XG5cbmNvbnN0IG9wZW5Nb2RhbCA9IChtb2RhbCwgdGl0bGUpID0+IHtcbiAgbW9kYWwub3Blbih7XG4gICAgdGl0bGUsXG4gICAgY2hpbGRyZW46IDxNb2RhbENvbnRlbnQgLz4sXG4gICAgb25PazogKCkgPT4gTW9kYWwuY29uZmlybSgnVGhpcyBpcyBub3JtYWwgTW9kYWwgY29uZmlybScpLFxuICB9KTtcbn07XG5cbmNvbnN0IElubmVyTW9kYWwgPSAoKSA9PiB7XG4gIGNvbnN0IG1vZGFsID0gdXNlTW9kYWwoKTtcbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiBvcGVuTW9kYWwobW9kYWwsICdJbm5lcicpLCBbXSk7XG4gIHJldHVybiA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfT5PcGVuIGlubmVyIG1vZGFsPC9CdXR0b24+O1xufTtcblxuQGluamVjdE1vZGFsXG5jbGFzcyBNb2RhbFByb3ZpZGVyVGVzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgTW9kYWw6IG1vZGFsIH0gPSB0aGlzLnByb3BzO1xuICAgIG9wZW5Nb2RhbChtb2RhbCwgJ091dGVyJyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+T3BlbiBvdXRlciBtb2RhbDwvQnV0dG9uPlxuICAgICAgICA8Q29udGV4dC5Qcm92aWRlciB2YWx1ZT1cInByb3ZpZGVyXCI+XG4gICAgICAgICAgPE1vZGFsUHJvdmlkZXI+XG4gICAgICAgICAgICA8SW5uZXJNb2RhbCAvPlxuICAgICAgICAgIDwvTW9kYWxQcm92aWRlcj5cbiAgICAgICAgPC9Db250ZXh0LlByb3ZpZGVyPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGFsUHJvdmlkZXJUZXN0O1xuIl19