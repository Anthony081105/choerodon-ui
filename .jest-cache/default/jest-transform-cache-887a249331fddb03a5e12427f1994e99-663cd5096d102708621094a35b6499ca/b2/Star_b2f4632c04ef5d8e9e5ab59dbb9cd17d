3ceb85c8117b5e19a44f902a7a3ea253
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var Star =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(Star, _Component);

  var _super = _createSuper(Star);

  function Star() {
    var _this;

    (0, _classCallCheck2["default"])(this, Star);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onHover", function (e) {
      var _this$props = _this.props,
          onHover = _this$props.onHover,
          index = _this$props.index;
      onHover(e, index);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onClick", function (e) {
      var _this$props2 = _this.props,
          onClick = _this$props2.onClick,
          index = _this$props2.index;
      onClick(e, index);
    });
    return _this;
  }

  (0, _createClass2["default"])(Star, [{
    key: "getClassName",
    value: function getClassName() {
      var _this$props3 = this.props,
          prefixCls = _this$props3.prefixCls,
          index = _this$props3.index,
          value = _this$props3.value,
          allowHalf = _this$props3.allowHalf,
          focused = _this$props3.focused;
      var starValue = index + 1;
      var className = prefixCls;

      if (value === 0 && index === 0 && focused) {
        className += " ".concat(prefixCls, "-focused");
      } else if (allowHalf && value + 0.5 === starValue) {
        className += " ".concat(prefixCls, "-half ").concat(prefixCls, "-active");

        if (focused) {
          className += " ".concat(prefixCls, "-focused");
        }
      } else {
        className += starValue <= value ? " ".concat(prefixCls, "-full") : " ".concat(prefixCls, "-zero");

        if (starValue === value && focused) {
          className += " ".concat(prefixCls, "-focused");
        }
      }

      return className;
    }
  }, {
    key: "render",
    value: function render() {
      var onHover = this.onHover,
          onClick = this.onClick;
      var _this$props4 = this.props,
          disabled = _this$props4.disabled,
          prefixCls = _this$props4.prefixCls,
          character = _this$props4.character;
      return _react["default"].createElement("li", {
        className: this.getClassName(),
        onClick: disabled ? null : onClick,
        onMouseMove: disabled ? null : onHover
      }, _react["default"].createElement("div", {
        className: "".concat(prefixCls, "-first")
      }, character), _react["default"].createElement("div", {
        className: "".concat(prefixCls, "-second")
      }, character));
    }
  }]);
  return Star;
}(_react.Component);

exports["default"] = Star;
(0, _defineProperty2["default"])(Star, "propTypes", {
  value: _propTypes["default"].number,
  index: _propTypes["default"].number,
  prefixCls: _propTypes["default"].string,
  allowHalf: _propTypes["default"].bool,
  disabled: _propTypes["default"].bool,
  onHover: _propTypes["default"].func,
  onClick: _propTypes["default"].func,
  character: _propTypes["default"].node,
  focused: _propTypes["default"].bool
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0YXIuanN4Il0sIm5hbWVzIjpbIlN0YXIiLCJlIiwicHJvcHMiLCJvbkhvdmVyIiwiaW5kZXgiLCJvbkNsaWNrIiwicHJlZml4Q2xzIiwidmFsdWUiLCJhbGxvd0hhbGYiLCJmb2N1c2VkIiwic3RhclZhbHVlIiwiY2xhc3NOYW1lIiwiZGlzYWJsZWQiLCJjaGFyYWN0ZXIiLCJnZXRDbGFzc05hbWUiLCJDb21wb25lbnQiLCJQcm9wVHlwZXMiLCJudW1iZXIiLCJzdHJpbmciLCJib29sIiwiZnVuYyIsIm5vZGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUVxQkEsSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0dBYVQsVUFBQ0MsQ0FBRCxFQUFPO0FBQUEsd0JBQ1ksTUFBS0MsS0FEakI7QUFBQSxVQUNQQyxPQURPLGVBQ1BBLE9BRE87QUFBQSxVQUNFQyxLQURGLGVBQ0VBLEtBREY7QUFFZkQsTUFBQUEsT0FBTyxDQUFDRixDQUFELEVBQUlHLEtBQUosQ0FBUDtBQUNELEs7Z0dBRVMsVUFBQ0gsQ0FBRCxFQUFPO0FBQUEseUJBQ1ksTUFBS0MsS0FEakI7QUFBQSxVQUNQRyxPQURPLGdCQUNQQSxPQURPO0FBQUEsVUFDRUQsS0FERixnQkFDRUEsS0FERjtBQUVmQyxNQUFBQSxPQUFPLENBQUNKLENBQUQsRUFBSUcsS0FBSixDQUFQO0FBQ0QsSzs7Ozs7O21DQUVjO0FBQUEseUJBQzJDLEtBQUtGLEtBRGhEO0FBQUEsVUFDTEksU0FESyxnQkFDTEEsU0FESztBQUFBLFVBQ01GLEtBRE4sZ0JBQ01BLEtBRE47QUFBQSxVQUNhRyxLQURiLGdCQUNhQSxLQURiO0FBQUEsVUFDb0JDLFNBRHBCLGdCQUNvQkEsU0FEcEI7QUFBQSxVQUMrQkMsT0FEL0IsZ0JBQytCQSxPQUQvQjtBQUViLFVBQU1DLFNBQVMsR0FBR04sS0FBSyxHQUFHLENBQTFCO0FBQ0EsVUFBSU8sU0FBUyxHQUFHTCxTQUFoQjs7QUFDQSxVQUFJQyxLQUFLLEtBQUssQ0FBVixJQUFlSCxLQUFLLEtBQUssQ0FBekIsSUFBOEJLLE9BQWxDLEVBQTJDO0FBQ3pDRSxRQUFBQSxTQUFTLGVBQVFMLFNBQVIsYUFBVDtBQUNELE9BRkQsTUFFTyxJQUFJRSxTQUFTLElBQUlELEtBQUssR0FBRyxHQUFSLEtBQWdCRyxTQUFqQyxFQUE0QztBQUNqREMsUUFBQUEsU0FBUyxlQUFRTCxTQUFSLG1CQUEwQkEsU0FBMUIsWUFBVDs7QUFDQSxZQUFJRyxPQUFKLEVBQWE7QUFDWEUsVUFBQUEsU0FBUyxlQUFRTCxTQUFSLGFBQVQ7QUFDRDtBQUNGLE9BTE0sTUFLQTtBQUNMSyxRQUFBQSxTQUFTLElBQUlELFNBQVMsSUFBSUgsS0FBYixjQUF5QkQsU0FBekIsd0JBQWdEQSxTQUFoRCxVQUFiOztBQUNBLFlBQUlJLFNBQVMsS0FBS0gsS0FBZCxJQUF1QkUsT0FBM0IsRUFBb0M7QUFDbENFLFVBQUFBLFNBQVMsZUFBUUwsU0FBUixhQUFUO0FBQ0Q7QUFDRjs7QUFDRCxhQUFPSyxTQUFQO0FBQ0Q7Ozs2QkFFUTtBQUFBLFVBQ0NSLE9BREQsR0FDc0IsSUFEdEIsQ0FDQ0EsT0FERDtBQUFBLFVBQ1VFLE9BRFYsR0FDc0IsSUFEdEIsQ0FDVUEsT0FEVjtBQUFBLHlCQUVvQyxLQUFLSCxLQUZ6QztBQUFBLFVBRUNVLFFBRkQsZ0JBRUNBLFFBRkQ7QUFBQSxVQUVXTixTQUZYLGdCQUVXQSxTQUZYO0FBQUEsVUFFc0JPLFNBRnRCLGdCQUVzQkEsU0FGdEI7QUFHUCxhQUNFO0FBQ0UsUUFBQSxTQUFTLEVBQUUsS0FBS0MsWUFBTCxFQURiO0FBRUUsUUFBQSxPQUFPLEVBQUVGLFFBQVEsR0FBRyxJQUFILEdBQVVQLE9BRjdCO0FBR0UsUUFBQSxXQUFXLEVBQUVPLFFBQVEsR0FBRyxJQUFILEdBQVVUO0FBSGpDLFNBS0U7QUFBSyxRQUFBLFNBQVMsWUFBS0csU0FBTDtBQUFkLFNBQXVDTyxTQUF2QyxDQUxGLEVBTUU7QUFBSyxRQUFBLFNBQVMsWUFBS1AsU0FBTDtBQUFkLFNBQXdDTyxTQUF4QyxDQU5GLENBREY7QUFVRDs7O0VBeEQrQkUsZ0I7OztpQ0FBYmYsSSxlQUNBO0FBQ2pCTyxFQUFBQSxLQUFLLEVBQUVTLHNCQUFVQyxNQURBO0FBRWpCYixFQUFBQSxLQUFLLEVBQUVZLHNCQUFVQyxNQUZBO0FBR2pCWCxFQUFBQSxTQUFTLEVBQUVVLHNCQUFVRSxNQUhKO0FBSWpCVixFQUFBQSxTQUFTLEVBQUVRLHNCQUFVRyxJQUpKO0FBS2pCUCxFQUFBQSxRQUFRLEVBQUVJLHNCQUFVRyxJQUxIO0FBTWpCaEIsRUFBQUEsT0FBTyxFQUFFYSxzQkFBVUksSUFORjtBQU9qQmYsRUFBQUEsT0FBTyxFQUFFVyxzQkFBVUksSUFQRjtBQVFqQlAsRUFBQUEsU0FBUyxFQUFFRyxzQkFBVUssSUFSSjtBQVNqQlosRUFBQUEsT0FBTyxFQUFFTyxzQkFBVUc7QUFURixDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHZhbHVlOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBhbGxvd0hhbGY6IFByb3BUeXBlcy5ib29sLFxuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBvbkhvdmVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBjaGFyYWN0ZXI6IFByb3BUeXBlcy5ub2RlLFxuICAgIGZvY3VzZWQ6IFByb3BUeXBlcy5ib29sLFxuICB9O1xuXG4gIG9uSG92ZXIgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHsgb25Ib3ZlciwgaW5kZXggfSA9IHRoaXMucHJvcHM7XG4gICAgb25Ib3ZlcihlLCBpbmRleCk7XG4gIH1cblxuICBvbkNsaWNrID0gKGUpID0+IHtcbiAgICBjb25zdCB7IG9uQ2xpY2ssIGluZGV4IH0gPSB0aGlzLnByb3BzO1xuICAgIG9uQ2xpY2soZSwgaW5kZXgpO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGNvbnN0IHsgcHJlZml4Q2xzLCBpbmRleCwgdmFsdWUsIGFsbG93SGFsZiwgZm9jdXNlZCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzdGFyVmFsdWUgPSBpbmRleCArIDE7XG4gICAgbGV0IGNsYXNzTmFtZSA9IHByZWZpeENscztcbiAgICBpZiAodmFsdWUgPT09IDAgJiYgaW5kZXggPT09IDAgJiYgZm9jdXNlZCkge1xuICAgICAgY2xhc3NOYW1lICs9IGAgJHtwcmVmaXhDbHN9LWZvY3VzZWRgO1xuICAgIH0gZWxzZSBpZiAoYWxsb3dIYWxmICYmIHZhbHVlICsgMC41ID09PSBzdGFyVmFsdWUpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBgICR7cHJlZml4Q2xzfS1oYWxmICR7cHJlZml4Q2xzfS1hY3RpdmVgO1xuICAgICAgaWYgKGZvY3VzZWQpIHtcbiAgICAgICAgY2xhc3NOYW1lICs9IGAgJHtwcmVmaXhDbHN9LWZvY3VzZWRgO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgKz0gc3RhclZhbHVlIDw9IHZhbHVlID8gYCAke3ByZWZpeENsc30tZnVsbGAgOiBgICR7cHJlZml4Q2xzfS16ZXJvYDtcbiAgICAgIGlmIChzdGFyVmFsdWUgPT09IHZhbHVlICYmIGZvY3VzZWQpIHtcbiAgICAgICAgY2xhc3NOYW1lICs9IGAgJHtwcmVmaXhDbHN9LWZvY3VzZWRgO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xhc3NOYW1lO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgb25Ib3Zlciwgb25DbGljayB9ID0gdGhpcztcbiAgICBjb25zdCB7IGRpc2FibGVkLCBwcmVmaXhDbHMsIGNoYXJhY3RlciB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPGxpXG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgb25DbGljaz17ZGlzYWJsZWQgPyBudWxsIDogb25DbGlja31cbiAgICAgICAgb25Nb3VzZU1vdmU9e2Rpc2FibGVkID8gbnVsbCA6IG9uSG92ZXJ9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWZpcnN0YH0+e2NoYXJhY3Rlcn08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tc2Vjb25kYH0+e2NoYXJhY3Rlcn08L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuIl19