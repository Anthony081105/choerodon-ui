9169adf801811233681965810e8e1bf4
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _classnames = _interopRequireDefault(require("classnames"));

var _noop = _interopRequireDefault(require("lodash/noop"));

var _PanelContent = _interopRequireDefault(require("./PanelContent"));

var _animate = _interopRequireDefault(require("../../animate"));

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var CollapsePanel =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(CollapsePanel, _Component);

  var _super = _createSuper(CollapsePanel);

  function CollapsePanel() {
    (0, _classCallCheck2["default"])(this, CollapsePanel);
    return _super.apply(this, arguments);
  }

  (0, _createClass2["default"])(CollapsePanel, [{
    key: "handleItemClick",
    value: function handleItemClick() {
      if (this.props.onItemClick) {
        this.props.onItemClick();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _classNames2, _classNames3;

      var _this$props = this.props,
          className = _this$props.className,
          id = _this$props.id,
          style = _this$props.style,
          prefixCls = _this$props.prefixCls,
          header = _this$props.header,
          headerClass = _this$props.headerClass,
          children = _this$props.children,
          isActive = _this$props.isActive,
          showArrow = _this$props.showArrow,
          destroyInactivePanel = _this$props.destroyInactivePanel,
          disabled = _this$props.disabled,
          accordion = _this$props.accordion,
          forceRender = _this$props.forceRender,
          expandIcon = _this$props.expandIcon,
          extra = _this$props.extra,
          trigger = _this$props.trigger;
      var headerCls = (0, _classnames["default"])("".concat(prefixCls, "-header"), (0, _defineProperty2["default"])({}, headerClass, headerClass));
      var itemCls = (0, _classnames["default"])((_classNames2 = {}, (0, _defineProperty2["default"])(_classNames2, "".concat(prefixCls, "-item"), true), (0, _defineProperty2["default"])(_classNames2, "".concat(prefixCls, "-item-active"), isActive), (0, _defineProperty2["default"])(_classNames2, "".concat(prefixCls, "-item-disabled"), disabled), _classNames2), className);
      var iconCls = (0, _classnames["default"])((_classNames3 = {}, (0, _defineProperty2["default"])(_classNames3, "".concat(prefixCls, "-expand-icon"), true), (0, _defineProperty2["default"])(_classNames3, "".concat(prefixCls, "-expanded"), isActive), (0, _defineProperty2["default"])(_classNames3, "".concat(prefixCls, "-collapsed"), !isActive), _classNames3));

      var icon = _react["default"].createElement("i", {
        className: iconCls
      });

      if (trigger === 'icon') {
        icon = _react["default"].createElement("span", {
          className: "".concat(prefixCls, "-expand-icon-wrapper"),
          onClick: this.handleItemClick.bind(this)
        }, _react["default"].createElement("i", {
          className: iconCls
        }));
      }

      if (showArrow) {
        if (typeof expandIcon === 'function') {
          icon = trigger === 'icon' ? _react["default"].createElement("span", {
            className: "".concat(prefixCls, "-expand-icon-wrapper"),
            onClick: this.handleItemClick.bind(this)
          }, expandIcon(this.props)) : expandIcon(this.props);
        }
      }

      return _react["default"].createElement("div", {
        className: itemCls,
        style: style,
        id: id
      }, _react["default"].createElement("div", {
        className: headerCls,
        onClick: trigger === 'header' ? this.handleItemClick.bind(this) : _noop["default"],
        role: accordion ? 'tab' : 'button',
        tabIndex: disabled ? -1 : 0,
        "aria-expanded": "".concat(isActive),
        onKeyPress: this.handleKeyPress
      }, showArrow && icon, header, extra && _react["default"].createElement("div", {
        className: "".concat(prefixCls, "-extra")
      }, extra)), _react["default"].createElement(_animate["default"], {
        hiddenProp: "isInactive",
        exclusive: true,
        component: "",
        animation: this.props.openAnimation
      }, _react["default"].createElement(_PanelContent["default"], {
        prefixCls: prefixCls,
        isInactive: !isActive,
        destroyInactivePanel: destroyInactivePanel,
        forceRender: forceRender,
        role: accordion ? 'tabpanel' : null
      }, children)));
    }
  }]);
  return CollapsePanel;
}(_react.Component);

exports["default"] = CollapsePanel;
(0, _defineProperty2["default"])(CollapsePanel, "propTypes", {
  className: _propTypes["default"].oneOfType([_propTypes["default"].string, _propTypes["default"].object]),
  id: _propTypes["default"].string,
  children: _propTypes["default"].any,
  openAnimation: _propTypes["default"].object,
  prefixCls: _propTypes["default"].string,
  header: _propTypes["default"].oneOfType([_propTypes["default"].string, _propTypes["default"].number, _propTypes["default"].node]),
  headerClass: _propTypes["default"].string,
  showArrow: _propTypes["default"].bool,
  isActive: _propTypes["default"].bool,
  onItemClick: _propTypes["default"].func,
  style: _propTypes["default"].object,
  destroyInactivePanel: _propTypes["default"].bool,
  disabled: _propTypes["default"].bool,
  forceRender: _propTypes["default"].bool
});
(0, _defineProperty2["default"])(CollapsePanel, "defaultProps", {
  showArrow: true,
  isActive: false,
  destroyInactivePanel: false,
  onItemClick: function onItemClick() {},
  headerClass: '',
  forceRender: false
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBhbmVsLmpzeCJdLCJuYW1lcyI6WyJDb2xsYXBzZVBhbmVsIiwicHJvcHMiLCJvbkl0ZW1DbGljayIsImNsYXNzTmFtZSIsImlkIiwic3R5bGUiLCJwcmVmaXhDbHMiLCJoZWFkZXIiLCJoZWFkZXJDbGFzcyIsImNoaWxkcmVuIiwiaXNBY3RpdmUiLCJzaG93QXJyb3ciLCJkZXN0cm95SW5hY3RpdmVQYW5lbCIsImRpc2FibGVkIiwiYWNjb3JkaW9uIiwiZm9yY2VSZW5kZXIiLCJleHBhbmRJY29uIiwiZXh0cmEiLCJ0cmlnZ2VyIiwiaGVhZGVyQ2xzIiwiaXRlbUNscyIsImljb25DbHMiLCJpY29uIiwiaGFuZGxlSXRlbUNsaWNrIiwiYmluZCIsIm5vb3AiLCJoYW5kbGVLZXlQcmVzcyIsIm9wZW5BbmltYXRpb24iLCJDb21wb25lbnQiLCJQcm9wVHlwZXMiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJvYmplY3QiLCJhbnkiLCJudW1iZXIiLCJub2RlIiwiYm9vbCIsImZ1bmMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFFcUJBLGE7Ozs7Ozs7Ozs7Ozs7O3NDQW1DRDtBQUNoQixVQUFJLEtBQUtDLEtBQUwsQ0FBV0MsV0FBZixFQUE0QjtBQUMxQixhQUFLRCxLQUFMLENBQVdDLFdBQVg7QUFDRDtBQUNGOzs7NkJBRVE7QUFBQTs7QUFBQSx3QkFrQkgsS0FBS0QsS0FsQkY7QUFBQSxVQUVMRSxTQUZLLGVBRUxBLFNBRks7QUFBQSxVQUdMQyxFQUhLLGVBR0xBLEVBSEs7QUFBQSxVQUlMQyxLQUpLLGVBSUxBLEtBSks7QUFBQSxVQUtMQyxTQUxLLGVBS0xBLFNBTEs7QUFBQSxVQU1MQyxNQU5LLGVBTUxBLE1BTks7QUFBQSxVQU9MQyxXQVBLLGVBT0xBLFdBUEs7QUFBQSxVQVFMQyxRQVJLLGVBUUxBLFFBUks7QUFB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RSxLQUhGO0FBSXBCVixFQUFBQSxXQUpvQix5QkFJTixDQUNiLENBTG1CO0FBTXBCTSxFQUFBQSxXQUFXLEVBQUUsRUFOTztBQU9wQk8sRUFBQUEsV0FBVyxFQUFFO0FBUE8sQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgbm9vcCBmcm9tICdsb2Rhc2gvbm9vcCc7XG5pbXBvcnQgUGFuZWxDb250ZW50IGZyb20gJy4vUGFuZWxDb250ZW50JztcbmltcG9ydCBBbmltYXRlIGZyb20gJy4uLy4uL2FuaW1hdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2xsYXBzZVBhbmVsIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIFByb3BUeXBlcy5vYmplY3QsXG4gICAgXSksXG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnksXG4gICAgb3BlbkFuaW1hdGlvbjogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwcmVmaXhDbHM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgaGVhZGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgUHJvcFR5cGVzLm5vZGUsXG4gICAgXSksXG4gICAgaGVhZGVyQ2xhc3M6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2hvd0Fycm93OiBQcm9wVHlwZXMuYm9vbCxcbiAgICBpc0FjdGl2ZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgb25JdGVtQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICAgIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGRlc3Ryb3lJbmFjdGl2ZVBhbmVsOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZm9yY2VSZW5kZXI6IFByb3BUeXBlcy5ib29sLFxuICB9O1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgc2hvd0Fycm93OiB0cnVlLFxuICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICBkZXN0cm95SW5hY3RpdmVQYW5lbDogZmFsc2UsXG4gICAgb25JdGVtQ2xpY2soKSB7XG4gICAgfSxcbiAgICBoZWFkZXJDbGFzczogJycsXG4gICAgZm9yY2VSZW5kZXI6IGZhbHNlLFxuICB9O1xuXG4gIGhhbmRsZUl0ZW1DbGljaygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkl0ZW1DbGljaykge1xuICAgICAgdGhpcy5wcm9wcy5vbkl0ZW1DbGljaygpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjbGFzc05hbWUsXG4gICAgICBpZCxcbiAgICAgIHN0eWxlLFxuICAgICAgcHJlZml4Q2xzLFxuICAgICAgaGVhZGVyLFxuICAgICAgaGVhZGVyQ2xhc3MsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGlzQWN0aXZlLFxuICAgICAgc2hvd0Fycm93LFxuICAgICAgZGVzdHJveUluYWN0aXZlUGFuZWwsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIGFjY29yZGlvbixcbiAgICAgIGZvcmNlUmVuZGVyLFxuICAgICAgZXhwYW5kSWNvbixcbiAgICAgIGV4dHJhLFxuICAgICAgdHJpZ2dlcixcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBoZWFkZXJDbHMgPSBjbGFzc05hbWVzKGAke3ByZWZpeENsc30taGVhZGVyYCwge1xuICAgICAgW2hlYWRlckNsYXNzXTogaGVhZGVyQ2xhc3MsXG4gICAgfSk7XG4gICAgY29uc3QgaXRlbUNscyA9IGNsYXNzTmFtZXMoe1xuICAgICAgW2Ake3ByZWZpeENsc30taXRlbWBdOiB0cnVlLFxuICAgICAgW2Ake3ByZWZpeENsc30taXRlbS1hY3RpdmVgXTogaXNBY3RpdmUsXG4gICAgICBbYCR7cHJlZml4Q2xzfS1pdGVtLWRpc2FibGVkYF06IGRpc2FibGVkLFxuICAgIH0sIGNsYXNzTmFtZSk7XG5cbiAgICBjb25zdCBpY29uQ2xzID0gY2xhc3NOYW1lcyh7XG4gICAgICBbYCR7cHJlZml4Q2xzfS1leHBhbmQtaWNvbmBdOiB0cnVlLFxuICAgICAgW2Ake3ByZWZpeENsc30tZXhwYW5kZWRgXTogaXNBY3RpdmUsXG4gICAgICBbYCR7cHJlZml4Q2xzfS1jb2xsYXBzZWRgXTogIWlzQWN0aXZlLFxuICAgIH0pO1xuXG4gICAgbGV0IGljb24gPSA8aSBjbGFzc05hbWU9e2ljb25DbHN9IC8+O1xuXG4gICAgaWYgKHRyaWdnZXIgPT09ICdpY29uJykge1xuICAgICAgaWNvbiA9ICg8c3BhbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tZXhwYW5kLWljb24td3JhcHBlcmB9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcyl9PlxuICAgICAgICA8aSBjbGFzc05hbWU9e2ljb25DbHN9IC8+XG4gICAgICA8L3NwYW4+KTtcbiAgICB9XG5cbiAgICBpZiAoc2hvd0Fycm93KSB7XG4gICAgICBpZiAodHlwZW9mIGV4cGFuZEljb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWNvbiA9IHRyaWdnZXIgPT09ICdpY29uJyA/IChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tZXhwYW5kLWljb24td3JhcHBlcmB9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcyl9PlxuICAgICAgICB7ZXhwYW5kSWNvbih0aGlzLnByb3BzKX1cbiAgICAgIDwvc3Bhbj4pIDogZXhwYW5kSWNvbih0aGlzLnByb3BzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2l0ZW1DbHN9IHN0eWxlPXtzdHlsZX0gaWQ9e2lkfT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17aGVhZGVyQ2xzfVxuICAgICAgICAgIG9uQ2xpY2s9e3RyaWdnZXIgPT09ICdoZWFkZXInID8gdGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzKSA6IG5vb3B9XG4gICAgICAgICAgcm9sZT17YWNjb3JkaW9uID8gJ3RhYicgOiAnYnV0dG9uJ31cbiAgICAgICAgICB0YWJJbmRleD17ZGlzYWJsZWQgPyAtMSA6IDB9XG4gICAgICAgICAgYXJpYS1leHBhbmRlZD17YCR7aXNBY3RpdmV9YH1cbiAgICAgICAgICBvbktleVByZXNzPXt0aGlzLmhhbmRsZUtleVByZXNzfVxuICAgICAgICA+XG4gICAgICAgICAge3Nob3dBcnJvdyAmJiBpY29ufVxuICAgICAgICAgIHtoZWFkZXJ9XG4gICAgICAgICAge2V4dHJhICYmICg8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1leHRyYWB9PntleHRyYX08L2Rpdj4pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEFuaW1hdGVcbiAgICAgICAgICBoaWRkZW5Qcm9wPVwiaXNJbmFjdGl2ZVwiXG4gICAgICAgICAgZXhjbHVzaXZlXG4gICAgICAgICAgY29tcG9uZW50PVwiXCJcbiAgICAgICAgICBhbmltYXRpb249e3RoaXMucHJvcHMub3BlbkFuaW1hdGlvbn1cbiAgICAgICAgPlxuICAgICAgICAgIDxQYW5lbENvbnRlbnRcbiAgICAgICAgICAgIHByZWZpeENscz17cHJlZml4Q2xzfVxuICAgICAgICAgICAgaXNJbmFjdGl2ZT17IWlzQWN0aXZlfVxuICAgICAgICAgICAgZGVzdHJveUluYWN0aXZlUGFuZWw9e2Rlc3Ryb3lJbmFjdGl2ZVBhbmVsfVxuICAgICAgICAgICAgZm9yY2VSZW5kZXI9e2ZvcmNlUmVuZGVyfVxuICAgICAgICAgICAgcm9sZT17YWNjb3JkaW9uID8gJ3RhYnBhbmVsJyA6IG51bGx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDwvUGFuZWxDb250ZW50PlxuICAgICAgICA8L0FuaW1hdGU+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iXX0=