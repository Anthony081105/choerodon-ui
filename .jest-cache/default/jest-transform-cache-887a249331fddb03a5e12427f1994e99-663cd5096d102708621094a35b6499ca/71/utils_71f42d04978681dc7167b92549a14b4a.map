{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/data-set/utils.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAKA;;AACA;;AACA;;AAEA;;AAEA;;AACA;;AACA;;AAEM,SAAU,SAAV,CAAoB,UAApB,EAA0C;AAC9C,SAAO,CAAA;AAAA;AAAA,IAAA;AAAA;AAAA,IAA+C,QAA/C,CAAwD,UAAxD,CAAP;AACD;;AAEK,SAAU,MAAV,CAAiB,UAAjB,EAAuC;AAC3C,SAAO,CAAA;AAAA;AAAA,IAAA;AAAA;AAAA,IAAyC,QAAzC,CAAkD,UAAlD,CAAP;AACD;;AAEK,SAAU,WAAV,CAAsB,UAAtB,EAA4C;AAChD,SAAO,CAAA;AAAA;AAAA,IAAA;AAAA;AAAA,IAAmD,QAAnD,CAA4D,UAA5D,CAAP;AACD;;AAEK,SAAU,UAAV,CAAqB,UAArB,EAA2C;AAC/C,SAAO,CAAA;AAAA;AAAA,IAAA;AAAA;AAAA,IAAA;AAAA;AAAA,IAAA;AAAA;AAAA,IAA2E,QAA3E,CACL,UADK,CAAP;AAGD;;AAEK,SAAU,QAAV,CAAmB,UAAnB,EAAyC;AAC7C,SAAO,CAAA;AAAA;AAAA,IAAA;AAAA;AAAA,IAA6C,QAA7C,CAAsD,UAAtD,CAAP;AACD;;AAEK,SAAU,MAAV,CAAiB,GAAjB,EAA8B,MAA9B,EAA6C;AACjD,MAAI,MAAJ,EAAY;AACV,WAAO,GAAG,GAAG,2BAAY,SAAZ,CAAsB,MAAtB,EAA8B,GAAG,CAAC,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAApD,CAAb;AACD;;AACD,SAAO,GAAP;AACD;;AAEK,SAAU,cAAV,CAAyB,MAAzB,EAAuC;AAC3C,SAAO,oCAAI,MAAM,CAAC,MAAP,EAAJ,EAAqB,MAArB,CAA4B;AAAA,QAAG,KAAH,QAAG,KAAH;AAAA,WAAe,KAAf;AAAA,GAA5B,CAAP;AACD;;AAEK,SAAU,aAAV,CAAwB,KAAxB,EAA6B;AACjC,MAAI,oBAAO,KAAP,CAAJ,EAAmB;AACjB,IAAA,KAAK,GAAG,wBAAO,KAAP,CAAR;AACD;;AACD,MAAI,sBAAS,KAAT,CAAJ,EAAqB;AAAA,qBACE,0BAAU,WAAV,CADF;AAAA,QACX,QADW,cACX,QADW;;AAEnB,IAAA,KAAK,GAAG,QAAQ,GAAG,KAAK,CAAC,MAAN,CAAa,QAAb,CAAH,GAA4B,CAAC,KAA7C;AACD;;AACD,SAAO,KAAP;AACD;;AAED,SAAS,UAAT,CAAoB,KAApB,EAAgC,KAAhC,EAAwE;AAAA,MAA1B,UAA0B,uEAAJ,IAAI;;AACtE,MAAI,CAAC,yBAAQ,KAAR,CAAL,EAAqB;AACnB,QAAM,KAAK,GAAG,KAAK,CAAC,GAAN,CAAU,OAAV,CAAd;;AACA,QAAI,KAAK,IAAI,UAAb,EAAyB;AACvB,UAAI,uBAAY,KAAZ,CAAJ,EAAwB;AACtB,YAAI,0BAAS,KAAT,CAAJ,EAAqB;AAAA,uDACE,KADF;AAAA,cACZ,KADY;AAAA,cACL,GADK;;AAEnB,UAAA,KAAK,CAAC,KAAD,CAAL,GAAe,UAAU,CAAC,KAAK,CAAC,KAAD,CAAN,EAAe,KAAf,EAAsB,KAAtB,CAAzB;AACA,UAAA,KAAK,CAAC,GAAD,CAAL,GAAa,UAAU,CAAC,KAAK,CAAC,GAAD,CAAN,EAAa,KAAb,EAAoB,KAApB,CAAvB;AACD;AACF,OAND,MAMO,IAAI,uBAAY,KAAZ,CAAJ,EAAwB;AAC7B,QAAA,KAAK,CAAC,CAAD,CAAL,GAAW,UAAU,CAAC,KAAK,CAAC,CAAD,CAAN,EAAW,KAAX,EAAkB,KAAlB,CAArB;AACA,QAAA,KAAK,CAAC,CAAD,CAAL,GAAW,UAAU,CAAC,KAAK,CAAC,CAAD,CAAN,EAAW,KAAX,EAAkB,KAAlB,CAArB;AACD;AACF,KAXD,MAWO,IAAI,KAAK,YAAY,IAArB,EAA2B;AAChC,MAAA,KAAK,GAAG,wBAAO,KAAP,CAAR;AACD,KAFM,MAEA,IAAI,CAAC,0BAAS,KAAT,CAAL,EAAsB;AAC3B,MAAA,KAAK,GAAG,8BAAa,KAAb,EAAoB;AAC1B,QAAA,IAAI,EAAE,KAAK,CAAC,GAAN,CAAU,MAAV,CADoB;AAE1B,QAAA,MAAM,EAAE,KAAK,CAAC,GAAN,CAAU,QAAV;AAFkB,OAApB,CAAR;;AAIA,cAAQ,KAAK,CAAC,IAAd;AACE,aAAA;AAAA;AAAA;AAAwB;AACtB,gBAAM,SAAS,GAAG,KAAK,CAAC,GAAN,CAAS;AAAA;AAAT,aAAlB;AACA,gBAAM,UAAU,GAAG,KAAK,CAAC,GAAN,CAAS;AAAA;AAAT,aAAnB;;AACA,gBAAI,KAAK,KAAK,SAAd,EAAyB;AACvB,cAAA,KAAK,GAAG,UAAR;AACD;;AACD;AACD;;AACD,aAAA;AAAA;AAAA;AACA,aAAA;AAAA;AAAA;AACE,cAAI,CAAC,KAAK,CAAC,KAAD,CAAV,EAAmB;AACjB,YAAA,KAAK,GAAG,MAAM,CAAC,KAAD,CAAd;AACD,WAFD,MAEO;AACL,YAAA,KAAK,GAAG,SAAR;AACD;;AACD;;AACF,aAAA;AAAA;AAAA;AACA,aAAA;AAAA;AAAA;AACA,aAAA;AAAA;AAAA;AACA,aAAA;AAAA;AAAA;AACE,UAAA,KAAK,GAAG,MAAM,CAAC,KAAD,CAAd;AACA;;AACF,aAAA;AAAA;AAAA;AACA,aAAA;AAAA;AAAA;AACA,aAAA;AAAA;AAAA;AACA,aAAA;AAAA;AAAA;AACA,aAAA;AAAA;AAAA;AACA,aAAA;AAAA;AAAA;AAAqB;AAAA,8BACE,0BAAU,WAAV,CADF;AAAA,gBACX,QADW,eACX,QADW;;AAEnB,YAAA,KAAK,GAAG,QAAQ,GAAG,wBAAO,KAAP,EAAc,QAAd,CAAH,GAA6B,wBAAO,KAAP,CAA7C;AACA;AACD;;AACD;AAjCF;AAmCD;AACF;;AACD,SAAO,KAAP;AACD;;AAEK,SAAU,YAAV,CAAuB,KAAvB,EAAmC,KAAnC,EAAgD;AACpD,MAAI,KAAJ,EAAW;AACT,QAAM,QAAQ,GAAG,KAAK,CAAC,GAAN,CAAU,UAAV,CAAjB;AACA,QAAM,KAAK,GAAG,KAAK,CAAC,GAAN,CAAU,OAAV,CAAd;;AACA,QAAI,QAAJ,EAAc;AACZ,UAAI,yBAAQ,KAAR,CAAJ,EAAoB;AAClB,QAAA,KAAK,GAAG,EAAR;AACD,OAFD,MAEO,IAAI,CAAC,yBAAQ,KAAR,CAAL,EAAqB;AAC1B,YAAI,0BAAS,QAAT,KAAsB,0BAAS,KAAT,CAA1B,EAA2C;AACzC,UAAA,KAAK,GAAG,KAAK,CAAC,KAAN,CAAY,QAAZ,CAAR;AACD,SAFD,MAEO;AACL,UAAA,KAAK,GAAG,CAAC,KAAD,CAAR;AACD;AACF;AACF;;AACD,QAAI,yBAAQ,KAAR,MAAmB,QAAQ,IAAI,CAAC,KAAhC,CAAJ,EAA4C;AAC1C,aAAO,KAAK,CAAC,GAAN,CAAU,UAAA,IAAI;AAAA,eAAI,UAAU,CAAC,IAAD,EAAO,KAAP,CAAd;AAAA,OAAd,CAAP;AACD;;AACD,WAAO,UAAU,CAAC,KAAD,EAAQ,KAAR,CAAjB;AACD;;AACD,SAAO,KAAP;AACD;;AAEK,SAAU,qBAAV,CAAgC,IAAhC,EAA0C,QAA1C,EAA8E;AAClF,SAAO,MAAM,CAAC,IAAP,CAAY,QAAZ,EAAsB,MAAtB,CAA6B,UAAC,IAAD,EAAO,IAAP,EAAe;AACjD,QAAM,KAAK,GAAG,QAAQ,CAAC,IAAD,CAAtB;;AACA,QAAI,KAAJ,EAAW;AACT,MAAA,IAAI,CAAC,IAAD,CAAJ,GAAa,CAAC,qBAAqB,CAAC,EAAD,EAAK,KAAK,CAAC,QAAX,CAAtB,CAAb;AACD;;AACD,WAAO,IAAP;AACD,GANM,EAMJ,IANI,CAAP;AAOD;;AAEK,SAAU,QAAV,CAAmB,QAAnB,EAAuC,UAAvC,EAAwD;AAC5D,MAAI,UAAU,IAAI,QAAQ,CAAC,MAAT,GAAkB,CAApC,EAAuC;AAAA,QAC7B,IAD6B,GACb,UADa,CAC7B,IAD6B;AAAA,QACvB,KADuB,GACb,UADa,CACvB,KADuB;AAErC,QAAM,CAAC,GAAG,MAAM,CAAC,gBAAjB;AACA,IAAA,QAAQ,CAAC,IAAT,CAAc,UAAC,OAAD,EAAU,OAAV,EAAqB;AACjC,UAAM,CAAC,GAAG,OAAO,CAAC,GAAR,CAAY,IAAZ,KAAqB,CAA/B;AACA,UAAM,CAAC,GAAG,OAAO,CAAC,GAAR,CAAY,IAAZ,KAAqB,CAA/B;;AACA,UAAI,0BAAS,CAAT,KAAe,0BAAS,CAAT,CAAnB,EAAgC;AAC9B,eAAO,KAAK,KAAA;AAAA;AAAL,UACH,MAAM,CAAC,CAAD,CAAN,CAAU,aAAV,CAAwB,MAAM,CAAC,CAAD,CAA9B,CADG,GAEH,MAAM,CAAC,CAAD,CAAN,CAAU,aAAV,CAAwB,MAAM,CAAC,CAAD,CAA9B,CAFJ;AAGD;;AACD,aAAO,KAAK,KAAA;AAAA;AAAL,QAA0B,CAAC,GAAG,CAA9B,GAAkC,CAAC,GAAG,CAA7C;AACD,KATD;AAUD;;AACD,SAAO,QAAP;AACD;;AAEK,SAAU,mBAAV,QAAiD;AAAA,MAAjB,MAAiB,SAAjB,MAAiB;;AACrD,MAAI,MAAM,IAAI,CAAC,MAAM,CAAC,OAAtB,EAA+B;AAC7B,UAAM,IAAI,KAAJ,CAAU,uBAAG,SAAH,EAAc,wCAAd,CAAV,CAAN;AACD;AACF;;AAED,SAAS,YAAT,CAAsB,KAAtB,EAAgC;AAC9B,SAAO,2BAAU,KAAV,IACJ;AAAA;AADI,IAEH,0BAAS,KAAT,IACD;AAAA;AADC,IAEA,0BAAS,KAAT,IACD;AAAA;AADC,IAEA,sBAAS,KAAT,IACD;AAAA;AADC,IAEA,0BAAS,KAAT,IACD;AAAA;AADC,IAED;AAAA;AAVH;AAWD;;AAED,SAAS,WAAT,CAAqB,IAArB,EAAoC;AAClC,UAAQ,IAAR;AACE,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACE,aAAA;AAAA;AAAA;;AACF,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACE,aAAA;AAAA;AAAA;;AACF,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACE,aAAA;AAAA;AAAA;;AACF;AACE,aAAO,IAAP;AAfJ;AAiBD;;AAEK,SAAU,cAAV,CAAyB,KAAzB,EAAqC,KAArC,EAAiD;AACrD,MAAI,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAI,CAAC,yBAAQ,KAAR,CAAL,EAAqB;AACnB,UAAI,uBAAY,KAAZ,CAAJ,EAAwB;AACtB,eAAO,KAAK,CAAC,KAAN,CAAY,UAAA,IAAI;AAAA,iBAAI,cAAc,CAAC,IAAD,EAAO,KAAP,CAAlB;AAAA,SAAhB,CAAP;AACD;;AACD,UAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC,IAAP,CAA7B;AACA,UAAM,SAAS,GACb,KAAK,CAAC,IAAN,KAAU;AAAA;AAAV,SACA,CAAC,KAAK,CAAC,GAAN,CAAS;AAAA;AAAT,OAAD,EAAoC,KAAK,CAAC,GAAN,CAAS;AAAA;AAAT,OAApC,EAAwE,QAAxE,CAAiF,KAAjF,CADA,GAEG;AAAA;AAFH,QAGI,YAAY,CAAC,KAAD,CAJlB;;AAKA,UACE,SAAS,KAAA;AAAA;AAAT,SACA,SAAS,KAAA;AAAA;AADT,SAEA,SAAS,KAAK,SAHhB,EAIE;AACA,iCACE,KADF,wCAEiC,KAFjC,yBAEqD,SAFrD,6BAEiF,KAAK,CAAC,IAFvF,yBAE0G,SAF1G;AAIA,eAAO,KAAP;AACD;AACF;AACF;;AACD,SAAO,IAAP;AACD;;AAED,IAAI,MAAJ;;AAEM,SAAU,QAAV,CAAmB,GAAnB,EAAwB,IAAxB,EAA6C;AAAA,MAAf,MAAe,uEAAN,MAAM;;AACjD,MAAI,CAAC,MAAL,EAAa;AACX,IAAA,MAAM,GAAG,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAT;AACA,IAAA,MAAM,CAAC,EAAP,GAAY,gBAAZ;AACA,IAAA,MAAM,CAAC,IAAP,GAAc,gBAAd;AACA,IAAA,MAAM,CAAC,KAAP,CAAa,OAAb,GACE,gFADF;AAEA,IAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,MAA1B;AACD;;AAED,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,MAAvB,CAAb;AACA,EAAA,IAAI,CAAC,MAAL,GAAc,gBAAd;AACA,EAAA,IAAI,CAAC,MAAL,GAAc,MAAd;AACA,EAAA,IAAI,CAAC,MAAL,GAAc,GAAd;AACA,MAAM,CAAC,GAAG,QAAQ,CAAC,aAAT,CAAuB,OAAvB,CAAV;AACA,EAAA,CAAC,CAAC,EAAF,GAAO,eAAP;AACA,EAAA,CAAC,CAAC,IAAF,GAAS,QAAT;AACA,EAAA,CAAC,CAAC,IAAF,GAAS,eAAT;AACA,EAAA,CAAC,CAAC,KAAF,GAAU,IAAI,CAAC,SAAL,CAAe,IAAf,CAAV;AACA,EAAA,IAAI,CAAC,WAAL,CAAiB,CAAjB;AACA,EAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,IAA1B;AACA,EAAA,IAAI,CAAC,MAAL;AACA,EAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,IAA1B;AACD;;AAEK,SAAU,cAAV,CAAyB,OAAzB,EAAyC,MAAzC,EAAyD,WAAzD,EAA8E;AAAA,MAC1E,IAD0E,GACjE,OADiE,CAC1E,IAD0E;AAElF,SAAO,oCAAI,MAAM,CAAC,MAAP,EAAJ,EAAqB,MAArB,CAA4B,UAAA,KAAK,EAAG;AACzC,QAAI,KAAK,KAAK,OAAd,EAAuB;AACrB,UAAM,IAAI,GAAG,KAAK,CAAC,GAAN,CAAU,MAAV,CAAb;AACA,aAAO,0BAAS,IAAT,KAAkB,IAAI,CAAC,UAAL,WAAmB,IAAnB,OAAzB;AACD;;AACD,WAAO,CAAC,WAAR;AACD,GANM,CAAP;AAOD;;AAEK,SAAU,aAAV,CACJ,OADI,EAEJ,MAFI,EAGJ,QAHI,EAGgC;AAEpC,MAAM,IAAI,GAAG,0BAAS,OAAT,IAAoB,OAApB,GAA8B,OAAO,CAAC,IAAnD;AACA,SAAO,oCAAI,MAAM,CAAC,MAAP,EAAJ,EAAqB,IAArB,CAA0B,UAAA,KAAK,EAAG;AACvC,QAAI,KAAK,CAAC,IAAN,KAAe,IAAnB,EAAyB;AACvB,UAAM,IAAI,GAAG,KAAK,CAAC,GAAN,CAAU,MAAV,CAAb;AACA,aAAO,0BAAS,IAAT,KAAkB,IAAI,CAAC,UAAL,WAAmB,IAAnB,OAAlB,KAAkD,CAAC,QAAD,IAAa,QAAQ,CAAC,KAAD,CAAvE,CAAP;AACD;;AACD,WAAO,KAAP;AACD,GANM,CAAP;AAOD;;AAED,SAAS,YAAT,CAAsB,CAAtB,EAAyB,CAAzB,EAA0B;AACxB,SAAO,CAAC,GAAG,CAAX;AACD;;AAED,SAAS,YAAT,CAAsB,CAAtB,EAAyB,CAAzB,EAA0B;AACxB,SAAO,MAAM,CAAC,CAAC,IAAI,EAAN,CAAN,CAAgB,aAAhB,CAA8B,MAAM,CAAC,CAAC,IAAI,EAAN,CAApC,CAAP;AACD;;AAEK,SAAU,cAAV,CAAyB,KAAzB,EAAqC;AAAA,MACjC,IADiC,GACxB,KADwB,CACjC,IADiC;;AAGzC,UAAQ,KAAK,CAAC,IAAd;AACE,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACA,SAAA;AAAA;AAAA;AACE,aAAO,KAAK,CAAC,KAAN,KAAW;AAAA;AAAX,QACH,UAAC,CAAD,EAAI,CAAJ;AAAA,eAAU,YAAY,CAAC,CAAC,CAAC,GAAF,CAAM,IAAN,CAAD,EAAc,CAAC,CAAC,GAAF,CAAM,IAAN,CAAd,CAAtB;AAAA,OADG,GAEH,UAAC,CAAD,EAAI,CAAJ;AAAA,eAAU,YAAY,CAAC,CAAC,CAAC,GAAF,CAAM,IAAN,CAAD,EAAc,CAAC,CAAC,GAAF,CAAM,IAAN,CAAd,CAAtB;AAAA,OAFJ;;AAGF;AACE,aAAO,KAAK,CAAC,KAAN,KAAW;AAAA;AAAX,QACH,UAAC,CAAD,EAAI,CAAJ;AAAA,eAAU,YAAY,CAAC,CAAC,CAAC,GAAF,CAAM,IAAN,CAAD,EAAc,CAAC,CAAC,GAAF,CAAM,IAAN,CAAd,CAAtB;AAAA,OADG,GAEH,UAAC,CAAD,EAAI,CAAJ;AAAA,eAAU,YAAY,CAAC,CAAC,CAAC,GAAF,CAAM,IAAN,CAAD,EAAc,CAAC,CAAC,GAAF,CAAM,IAAN,CAAd,CAAtB;AAAA,OAFJ;AAbJ;AAiBD;;AAEK,SAAU,sBAAV,CAAiC,KAAjC,EAAkD,MAAlD,EAAkE,UAAlE,EAAwF;AAC5F,MAAM,MAAM,GAAG,SAAS,CAAC,UAAD,CAAxB;AACA,MAAM,IAAI,GAAG,MAAM,GACf,MAAM,CAAC,MAAP,KAAa;AAAA;AAAb,KAAyC,MAAM,CAAC,MAAP,EAD1B,GAEf,MAAM,CAAC,UAAP,EAFJ;;AAGA,MAAI,IAAI,KAAK,MAAM,IAAI,MAAM,CAAC,UAAD,CAAhB,IAAgC,CAAC,QAAQ,CAAC,UAAD,CAAzC,IAAyD,IAAI,CAAC,OAAnE,CAAR,EAAqF;AACnF,WAAO,IAAI,CAAC,OAAZ;AACA,IAAA,KAAK,CAAC,IAAN,CAAW,IAAX;AACD;AACF;;AAEK,SAAU,iBAAV,CACJ,OADI,EAEJ,UAFI,EAEkB;AAEtB,MAAM,OAAO,GAAa,EAA1B;AACA,MAAM,OAAO,GAAa,EAA1B;AACA,MAAM,SAAS,GAAa,EAA5B;;AAEA,WAAS,SAAT,CAAmB,MAAnB,EAAyB;AACvB,YAAQ,MAAR;AACE,WAAA;AAAA;AAAA;AACE,eAAO,OAAP;;AACF,WAAA;AAAA;AAAA;AACE,eAAO,SAAP;;AACF;AACE,eAAO,OAAP;AANJ;AAQD;;AAED,EAAA,OAAO,CAAC,OAAR,CAAgB,UAAA,MAAM;AAAA,WAAI,sBAAsB,CAAC,SAAS,CAAC,MAAM,CAAC,MAAR,CAAV,EAA2B,MAA3B,EAAmC,UAAnC,CAA1B;AAAA,GAAtB;AACA,SAAO,CAAC,OAAD,EAAU,OAAV,EAAmB,SAAnB,CAAP;AACD;;AAED,SAAS,yBAAT,CAAmC,MAAnC,EAA6D;AAC3D,SAAO,MAAP;AACD;;AAED,SAAS,cAAT,CACE,MADF,EAEE,OAFF,EAGE,IAHF,EAIE,MAJF,EAKE,OALF,EAKkB;AAEhB,MAAI,0BAAS,MAAT,CAAJ,EAAsB;AACpB,WAAO;AACL,MAAA,GAAG,EAAE;AADA,KAAP;AAGD;;AACD,MAAI,OAAO,MAAP,KAAkB,UAAtB,EAAkC;AAChC,WAAO,MAAM,oCAAM,OAAN;AAAe,MAAA,IAAI,EAAJ,IAAf;AAAqB,MAAA,OAAO,EAAP,OAArB;AAA8B,MAAA,MAAM,EAAN;AAA9B,OAAb;AACD;;AACD,SAAO,MAAP;AACD;;AAEK,SAAU,kBAAV,CACJ,IADI,EAEJ,OAFI,EAGJ,IAHI,EAIJ,MAJI,EAKJ,OALI,EAKY;AAEhB,MAAM,SAAS,GAAuB;AACpC,IAAA,IAAI,EAAJ,IADoC;AAEpC,IAAA,MAAM,EAAN,MAFoC;AAGpC,IAAA,MAAM,EAAE;AAH4B,GAAtC;;AAFgB,cAQd,0BAAU,WAAV,KAA0B,EARZ;AAAA,MAOA,YAPA,SAOP,IAPO;AAAA,4BAOc,OAPd;AAAA,MAOuB,aAPvB,8BAOuC,yBAPvC;;AAAA,2BASoB,OAAO,CAAC,SAT5B;AAAA,MASA,MATA,sBASP,IATO;AAAA,MASQ,OATR,sBASQ,OATR;;AAUhB,MAAI,YAAJ,EAAkB;AAChB,8BAAc,SAAd,EAAyB,cAAc,CAAC,YAAD,EAAe,OAAf,EAAwB,IAAxB,EAA8B,MAA9B,EAAsC,OAAtC,CAAvC;AACD;;AACD,MAAI,MAAJ,EAAY;AACV,8BAAc,SAAd,EAAyB,cAAc,CAAC,MAAD,EAAS,OAAT,EAAkB,IAAlB,EAAwB,MAAxB,EAAgC,OAAhC,CAAvC;AACD;;AACD,MAAI,SAAS,CAAC,IAAV,IAAkB,SAAS,CAAC,MAA5B,IAAsC,SAAS,CAAC,MAAV,CAAiB,WAAjB,OAAmC,KAA7E,EAAoF;AAClF,IAAA,SAAS,CAAC,MAAV,sCACK,SAAS,CAAC,MADf,MAEK,SAAS,CAAC,IAFf;AAID;;AACD,SAAO,CAAC,OAAO,IAAI,aAAZ,EAA2B,SAA3B,EAAsC,IAAtC,KAA+C,SAAtD;AACD;;AAEK,SAAU,gBAAV,CACJ,IADI,EAEJ,IAFI,EAGJ,OAHI,EAIJ,OAJI,EAIY;AAEhB,MAAI,IAAI,CAAC,MAAT,EAAiB;AACf,QAAM,SAAS,GAAG,kBAAkB,CAAC,IAAD,EAAO,OAAP,EAAgB,IAAhB,CAApC;;AACA,QAAI,SAAS,CAAC,GAAd,EAAmB;AACjB,MAAA,OAAO,CAAC,IAAR,CAAa,SAAb;AACD,KAFD,MAEO;AACL,aAAO,IAAP;AACD;AACF;;AACD,SAAO,EAAP;AACD;;AAEK,SAAU,oBAAV,CAA+B,IAA/B,EAA0C,OAA1C,EAA0D;AAC9D,MAAI,IAAJ,EAAU;AACR,QAAI,yBAAQ,IAAR,CAAJ,EAAmB;AACjB,aAAO,IAAP;AACD;;AACD,QAAI,0BAAS,IAAT,CAAJ,EAAoB;AAClB,UAAI,OAAJ,EAAa;AACX,YAAM,MAAM,GAAG,gBAAgB,CAAC,GAAjB,CAAqB,IAArB,EAA2B,OAA3B,CAAf;;AACA,YAAI,MAAM,KAAK,SAAf,EAA0B;AACxB,iBAAO,CAAC,IAAD,CAAP;AACD;;AACD,YAAI,yBAAQ,MAAR,CAAJ,EAAqB;AACnB,iBAAO,MAAP;AACD;;AACD,YAAI,0BAAS,MAAT,CAAJ,EAAsB;AACpB,iBAAO,CAAC,MAAD,CAAP;AACD;AACF,OAXD,MAWO;AACL,eAAO,CAAC,IAAD,CAAP;AACD;AACF;AACF;;AACD,SAAO,EAAP;AACD;;AAEK,SAAU,cAAV,CACJ,IADI,EAEJ,EAFI,EAGJ,SAHI,EAGc;AAElB,MAAI,SAAJ,EAAe;AACb,QAAM,KAAK,GAAG,KAAK,QAAL,CAAc,SAAd,CAAd;;AACA,QAAI,KAAJ,EAAW;AACT,UAAM,IAAI,GAAG,KAAK,CAAC,GAAN,CAAU,MAAV,CAAb;;AACA,UAAI,IAAJ,EAAU;AACR,QAAA,SAAS,GAAG,IAAZ;AACD;AACF;;AAPY,QAQL,OARK,GAQO,IARP,CAQL,OARK;;AASb,QAAI,OAAJ,EAAa;AAAA,UACH,UADG,GACY,OAAO,CAAC,KADpB,CACH,UADG;;AAEX,UAAI,UAAU,IAAI,UAAU,KAAK,SAAjC,EAA4C;AAC1C,YAAM,SAAS,GAAG,KAAK,GAAG,KAAK,CAAC,GAAN,CAAS;AAAA;AAAT,SAAH,GAAuC,IAA9D;AACA,YAAM,UAAU,GAAG,KAAK,GAAG,KAAK,CAAC,GAAN,CAAS;AAAA;AAAT,SAAH,GAAwC,KAAhE;AAF0C,YAGlC,QAHkC,GAGrB,IAHqB,CAGlC,QAHkC;;AAI1C,YAAI,QAAJ,EAAc;AACZ,iBAAO,QAAQ,CAAC,KAAT,CAAe,UAAA,KAAK;AAAA,mBAAI,EAAE,CAAC,KAAD,EAAQ,UAAR,CAAF,KAA0B,SAA9B;AAAA,WAApB,IACH,SADG,GAEH,UAFJ;AAGD;AACF;AACF;;AACD,WAAO,gBAAgB,CAAC,GAAjB,CAAqB,IAArB,EAA2B,SAA3B,CAAP;AACD;AACF;;AAED,SAAS,OAAT,CACE,KADF,EAEE,IAFF,EAGE,IAHF,EAIE,MAJF,EAIgB;AAEd,MAAM,GAAG,GAAG,KAAK,CAAC,MAAN,CAAa,GAAb,CAAiB,MAAjB,KAA4B,EAAxC;;AACA,MAAI,IAAI,IAAI,GAAZ,EAAiB;AACf,qBAAU,MAAV,cAAoB,IAApB,cAA4B,IAA5B;AACD;AACF;;AAEK,SAAU,gBAAV,CACJ,IADI,EAEJ,UAFI,EAGJ,QAHI,EAIJ,OAJI,EAIa;AAEjB,MAAM,MAAM,GAAG,0BAAU,QAAV,CAAf;AAFiB,MAGT,QAHS,GAGI,yBAHJ,CAGT,QAHS;AAIjB,MAAM,SAAS,GAAG,MAAM,CAAC,IAAP,CAAY,QAAZ,CAAlB;AAJiB,MAKT,IALS,GAKc,UALd,CAKT,IALS;AAAA,MAKH,YALG,GAKc,UALd,CAKH,YALG;;AAMjB,MAAI,IAAI,KAAA;AAAA;AAAR,IAA6B;AAC3B,MAAA,SAAS,CAAC,OAAV,CAAkB,UAAA,QAAQ;AAAA,eACxB,QAAQ,WAAI,MAAJ,cAAc,IAAd,cAAsB,QAAtB,GAAkC;AACxC,UAAA,IAAI,EAAA;AAAA;AADoC;AAExC,UAAA,KAAK,YAAK,QAAQ,CAAC,QAAD,CAAb;AAFmC,SAAlC,CADgB;AAAA,OAA1B;;AAD2B,kBAOkB,OAAO,IAAI,EAP7B;AAAA,6BAOnB,IAPmB;AAAA,UAOnB,IAPmB,2BAOZ,0BAAc,MAAd,CAAqB,IAPT;;AAQ3B,UAAM,eAAe,GACnB,OAAO,YAAP,KAAwB,UAAxB,GACI,UAAA,KAAK,EAAG;AACN,kDACK,YAAY,CAAC,KAAD,CADjB;AAEE,UAAA,IAAI,EAAE,OAAO,CAAC,KAAD,EAAQ,IAAR,EAAc,IAAd,EAAoB,MAApB;AAFf;AAID,OANL,sCAQS,YART;AASM,QAAA,IAAI,EAAE,cAAA,KAAK,EAAG;AACZ,iBAAO,OAAO,CAAC,KAAD,EAAQ,IAAR,EAAc,IAAd,EAAoB,MAApB,CAAd;AACD;AAXP,QADF;AAcA,aAAO,QAAQ,CAAC,IAAD,qCACV,UADU;AAEb,QAAA,YAAY,EAAE;AAFD,SAAf;AAID;;AACD,SAAO,QAAQ,CAAC,IAAD,EAAO,UAAP,CAAf;AACD;;AAEK,SAAU,eAAV,CAA0B,OAA1B,EAA0C,MAA1C,EAA0D,IAA1D,EAAsE;AAC1E,MAAM,KAAK,GAAG,OAAO,CAAC,GAAR,CAAY,IAAZ,CAAd;AACA,MAAM,MAAM,GAAG,OAAO,CAAC,IAAvB;AACA,SAAO,oCAAI,MAAM,CAAC,MAAP,EAAJ,EAAqB,IAArB,CAA0B,UAAA,KAAK,EAAG;AACvC,QAAM,IAAI,GAAG,KAAK,CAAC,GAAN,CAAU,MAAV,CAAb;AACA,WAAO,IAAI,IAAI,IAAI,eAAQ,MAAR,cAAkB,KAAlB,CAAnB;AACD,GAHM,CAAP;AAID;;AAEK,SAAU,iBAAV,CAA4B,KAA5B,EAAmC,KAAnC,EAAiD,IAAjD,EAA6D,mBAA7D,EAA0F;AAAA,MACtF,IADsF,GAC7E,KAD6E,CACtF,IADsF;;AAE9F,MAAI,IAAI,KAAA;AAAA;AAAR,IAA+B;AAC7B,UAAM,SAAS,GAAG,yBAAa,KAAK,IAAI,CAAtB,CAAlB;AACA,UAAM,OAAO,GAAG;AACd,QAAA,qBAAqB,EAAE,SADT;AAEd,QAAA,qBAAqB,EAAE;AAFT,OAAhB;AAIA,aAAO,8BAAa,KAAb,EAAoB,IAApB,EAA0B,OAA1B,CAAP;AACD;;AACD,MAAI,IAAI,KAAA;AAAA;AAAR,IAAiC;AAC/B,aAAO,gCAAe,KAAf,EAAsB,IAAtB,EAA4B;AACjC,QAAA,QAAQ,EAAE,KAAK,CAAC,GAAN,CAAU,UAAV;AADuB,OAA5B,CAAP;AAGD;;AACD,SAAO,KAAK,CAAC,OAAN,CAAc,KAAd,EAAqB,mBAArB,CAAP;AACD;;AAEK,SAAU,QAAV,CAAmB,KAAnB,EAA+B,MAA/B,EAA6C;AACjD,MAAI,0BAAS,KAAT,KAAmB,MAAM,CAAC,QAAP,CAAgB,KAAhB,CAAvB,EAA+C;AAC7C,WAAO,MAAM,CAAC,GAAP,CAAW,KAAX,CAAP;AACD;;AACD,SAAO,KAAP;AACD;;AAEK,SAAU,iBAAV,CACJ,UADI,EAEJ,SAFI,EAEe;AAEnB,MAAI,UAAJ,EAAgB;AACd,QAAI,SAAJ,EAAe;AACb,aAAA;AAAA;AAAA;AACD;;AACD,WAAA;AAAA;AAAA;AACD;;AACD,MAAI,SAAJ,EAAe;AACb,WAAA;AAAA;AAAA;AACD;;AACD,SAAO,SAAP;AACD;;AAEK,SAAU,YAAV,CAAuB,EAAvB,EAAkC;AACtC,MAAI,KAAK,GAAG,EAAE,CAAC,SAAH,CAAa,MAAb,GAAsB,CAAlC;AACA,MAAM,IAAI,GAAa,EAAE,CAAC,IAAH,CAAQ,GAAR,CAAY,UAAA,MAAM,EAAG;AAC1C,QAAM,CAAC,GAAG,MAAM,CAAC,MAAP,EAAV;;AACA,QAAI,CAAC,CAAC,OAAN,EAAe;AACb,MAAA,KAAK,GAAG,IAAR;AACD;;AACD,WAAO,CAAC,CAAC,OAAT;AACA,WAAO,CAAP;AACD,GAPsB,CAAvB;AAQA,SAAO;AACL,IAAA,KAAK,EAAL,KADK;AAEL,IAAA,IAAI,EAAJ;AAFK,GAAP;AAID;;AAEK,SAAU,gBAAV,CACJ,EADI,EAEJ,QAFI,EAEc;AAAA,MAEV,UAFU,GAEK,EAFL,CAEV,UAFU;AAGlB,MAAM,IAAI,GAAa,EAAvB;AACA,GAAC,QAAQ,IAAI,WAAW,CAAC,UAAD,CAAvB,GAAsC,EAAE,CAAC,QAAzC,GAAoD,EAAE,CAAC,OAAxD,EAAiE,OAAjE,CAAyE,UAAA,MAAM;AAAA,WAC7E,sBAAsB,CAAC,IAAD,EAAO,MAAP,EAAe,UAAf,CADuD;AAAA,GAA/E;AAGA,SAAO;AACL,IAAA,KAAK,EAAE,IAAI,CAAC,MAAL,GAAc,CADhB;AAEL,IAAA,IAAI,EAAJ;AAFK,GAAP;AAID;;AAEK,SAAU,aAAV,CAAwB,MAAxB,EAA8B;AAClC,SAAO,MAAM,CAAC,MAAP,KAAa;AAAA;AAAb,KAAuC,MAAM,CAAC,KAArD;AACD","sourcesContent":["import queryString from 'querystringify';\nimport moment, { isDate, isMoment } from 'moment';\nimport { isArrayLike } from 'mobx';\nimport { AxiosRequestConfig } from 'axios';\nimport isBoolean from 'lodash/isBoolean';\nimport isObject from 'lodash/isObject';\nimport isString from 'lodash/isString';\nimport isArray from 'lodash/isArray';\nimport isNumber from 'lodash/isNumber';\nimport warning from 'choerodon-ui/lib/_util/warning';\nimport { getConfig } from 'choerodon-ui/lib/configure';\nimport Field, { DynamicPropsArguments, FieldProps, Fields } from './Field';\nimport { BooleanValue, DataToJSON, FieldType, RecordStatus, SortOrder } from './enum';\nimport DataSet from './DataSet';\nimport Record from './Record';\nimport isEmpty from '../_util/isEmpty';\nimport * as ObjectChainValue from '../_util/ObjectChainValue';\nimport localeContext, { $l } from '../locale-context';\nimport { SubmitTypes, TransportType, TransportTypes } from './Transport';\nimport formatString from '../formatter/formatString';\nimport { Lang } from '../locale-context/enum';\nimport formatNumber from '../formatter/formatNumber';\nimport formatCurrency from '../formatter/formatCurrency';\nimport { getPrecision } from '../number-field/utils';\n\nexport function useNormal(dataToJSON: DataToJSON): boolean {\n  return [DataToJSON.normal, DataToJSON['normal-self']].includes(dataToJSON);\n}\n\nexport function useAll(dataToJSON: DataToJSON): boolean {\n  return [DataToJSON.all, DataToJSON['all-self']].includes(dataToJSON);\n}\n\nexport function useSelected(dataToJSON: DataToJSON): boolean {\n  return [DataToJSON.selected, DataToJSON['selected-self']].includes(dataToJSON);\n}\n\nexport function useCascade(dataToJSON: DataToJSON): boolean {\n  return [DataToJSON.dirty, DataToJSON.selected, DataToJSON.all, DataToJSON.normal].includes(\n    dataToJSON,\n  );\n}\n\nexport function useDirty(dataToJSON: DataToJSON): boolean {\n  return [DataToJSON.dirty, DataToJSON['dirty-self']].includes(dataToJSON);\n}\n\nexport function append(url: string, suffix?: object) {\n  if (suffix) {\n    return url + queryString.stringify(suffix, url.indexOf('?') === -1);\n  }\n  return url;\n}\n\nexport function getOrderFields(fields: Fields): Field[] {\n  return [...fields.values()].filter(({ order }) => order);\n}\n\nexport function processToJSON(value) {\n  if (isDate(value)) {\n    value = moment(value);\n  }\n  if (isMoment(value)) {\n    const { jsonDate } = getConfig('formatter');\n    value = jsonDate ? value.format(jsonDate) : +value;\n  }\n  return value;\n}\n\nfunction processOne(value: any, field: Field, checkRange: boolean = true) {\n  if (!isEmpty(value)) {\n    const range = field.get('range');\n    if (range && checkRange) {\n      if (isArrayLike(range)) {\n        if (isObject(value)) {\n          const [start, end] = range;\n          value[start] = processOne(value[start], field, false);\n          value[end] = processOne(value[end], field, false);\n        }\n      } else if (isArrayLike(value)) {\n        value[0] = processOne(value[0], field, false);\n        value[1] = processOne(value[1], field, false);\n      }\n    } else if (value instanceof Date) {\n      value = moment(value);\n    } else if (!isObject(value)) {\n      value = formatString(value, {\n        trim: field.get('trim'),\n        format: field.get('format'),\n      });\n      switch (field.type) {\n        case FieldType.boolean: {\n          const trueValue = field.get(BooleanValue.trueValue);\n          const falseValue = field.get(BooleanValue.falseValue);\n          if (value !== trueValue) {\n            value = falseValue;\n          }\n          break;\n        }\n        case FieldType.number:\n        case FieldType.currency:\n          if (!isNaN(value)) {\n            value = Number(value);\n          } else {\n            value = undefined;\n          }\n          break;\n        case FieldType.string:\n        case FieldType.intl:\n        case FieldType.email:\n        case FieldType.url:\n          value = String(value);\n          break;\n        case FieldType.date:\n        case FieldType.dateTime:\n        case FieldType.time:\n        case FieldType.week:\n        case FieldType.month:\n        case FieldType.year: {\n          const { jsonDate } = getConfig('formatter');\n          value = jsonDate ? moment(value, jsonDate) : moment(value);\n          break;\n        }\n        default:\n      }\n    }\n  }\n  return value;\n}\n\nexport function processValue(value: any, field?: Field): any {\n  if (field) {\n    const multiple = field.get('multiple');\n    const range = field.get('range');\n    if (multiple) {\n      if (isEmpty(value)) {\n        value = [];\n      } else if (!isArray(value)) {\n        if (isString(multiple) && isString(value)) {\n          value = value.split(multiple);\n        } else {\n          value = [value];\n        }\n      }\n    }\n    if (isArray(value) && (multiple || !range)) {\n      return value.map(item => processOne(item, field));\n    }\n    return processOne(value, field);\n  }\n  return value;\n}\n\nexport function childrenInfoForDelete(json: {}, children: { [key: string]: DataSet }): {} {\n  return Object.keys(children).reduce((data, name) => {\n    const child = children[name];\n    if (child) {\n      data[name] = [childrenInfoForDelete({}, child.children)];\n    }\n    return data;\n  }, json);\n}\n\nexport function sortTree(children: Record[], orderField: Field): Record[] {\n  if (orderField && children.length > 0) {\n    const { name, order } = orderField;\n    const m = Number.MIN_SAFE_INTEGER;\n    children.sort((record1, record2) => {\n      const a = record1.get(name) || m;\n      const b = record2.get(name) || m;\n      if (isString(a) || isString(b)) {\n        return order === SortOrder.asc\n          ? String(a).localeCompare(String(b))\n          : String(b).localeCompare(String(a));\n      }\n      return order === SortOrder.asc ? a - b : b - a;\n    });\n  }\n  return children;\n}\n\nexport function checkParentByInsert({ parent }: DataSet) {\n  if (parent && !parent.current) {\n    throw new Error($l('DataSet', 'cannot_add_record_when_head_no_current'));\n  }\n}\n\nfunction getValueType(value: any): FieldType {\n  return isBoolean(value)\n    ? FieldType.boolean\n    : isNumber(value)\n    ? FieldType.number\n    : isString(value)\n    ? FieldType.string\n    : isMoment(value)\n    ? FieldType.date\n    : isObject(value)\n    ? FieldType.object\n    : FieldType.auto;\n}\n\nfunction getBaseType(type: FieldType): FieldType {\n  switch (type) {\n    case FieldType.number:\n    case FieldType.currency:\n      return FieldType.number;\n    case FieldType.dateTime:\n    case FieldType.time:\n    case FieldType.week:\n    case FieldType.month:\n    case FieldType.year:\n      return FieldType.date;\n    case FieldType.intl:\n    case FieldType.url:\n    case FieldType.email:\n      return FieldType.string;\n    default:\n      return type;\n  }\n}\n\nexport function checkFieldType(value: any, field: Field): boolean {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isEmpty(value)) {\n      if (isArrayLike(value)) {\n        return value.every(item => checkFieldType(item, field));\n      }\n      const fieldType = getBaseType(field.type);\n      const valueType =\n        field.type === FieldType.boolean &&\n        [field.get(BooleanValue.trueValue), field.get(BooleanValue.falseValue)].includes(value)\n          ? FieldType.boolean\n          : getValueType(value);\n      if (\n        fieldType !== FieldType.auto &&\n        fieldType !== FieldType.reactNode &&\n        fieldType !== valueType\n      ) {\n        warning(\n          false,\n          `Value type error: The value<${value}>'s type is ${valueType}, but the field<${field.name}>'s type is ${fieldType}.`,\n        );\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nlet iframe;\n\nexport function doExport(url, data, method = 'post') {\n  if (!iframe) {\n    iframe = document.createElement('iframe');\n    iframe.id = '_export_window';\n    iframe.name = '_export_window';\n    iframe.style.cssText =\n      'position:absolute;left:-10000px;top:-10000px;width:1px;height:1px;display:none';\n    document.body.appendChild(iframe);\n  }\n\n  const form = document.createElement('form');\n  form.target = '_export_window';\n  form.method = method;\n  form.action = url;\n  const s = document.createElement('input');\n  s.id = '_request_data';\n  s.type = 'hidden';\n  s.name = '_request_data';\n  s.value = JSON.stringify(data);\n  form.appendChild(s);\n  document.body.appendChild(form);\n  form.submit();\n  document.body.removeChild(form);\n}\n\nexport function findBindFields(myField: Field, fields: Fields, excludeSelf?: boolean): Field[] {\n  const { name } = myField;\n  return [...fields.values()].filter(field => {\n    if (field !== myField) {\n      const bind = field.get('bind');\n      return isString(bind) && bind.startsWith(`${name}.`);\n    }\n    return !excludeSelf;\n  });\n}\n\nexport function findBindField(\n  myField: Field | string,\n  fields: Fields,\n  callback?: (field: Field) => boolean,\n): Field | undefined {\n  const name = isString(myField) ? myField : myField.name;\n  return [...fields.values()].find(field => {\n    if (field.name !== name) {\n      const bind = field.get('bind');\n      return isString(bind) && bind.startsWith(`${name}.`) && (!callback || callback(field));\n    }\n    return false;\n  });\n}\n\nfunction numberSorter(a, b) {\n  return a - b;\n}\n\nfunction stringSorter(a, b) {\n  return String(a || '').localeCompare(String(b || ''));\n}\n\nexport function getFieldSorter(field: Field) {\n  const { name } = field;\n\n  switch (field.type) {\n    case FieldType.number:\n    case FieldType.currency:\n    case FieldType.date:\n    case FieldType.dateTime:\n    case FieldType.week:\n    case FieldType.month:\n    case FieldType.year:\n    case FieldType.time:\n      return field.order === SortOrder.asc\n        ? (a, b) => numberSorter(a.get(name), b.get(name))\n        : (a, b) => numberSorter(b.get(name), a.get(name));\n    default:\n      return field.order === SortOrder.asc\n        ? (a, b) => stringSorter(a.get(name), b.get(name))\n        : (a, b) => stringSorter(b.get(name), a.get(name));\n  }\n}\n\nexport function generateRecordJSONData(array: object[], record: Record, dataToJSON: DataToJSON) {\n  const normal = useNormal(dataToJSON);\n  const json = normal\n    ? record.status !== RecordStatus.delete && record.toData()\n    : record.toJSONData();\n  if (json && (normal || useAll(dataToJSON) || !useDirty(dataToJSON) || json.__dirty)) {\n    delete json.__dirty;\n    array.push(json);\n  }\n}\n\nexport function prepareSubmitData(\n  records: Record[],\n  dataToJSON: DataToJSON,\n): [object[], object[], object[]] {\n  const created: object[] = [];\n  const updated: object[] = [];\n  const destroyed: object[] = [];\n\n  function storeWith(status) {\n    switch (status) {\n      case RecordStatus.add:\n        return created;\n      case RecordStatus.delete:\n        return destroyed;\n      default:\n        return updated;\n    }\n  }\n\n  records.forEach(record => generateRecordJSONData(storeWith(record.status), record, dataToJSON));\n  return [created, updated, destroyed];\n}\n\nfunction defaultAxiosConfigAdapter(config: AxiosRequestConfig): AxiosRequestConfig {\n  return config;\n}\n\nfunction generateConfig(\n  config: TransportType,\n  dataSet: DataSet,\n  data?: any,\n  params?: any,\n  options?: object,\n): AxiosRequestConfig {\n  if (isString(config)) {\n    return {\n      url: config,\n    };\n  }\n  if (typeof config === 'function') {\n    return config({ ...options, data, dataSet, params });\n  }\n  return config;\n}\n\nexport function axiosConfigAdapter(\n  type: TransportTypes,\n  dataSet: DataSet,\n  data?: any,\n  params?: any,\n  options?: object,\n): AxiosRequestConfig {\n  const newConfig: AxiosRequestConfig = {\n    data,\n    params,\n    method: 'post',\n  };\n  const { [type]: globalConfig, adapter: globalAdapter = defaultAxiosConfigAdapter } =\n    getConfig('transport') || {};\n  const { [type]: config, adapter } = dataSet.transport;\n  if (globalConfig) {\n    Object.assign(newConfig, generateConfig(globalConfig, dataSet, data, params, options));\n  }\n  if (config) {\n    Object.assign(newConfig, generateConfig(config, dataSet, data, params, options));\n  }\n  if (newConfig.data && newConfig.method && newConfig.method.toLowerCase() === 'get') {\n    newConfig.params = {\n      ...newConfig.params,\n      ...newConfig.data,\n    };\n  }\n  return (adapter || globalAdapter)(newConfig, type) || newConfig;\n}\n\nexport function prepareForSubmit(\n  type: SubmitTypes,\n  data: object[],\n  configs: AxiosRequestConfig[],\n  dataSet: DataSet,\n): object[] {\n  if (data.length) {\n    const newConfig = axiosConfigAdapter(type, dataSet, data);\n    if (newConfig.url) {\n      configs.push(newConfig);\n    } else {\n      return data;\n    }\n  }\n  return [];\n}\n\nexport function generateResponseData(item: any, dataKey?: string): object[] {\n  if (item) {\n    if (isArray(item)) {\n      return item;\n    }\n    if (isObject(item)) {\n      if (dataKey) {\n        const result = ObjectChainValue.get(item, dataKey);\n        if (result === undefined) {\n          return [item];\n        }\n        if (isArray(result)) {\n          return result;\n        }\n        if (isObject(result)) {\n          return [result];\n        }\n      } else {\n        return [item];\n      }\n    }\n  }\n  return [];\n}\n\nexport function getRecordValue(\n  data: any,\n  cb: (record: Record, fieldName: string) => boolean,\n  fieldName?: string,\n) {\n  if (fieldName) {\n    const field = this.getField(fieldName);\n    if (field) {\n      const bind = field.get('bind');\n      if (bind) {\n        fieldName = bind;\n      }\n    }\n    const { dataSet } = this;\n    if (dataSet) {\n      const { checkField } = dataSet.props;\n      if (checkField && checkField === fieldName) {\n        const trueValue = field ? field.get(BooleanValue.trueValue) : true;\n        const falseValue = field ? field.get(BooleanValue.falseValue) : false;\n        const { children } = this;\n        if (children) {\n          return children.every(child => cb(child, checkField) === trueValue)\n            ? trueValue\n            : falseValue;\n        }\n      }\n    }\n    return ObjectChainValue.get(data, fieldName as string);\n  }\n}\n\nfunction tlsBind(\n  props: DynamicPropsArguments,\n  name: string,\n  lang: Lang,\n  tlsKey: string,\n): string | undefined {\n  const tls = props.record.get(tlsKey) || {};\n  if (name in tls) {\n    return `${tlsKey}.${name}.${lang}`;\n  }\n}\n\nexport function processIntlField(\n  name: string,\n  fieldProps: FieldProps,\n  callback: (name: string, props: FieldProps) => Field,\n  dataSet?: DataSet,\n): Field {\n  const tlsKey = getConfig('tlsKey');\n  const { supports } = localeContext;\n  const languages = Object.keys(supports);\n  const { type, dynamicProps } = fieldProps;\n  if (type === FieldType.intl) {\n    languages.forEach(language =>\n      callback(`${tlsKey}.${name}.${language}`, {\n        type: FieldType.string,\n        label: `${supports[language]}`,\n      }),\n    );\n    const { lang = localeContext.locale.lang } = dataSet || {};\n    const newDynamicProps =\n      typeof dynamicProps === 'function'\n        ? props => {\n            return {\n              ...dynamicProps(props),\n              bind: tlsBind(props, name, lang, tlsKey),\n            };\n          }\n        : {\n            ...dynamicProps,\n            bind: props => {\n              return tlsBind(props, name, lang, tlsKey);\n            },\n          };\n    return callback(name, {\n      ...fieldProps,\n      dynamicProps: newDynamicProps,\n    });\n  }\n  return callback(name, fieldProps);\n}\n\nexport function findBindFieldBy(myField: Field, fields: Fields, prop: string): Field | undefined {\n  const value = myField.get(prop);\n  const myName = myField.name;\n  return [...fields.values()].find(field => {\n    const bind = field.get('bind');\n    return bind && bind === `${myName}.${value}`;\n  });\n}\n\nexport function processFieldValue(value, field: Field, lang: Lang, showValueIfNotFound?: boolean) {\n  const { type } = field;\n  if (type === FieldType.number) {\n    const precision = getPrecision(value || 0);\n    const options = {\n      minimumFractionDigits: precision,\n      maximumFractionDigits: precision,\n    };\n    return formatNumber(value, lang, options);\n  }\n  if (type === FieldType.currency) {\n    return formatCurrency(value, lang, {\n      currency: field.get('currency'),\n    });\n  }\n  return field.getText(value, showValueIfNotFound);\n}\n\nexport function getLimit(limit: any, record: Record) {\n  if (isString(limit) && record.getField(limit)) {\n    return record.get(limit);\n  }\n  return limit;\n}\n\nexport function adapterDataToJSON(\n  isSelected?: boolean,\n  noCascade?: boolean,\n): DataToJSON | undefined {\n  if (isSelected) {\n    if (noCascade) {\n      return DataToJSON['selected-self'];\n    }\n    return DataToJSON.selected;\n  }\n  if (noCascade) {\n    return DataToJSON['dirty-self'];\n  }\n  return undefined;\n}\n\nexport function generateData(ds: DataSet): { dirty: boolean; data: object[] } {\n  let dirty = ds.destroyed.length > 0;\n  const data: object[] = ds.data.map(record => {\n    const d = record.toData();\n    if (d.__dirty) {\n      dirty = true;\n    }\n    delete d.__dirty;\n    return d;\n  });\n  return {\n    dirty,\n    data,\n  };\n}\n\nexport function generateJSONData(\n  ds: DataSet,\n  isSelect?: boolean,\n): { dirty: boolean; data: object[] } {\n  const { dataToJSON } = ds;\n  const data: object[] = [];\n  (isSelect || useSelected(dataToJSON) ? ds.selected : ds.records).forEach(record =>\n    generateRecordJSONData(data, record, dataToJSON),\n  );\n  return {\n    dirty: data.length > 0,\n    data,\n  };\n}\n\nexport function isDirtyRecord(record) {\n  return record.status !== RecordStatus.sync || record.dirty;\n}\n"]}