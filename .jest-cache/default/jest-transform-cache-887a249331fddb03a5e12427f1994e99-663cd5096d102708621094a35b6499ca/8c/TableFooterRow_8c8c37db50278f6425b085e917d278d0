6fc5499eff5ef73c2b53d77279810457
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _miniStore = require("mini-store");

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var FOOTER_ROW_KEY = "rc_table_footer_key_".concat(Date.now());

function getColumnFooter(col) {
  if (typeof col.footer === 'function') return col.footer;
  return function () {
    return col.footer;
  };
}

var TableFooterRow =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(TableFooterRow, _Component);

  var _super = _createSuper(TableFooterRow);

  function TableFooterRow() {
    var _this;

    (0, _classCallCheck2["default"])(this, TableFooterRow);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleMouseEnter", function () {
      var onHover = _this.props.onHover;

      if (onHover) {
        onHover(true, FOOTER_ROW_KEY);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleMouseLeave", function () {
      var onHover = _this.props.onHover;

      if (onHover) {
        onHover(false, FOOTER_ROW_KEY);
      }
    });
    return _this;
  }

  (0, _createClass2["default"])(TableFooterRow, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          columns = _this$props.columns,
          data = _this$props.data,
          components = _this$props.components,
          prefixCls = _this$props.prefixCls,
          hovered = _this$props.hovered,
          height = _this$props.height;
      var FooterRow = components.footer.row;
      var FooterCell = components.footer.cell;
      var className = "".concat(prefixCls, "-footer-row");

      if (hovered) {
        className += " ".concat(prefixCls, "-row-hover");
      }

      return _react["default"].createElement(FooterRow, {
        onMouseEnter: this.handleMouseEnter,
        onMouseLeave: this.handleMouseLeave,
        className: className,
        style: {
          height: height
        }
      }, columns.map(function (col) {
        return _react["default"].createElement(FooterCell, {
          key: col.key || col.dataIndex
        }, col.footer ? getColumnFooter(col)(data) : null);
      }));
    }
  }]);
  return TableFooterRow;
}(_react.Component);

(0, _defineProperty2["default"])(TableFooterRow, "propTypes", {
  columns: _propTypes["default"].array,
  data: _propTypes["default"].array,
  components: _propTypes["default"].any,
  prefixCls: _propTypes["default"].string,
  onHover: _propTypes["default"].func,
  hovered: _propTypes["default"].bool,
  height: _propTypes["default"].oneOfType([_propTypes["default"].string, _propTypes["default"].number])
});

function getRowHeight(state, props) {
  var fixedColumnsFootRowsHeight = state.fixedColumnsFootRowsHeight;
  var fixed = props.fixed;
  return fixed ? fixedColumnsFootRowsHeight[0] : null;
}

var _default = (0, _miniStore.connect)(function (state, props) {
  return {
    hovered: state.currentHoverKey === FOOTER_ROW_KEY,
    height: getRowHeight(state, props)
  };
})(TableFooterRow);

exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRhYmxlRm9vdGVyUm93LmpzeCJdLCJuYW1lcyI6WyJGT09URVJfUk9XX0tFWSIsIkRhdGUiLCJub3ciLCJnZXRDb2x1bW5Gb290ZXIiLCJjb2wiLCJmb290ZXIiLCJUYWJsZUZvb3RlclJvdyIsIm9uSG92ZXIiLCJwcm9wcyIsImNvbHVtbnMiLCJkYXRhIiwiY29tcG9uZW50cyIsInByZWZpeENscyIsImhvdmVyZWQiLCJoZWlnaHQiLCJGb290ZXJSb3ciLCJyb3ciLCJGb290ZXJDZWxsIiwiY2VsbCIsImNsYXNzTmFtZSIsImhhbmRsZU1vdXNlRW50ZXIiLCJoYW5kbGVNb3VzZUxlYXZlIiwibWFwIiwia2V5IiwiZGF0YUluZGV4IiwiQ29tcG9uZW50IiwiUHJvcFR5cGVzIiwiYXJyYXkiLCJhbnkiLCJzdHJpbmciLCJmdW5jIiwiYm9vbCIsIm9uZU9mVHlwZSIsIm51bWJlciIsImdldFJvd0hlaWdodCIsInN0YXRlIiwiZml4ZWRDb2x1bW5zRm9vdFJvd3NIZWlnaHQiLCJmaXhlZCIsImN1cnJlbnRIb3ZlcktleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBTUEsY0FBYyxpQ0FBMEJDLElBQUksQ0FBQ0MsR0FBTCxFQUExQixDQUFwQjs7QUFFQSxTQUFTQyxlQUFULENBQXlCQyxHQUF6QixFQUE4QjtBQUM1QixNQUFJLE9BQU9BLEdBQUcsQ0FBQ0MsTUFBWCxLQUFzQixVQUExQixFQUFzQyxPQUFPRCxHQUFHLENBQUNDLE1BQVg7QUFDdEMsU0FBTztBQUFBLFdBQU1ELEdBQUcsQ0FBQ0MsTUFBVjtBQUFBLEdBQVA7QUFDRDs7SUFFS0MsYzs7Ozs7Ozs7Ozs7Ozs7Ozs7eUdBY2UsWUFBTTtBQUFBLFVBQ2ZDLE9BRGUsR0FDSCxNQUFLQyxLQURGLENBQ2ZELE9BRGU7O0FBRXZCLFVBQUlBLE9BQUosRUFBYTtBQUNYQSxRQUFBQSxP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b3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdtaW5pLXN0b3JlJztcblxuY29uc3QgRk9PVEVSX1JPV19LRVkgPSBgcmNfdGFibGVfZm9vdGVyX2tleV8ke0RhdGUubm93KCl9YDtcblxuZnVuY3Rpb24gZ2V0Q29sdW1uRm9vdGVyKGNvbCkge1xuICBpZiAodHlwZW9mIGNvbC5mb290ZXIgPT09ICdmdW5jdGlvbicpIHJldHVybiBjb2wuZm9vdGVyO1xuICByZXR1cm4gKCkgPT4gY29sLmZvb3Rlcjtcbn1cblxuY2xhc3MgVGFibGVGb290ZXJSb3cgZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGNvbHVtbnM6IFByb3BUeXBlcy5hcnJheSxcbiAgICBkYXRhOiBQcm9wVHlwZXMuYXJyYXksXG4gICAgY29tcG9uZW50czogUHJvcFR5cGVzLmFueSxcbiAgICBwcmVmaXhDbHM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25Ib3ZlcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgaG92ZXJlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgaGVpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBQcm9wVHlwZXMubnVtYmVyLFxuICAgIF0pLFxuICB9O1xuXG4gIGhhbmRsZU1vdXNlRW50ZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBvbkhvdmVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChvbkhvdmVyKSB7XG4gICAgICBvbkhvdmVyKHRydWUsIEZPT1RFUl9ST1dfS0VZKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlTW91c2VMZWF2ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IG9uSG92ZXIgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKG9uSG92ZXIpIHtcbiAgICAgIG9uSG92ZXIoZmFsc2UsIEZPT1RFUl9ST1dfS0VZKTtcbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY29sdW1ucywgZGF0YSwgY29tcG9uZW50cywgcHJlZml4Q2xzLCBob3ZlcmVkLCBoZWlnaHQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgRm9vdGVyUm93ID0gY29tcG9uZW50cy5mb290ZXIucm93O1xuICAgIGNvbnN0IEZvb3RlckNlbGwgPSBjb21wb25lbnRzLmZvb3Rlci5jZWxsO1xuXG4gICAgbGV0IGNsYXNzTmFtZSA9IGAke3ByZWZpeENsc30tZm9vdGVyLXJvd2A7XG4gICAgaWYgKGhvdmVyZWQpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBgICR7cHJlZml4Q2xzfS1yb3ctaG92ZXJgO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8Rm9vdGVyUm93XG4gICAgICAgIG9uTW91c2VFbnRlcj17dGhpcy5oYW5kbGVNb3VzZUVudGVyfVxuICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMuaGFuZGxlTW91c2VMZWF2ZX1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgIHN0eWxlPXt7IGhlaWdodCB9fVxuICAgICAgPlxuICAgICAgICB7Y29sdW1ucy5tYXAoY29sID0+XG4gICAgICAgICAgPEZvb3RlckNlbGxcbiAgICAgICAgICAgIGtleT17Y29sLmtleSB8fCBjb2wuZGF0YUluZGV4fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtjb2wuZm9vdGVyID8gZ2V0Q29sdW1uRm9vdGVyKGNvbCkoZGF0YSkgOiBudWxsfVxuICAgICAgICAgIDwvRm9vdGVyQ2VsbD4sXG4gICAgICAgICl9XG4gICAgICA8L0Zvb3RlclJvdz5cbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJvd0hlaWdodChzdGF0ZSwgcHJvcHMpIHtcbiAgY29uc3QgeyBmaXhlZENvbHVtbnNGb290Um93c0hlaWdodCB9ID0gc3RhdGU7XG4gIGNvbnN0IHsgZml4ZWQgfSA9IHByb3BzO1xuICByZXR1cm4gZml4ZWQgPyBmaXhlZENvbHVtbnNGb290Um93c0hlaWdodFswXSA6IG51bGw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoKHN0YXRlLCBwcm9wcykgPT4gKHtcbiAgaG92ZXJlZDogc3RhdGUuY3VycmVudEhvdmVyS2V5ID09PSBGT09URVJfUk9XX0tFWSxcbiAgaGVpZ2h0OiBnZXRSb3dIZWlnaHQoc3RhdGUsIHByb3BzKSxcbn0pKShUYWJsZUZvb3RlclJvdyk7XG4iXX0=