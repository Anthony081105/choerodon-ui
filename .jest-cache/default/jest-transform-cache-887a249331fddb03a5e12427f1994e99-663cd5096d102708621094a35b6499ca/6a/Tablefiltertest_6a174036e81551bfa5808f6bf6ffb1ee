a40fbbe68542de293cddeb3f9bddc620
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _ = _interopRequireDefault(require(".."));

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

describe('Table.filter', function () {
  var filterFn = function filterFn(value, record) {
    return record.name.indexOf(value) !== -1;
  };

  var column = {
    title: 'Name',
    dataIndex: 'name',
    filters: [{
      text: 'Boy',
      value: 'boy'
    }, {
      text: 'Girl',
      value: 'girl'
    }, {
      text: 'Title',
      value: 'title',
      children: [{
        text: 'Designer',
        value: 'designer'
      }, {
        text: 'Coder',
        value: 'coder'
      }]
    }],
    onFilter: filterFn
  };
  var data = [{
    key: 0,
    name: 'Jack'
  }, {
    key: 1,
    name: 'Lucy'
  }, {
    key: 2,
    name: 'Tom'
  }, {
    key: 3,
    name: 'Jerry'
  }];

  function createTable(props) {
    return _react["default"].createElement(_["default"], (0, _extends2["default"])({
      columns: [column],
      dataSource: data,
      pagination: false,
      filterBar: false
    }, props));
  }

  function renderedNames(wrapper) {
    return wrapper.find('TableRow').map(function (row) {
      return row.props().record.name;
    });
  }

  it('renders filter correctly', function () {
    var wrapper = (0, _enzyme.render)(createTable());
    expect(wrapper).toMatchSnapshot();
  });
  it('renders menu correctly', function () {
    var wrapper = (0, _enzyme.mount)(createTable());
    var dropdownWrapper = (0, _enzyme.render)(wrapper.find('Trigger').at(0).instance().getComponent());
    expect(dropdownWrapper).toMatchSnapshot();
  });
  it('renders radio filter correctly', function () {
    var wrapper = (0, _enzyme.mount)(createTable({
      columns: [(0, _objectSpread2["default"])({}, column, {
        filterMultiple: false
      })]
    }));
    var dropdownWrapper = (0, _enzyme.render)(wrapper.find('Trigger').at(0).instance().getComponent());
    expect(dropdownWrapper).toMatchSnapshot();
  });
  it('renders custom content correctly', function () {
    var filter = _react["default"].createElement("div", {
      className: "custom-filter-dropdown"
    }, "custom filter");

    var wrapper = (0, _enzyme.mount)(createTable({
      columns: [(0, _objectSpread2["default"])({}, column, {
        filterDropdown: filter
      })]
    }));
    var dropdownWrapper = (0, _enzyme.render)(wrapper.find('Trigger').at(0).instance().getComponent());
    expect(dropdownWrapper).toMatchSnapshot();
  });
  it('can be controlled by filterDropdownVisible', function () {
    var wrapper = (0, _enzyme.mount)(createTable({
      columns: [(0, _objectSpread2["default"])({}, column, {
        filterDropdownVisible: true
      })]
    }));
    var dropdown = wrapper.find('Dropdown').first();
    expect(dropdown.props().visible).toBe(true);
    wrapper.setProps({
      columns: [(0, _objectSpread2["default"])({}, column, {
        filterDropdownVisible: false
      })]
    });
    dropdown = wrapper.find('Dropdown').first();
    expect(dropdown.props().visible).toBe(false);
  });
  it('fires change event when visible change', function () {
    var handleChange = jest.fn();
    var wrapper = (0, _enzyme.mount)(createTable({
      columns: [(0, _objectSpread2["default"])({}, column, {
        onFilterDropdownVisibleChange: handleChange
      })]
    }));
    wrapper.find('.c7n-dropdown-trigger').first().simulate('click');
    expect(handleChange).toHaveBeenCalledWith(true);
  });
  it('can be controlled by filteredValue', function () {
    var wrapper = (0, _enzyme.mount)(createTable({
      columns: [(0, _objectSpread2["default"])({}, column, {
        filteredValue: ['Lucy']
      })]
    }));
    expect(wrapper.find('tbody tr').length).toBe(1);
    wrapper.setProps({
      columns: [(0, _objectSpread2["default"])({}, column, {
        filteredValue: []
      })]
    });
    expect(wrapper.find('tbody tr').length).toBe(4);
  });
  it('can be controlled by filteredValue null', function () {
    var wrapper = (0, _enzyme.mount)(createTable({
      columns: [(0, _objectSpread2["default"])({}, column, {
        filteredValue: ['Lucy']
      })]
    }));
    expect(wrapper.find('tbody tr').length).toBe(1);
    wrapper.setProps({
      columns: [(0, _objectSpread2["default"])({}, column, {
        filteredValue: null
      })]
    });
    expect(wrapper.find('tbody tr').length).toBe(4);
  });
  it('fires change event', function () {
    var handleChange = jest.fn();
    var wrapper = (0, _enzyme.mount)(createTable({
      onChange: handleChange
    }));
    var dropdownWrapper = (0, _enzyme.mount)(wrapper.find('Trigger').at(0).instance().getComponent());
    dropdownWrapper.find('MenuItem').first().simulate('click');
    dropdownWrapper.find('.confirm').simulate('click');
    expect(handleChange).toHaveBeenCalledWith({}, {
      name: ['boy']
    }, {}, []);
  });
  it('three levels menu', function () {
    var filters = [{
      text: 'Upper',
      value: 'Upper'
    }, {
      text: 'Lower',
      value: 'Lower'
    }, {
      text: 'Level2',
      value: 'Level2',
      children: [{
        text: 'Large',
        value: 'Large'
      }, {
        text: 'Small',
        value: 'Small'
      }, {
        text: 'Level3',
        value: 'Level3',
        children: [{
          text: 'Black',
          value: 'Black'
        }, {
          text: 'White',
          value: 'White'
        }, {
          text: 'Jack',
          value: 'Jack'
        }]
      }]
    }];
    var wrapper = (0, _enzyme.mount)(createTable({
      columns: [(0, _objectSpread2["default"])({}, column, {
        filters: filters
      })]
    }));
    jest.useFakeTimers();
    var dropdownWrapper = (0, _enzyme.mount)(wrapper.find('Trigger').at(0).instance().getComponent());
    dropdownWrapper.find('.c7n-dropdown-menu-submenu-title').at(0).simulate('mouseEnter');
    jest.runAllTimers();
    dropdownWrapper.update();
    dropdownWrapper.find('.c7n-dropdown-menu-submenu-title').at(1).simulate('mouseEnter');
    jest.runAllTimers();
    dropdownWrapper.update();
    dropdownWrapper.find('MenuItem').last().simulate('click');
    dropdownWrapper.find('.confirm').simulate('click');
    wrapper.update();
    expect(renderedNames(wrapper)).toEqual(['Jack']);
    jest.useRealTimers();
  });
  it('works with JSX in controlled mode', function () {
    var Column = _["default"].Column;

    var App =
    /*#__PURE__*/
    function (_React$Component) {
      (0, _inherits2["default"])(App, _React$Component);

      var _super = _createSuper(App);

      function App() {
        var _this;

        (0, _classCallCheck2["default"])(this, App);

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _super.call.apply(_super, [this].concat(args));
        (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "state", {
          filters: {}
        });
        (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleChange", function (pagination, filters) {
          _this.setState({
            filters: filters
          });
        });
        return _this;
      }

      (0, _createClass2["default"])(App, [{
        key: "render",
        value: function render() {
          var name = this.state.filters.name;
          return _react["default"].createElement(_["default"], {
            dataSource: data,
            onChange: this.handleChange,
            filterBar: false
          }, _react["default"].createElement(Column, {
            title: "name",
            dataIndex: "name",
            key: "name",
            filters: [{
              text: 'Jack',
              value: 'Jack'
            }, {
              text: 'Lucy',
              value: 'Lucy'
            }],
            filteredValue: name,
            onFilter: filterFn
          }));
        }
      }]);
      return App;
    }(_react["default"].Component);

    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(App, null));
    var dropdownWrapper = (0, _enzyme.mount)(wrapper.find('Trigger').at(0).instance().getComponent());
    dropdownWrapper.find('MenuItem').first().simulate('click');
    dropdownWrapper.find('.confirm').simulate('click');
    wrapper.update();
    expect(renderedNames(wrapper)).toEqual(['Jack']);
    dropdownWrapper.find('.clear').simulate('click');
    wrapper.update();
    expect(renderedNames(wrapper)).toEqual(['Jack', 'Lucy', 'Tom', 'Jerry']);
  });
  it('works with grouping columns in controlled mode', function () {
    var columns = [{
      title: 'group',
      key: 'group',
      children: [{
        title: 'Name',
        dataIndex: 'name',
        key: 'name',
        filters: [{
          text: 'Jack',
          value: 'Jack'
        }, {
          text: 'Lucy',
          value: 'Lucy'
        }],
        onFilter: filterFn,
        filteredValue: ['Jack']
      }, {
        title: 'Age',
        dataIndex: 'age',
        key: 'age'
      }]
    }];
    var testData = [{
      key: 0,
      name: 'Jack',
      age: 11
    }, {
      key: 1,
      name: 'Lucy',
      age: 20
    }, {
      key: 2,
      name: 'Tom',
      age: 21
    }, {
      key: 3,
      name: 'Jerry',
      age: 22
    }];
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      columns: columns,
      dataSource: testData,
      filterBar: false
    }));
    expect(renderedNames(wrapper)).toEqual(['Jack']);
  });
  it('confirm filter when dropdown hidden', function () {
    var handleChange = jest.fn();
    var wrapper = (0, _enzyme.mount)(createTable({
      columns: [(0, _objectSpread2["default"])({}, column, {
        filters: [{
          text: 'Jack',
          value: 'Jack'
        }, {
          text: 'Lucy',
          value: 'Lucy'
        }]
      })],
      onChange: handleChange
    }));
    wrapper.find('.c7n-dropdown-trigger').first().simulate('click');
    wrapper.find('.c7n-dropdown-menu-item').first().simulate('click');
    wrapper.find('.c7n-dropdown-trigger').first().simulate('click');
    expect(handleChange).toHaveBeenCalled();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRhYmxlLmZpbHRlci50ZXN0LmpzIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiZmlsdGVyRm4iLCJ2YWx1ZSIsInJlY29yZCIsIm5hbWUiLCJpbmRleE9mIiwiY29sdW1uIiwidGl0bGUiLCJkYXRhSW5kZXgiLCJmaWx0ZXJzIiwidGV4dCIsImNoaWxkcmVuIiwib25GaWx0ZXIiLCJkYXRhIiwia2V5IiwiY3JlYXRlVGFibGUiLCJwcm9wcyIsInJlbmRlcmVkTmFtZXMiLCJ3cmFwcGVyIiwiZmluZCIsIm1hcCIsInJvdyIsIml0IiwiZXhwZWN0IiwidG9NYXRjaFNuYXBzaG90IiwiZHJvcGRvd25XcmFwcGVyIiwiYXQiLCJpbnN0YW5jZSIsImdldENvbXBvbmVudCIsImNvbHVtbnMiLCJmaWx0ZXJNdWx0aXBsZSIsImZpbHRlciIsImZpbHRlckRyb3Bkb3duIiwiZmlsdGVyRHJvcGRvd25WaXNpYmxlIiwiZHJvcGRvd24iLCJmaXJzdCIsInZpc2libGUiLCJ0b0JlIiwic2V0UHJvcHMiLCJoYW5kbGVDaGFuZ2UiLCJqZXN0IiwiZm4iLCJvbkZpbHRlckRyb3Bkb3duVmlzaWJsZUNoYW5nZSIsInNpbXVsYXRlIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJmaWx0ZXJlZFZhbHVlIiwibGVuZ3RoIiwib25DaGFuZ2UiLCJ1c2VGYWtlVGltZXJzIiwicnVuQWxsVGltZXJzIiwidXBkYXRlIiwibGFzdCIsInRvRXF1YWwiLCJ1c2VSZWFsVGltZXJzIiwiQ29sdW1uIiwiVGFibGUiLCJBcHAiLCJwYWdpbmF0aW9uIiwic2V0U3RhdGUiLCJzdGF0ZSIsIlJlYWN0IiwiQ29tcG9uZW50IiwidGVzdERhdGEiLCJhZ2UiLCJ0b0hhdmVCZWVuQ2FsbGVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQUEsUUFBUSxDQUFDLGNBQUQsRUFBaUIsWUFBTTtBQUM3QixN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UiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtb3VudCwgcmVuZGVyIH0gZnJvbSAnZW56eW1lJztcbmltcG9ydCBUYWJsZSBmcm9tICcuLic7XG5cbmRlc2NyaWJlKCdUYWJsZS5maWx0ZXInLCAoKSA9PiB7XG4gIGNvbnN0IGZpbHRlckZuID0gKHZhbHVlLCByZWNvcmQpID0+IHJlY29yZC5uYW1lLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgY29uc3QgY29sdW1uID0ge1xuICAgIHRpdGxlOiAnTmFtZScsXG4gICAgZGF0YUluZGV4OiAnbmFtZScsXG4gICAgZmlsdGVyczogW1xuICAgICAgeyB0ZXh0OiAnQm95JywgdmFsdWU6ICdib3knIH0sXG4gICAgICB7IHRleHQ6ICdHaXJsJywgdmFsdWU6ICdnaXJsJyB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnVGl0bGUnLFxuICAgICAgICB2YWx1ZTogJ3RpdGxlJyxcbiAgICAgICAgY2hpbGRyZW46IFt7IHRleHQ6ICdEZXNpZ25lcicsIHZhbHVlOiAnZGVzaWduZXInIH0sIHsgdGV4dDogJ0NvZGVyJywgdmFsdWU6ICdjb2RlcicgfV0sXG4gICAgICB9LFxuICAgIF0sXG4gICAgb25GaWx0ZXI6IGZpbHRlckZuLFxuICB9O1xuXG4gIGNvbnN0IGRhdGEgPSBbXG4gICAgeyBrZXk6IDAsIG5hbWU6ICdKYWNrJyB9LFxuICAgIHsga2V5OiAxLCBuYW1lOiAnTHVjeScgfSxcbiAgICB7IGtleTogMiwgbmFtZTogJ1RvbScgfSxcbiAgICB7IGtleTogMywgbmFtZTogJ0plcnJ5JyB9LFxuICBdO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZVRhYmxlKHByb3BzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUYWJsZSBjb2x1bW5zPXtbY29sdW1uXX0gZGF0YVNvdXJjZT17ZGF0YX0gcGFnaW5hdGlvbj17ZmFsc2V9IGZpbHRlckJhcj17ZmFsc2V9IHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyZWROYW1lcyh3cmFwcGVyKSB7XG4gICAgcmV0dXJuIHdyYXBwZXIuZmluZCgnVGFibGVSb3cnKS5tYXAocm93ID0+IHJvdy5wcm9wcygpLnJlY29yZC5uYW1lKTtcbiAgfVxuXG4gIGl0KCdyZW5kZXJzIGZpbHRlciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IHJlbmRlcihjcmVhdGVUYWJsZSgpKTtcblxuICAgIGV4cGVjdCh3cmFwcGVyKS50b01hdGNoU25hcHNob3QoKTtcbiAgfSk7XG5cbiAgaXQoJ3JlbmRlcnMgbWVudSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KGNyZWF0ZVRhYmxlKCkpO1xuICAgIGNvbnN0IGRyb3Bkb3duV3JhcHBlciA9IHJlbmRlcihcbiAgICAgIHdyYXBwZXJcbiAgICAgICAgLmZpbmQoJ1RyaWdnZXInKVxuICAgICAgICAuYXQoMClcbiAgICAgICAgLmluc3RhbmNlKClcbiAgICAgICAgLmdldENvbXBvbmVudCgpLFxuICAgICk7XG4gICAgZXhwZWN0KGRyb3Bkb3duV3JhcHBlcikudG9NYXRjaFNuYXBzaG90KCk7XG4gIH0pO1xuXG4gIGl0KCdyZW5kZXJzIHJhZGlvIGZpbHRlciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAgICAgY3JlYXRlVGFibGUoe1xuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4uY29sdW1uLFxuICAgICAgICAgICAgZmlsdGVyTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KSxcbiAgICApO1xuICAgIGNvbnN0IGRyb3Bkb3duV3JhcHBlciA9IHJlbmRlcihcbiAgICAgIHdyYXBwZXJcbiAgICAgICAgLmZpbmQoJ1RyaWdnZXInKVxuICAgICAgICAuYXQoMClcbiAgICAgICAgLmluc3RhbmNlKClcbiAgICAgICAgLmdldENvbXBvbmVudCgpLFxuICAgICk7XG4gICAgZXhwZWN0KGRyb3Bkb3duV3JhcHBlcikudG9NYXRjaFNuYXBzaG90KCk7XG4gIH0pO1xuXG4gIGl0KCdyZW5kZXJzIGN1c3RvbSBjb250ZW50IGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCBmaWx0ZXIgPSA8ZGl2IGNsYXNzTmFtZT1cImN1c3RvbS1maWx0ZXItZHJvcGRvd25cIj5jdXN0b20gZmlsdGVyPC9kaXY+O1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChcbiAgICAgIGNyZWF0ZVRhYmxlKHtcbiAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLmNvbHVtbixcbiAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duOiBmaWx0ZXIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICBjb25zdCBkcm9wZG93bldyYXBwZXIgPSByZW5kZXIoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCdUcmlnZ2VyJylcbiAgICAgICAgLmF0KDApXG4gICAgICAgIC5pbnN0YW5jZSgpXG4gICAgICAgIC5nZXRDb21wb25lbnQoKSxcbiAgICApO1xuICAgIGV4cGVjdChkcm9wZG93bldyYXBwZXIpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICB9KTtcblxuICBpdCgnY2FuIGJlIGNvbnRyb2xsZWQgYnkgZmlsdGVyRHJvcGRvd25WaXNpYmxlJywgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChcbiAgICAgIGNyZWF0ZVRhYmxlKHtcbiAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLmNvbHVtbixcbiAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIGxldCBkcm9wZG93biA9IHdyYXBwZXIuZmluZCgnRHJvcGRvd24nKS5maXJzdCgpO1xuICAgIGV4cGVjdChkcm9wZG93bi5wcm9wcygpLnZpc2libGUpLnRvQmUodHJ1ZSk7XG5cbiAgICB3cmFwcGVyLnNldFByb3BzKHtcbiAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIC4uLmNvbHVtbixcbiAgICAgICAgICBmaWx0ZXJEcm9wZG93blZpc2libGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KTtcblxuICAgIGRyb3Bkb3duID0gd3JhcHBlci5maW5kKCdEcm9wZG93bicpLmZpcnN0KCk7XG4gICAgZXhwZWN0KGRyb3Bkb3duLnByb3BzKCkudmlzaWJsZSkudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIGl0KCdmaXJlcyBjaGFuZ2UgZXZlbnQgd2hlbiB2aXNpYmxlIGNoYW5nZScsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAgICAgY3JlYXRlVGFibGUoe1xuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4uY29sdW1uLFxuICAgICAgICAgICAgb25GaWx0ZXJEcm9wZG93blZpc2libGVDaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHdyYXBwZXJcbiAgICAgIC5maW5kKCcuYzduLWRyb3Bkb3duLXRyaWdnZXInKVxuICAgICAgLmZpcnN0KClcbiAgICAgIC5zaW11bGF0ZSgnY2xpY2snKTtcblxuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRydWUpO1xuICB9KTtcblxuICBpdCgnY2FuIGJlIGNvbnRyb2xsZWQgYnkgZmlsdGVyZWRWYWx1ZScsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoXG4gICAgICBjcmVhdGVUYWJsZSh7XG4gICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5jb2x1bW4sXG4gICAgICAgICAgICBmaWx0ZXJlZFZhbHVlOiBbJ0x1Y3knXSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJ3Rib2R5IHRyJykubGVuZ3RoKS50b0JlKDEpO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoe1xuICAgICAgY29sdW1uczogW1xuICAgICAgICB7XG4gICAgICAgICAgLi4uY29sdW1uLFxuICAgICAgICAgIGZpbHRlcmVkVmFsdWU6IFtdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCd0Ym9keSB0cicpLmxlbmd0aCkudG9CZSg0KTtcbiAgfSk7XG5cbiAgaXQoJ2NhbiBiZSBjb250cm9sbGVkIGJ5IGZpbHRlcmVkVmFsdWUgbnVsbCcsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoXG4gICAgICBjcmVhdGVUYWJsZSh7XG4gICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5jb2x1bW4sXG4gICAgICAgICAgICBmaWx0ZXJlZFZhbHVlOiBbJ0x1Y3knXSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJ3Rib2R5IHRyJykubGVuZ3RoKS50b0JlKDEpO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoe1xuICAgICAgY29sdW1uczogW1xuICAgICAgICB7XG4gICAgICAgICAgLi4uY29sdW1uLFxuICAgICAgICAgIGZpbHRlcmVkVmFsdWU6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0pO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJ3Rib2R5IHRyJykubGVuZ3RoKS50b0JlKDQpO1xuICB9KTtcblxuICBpdCgnZmlyZXMgY2hhbmdlIGV2ZW50JywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoY3JlYXRlVGFibGUoeyBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlIH0pKTtcbiAgICBjb25zdCBkcm9wZG93bldyYXBwZXIgPSBtb3VudChcbiAgICAgIHdyYXBwZXJcbiAgICAgICAgLmZpbmQoJ1RyaWdnZXInKVxuICAgICAgICAuYXQoMClcbiAgICAgICAgLmluc3RhbmNlKClcbiAgICAgICAgLmdldENvbXBvbmVudCgpLFxuICAgICk7XG5cbiAgICBkcm9wZG93bldyYXBwZXJcbiAgICAgIC5maW5kKCdNZW51SXRlbScpXG4gICAgICAuZmlyc3QoKVxuICAgICAgLnNpbXVsYXRlKCdjbGljaycpO1xuICAgIGRyb3Bkb3duV3JhcHBlci5maW5kKCcuY29uZmlybScpLnNpbXVsYXRlKCdjbGljaycpO1xuXG4gICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe30sIHsgbmFtZTogWydib3knXSB9LCB7fSwgW10pO1xuICB9KTtcblxuICBpdCgndGhyZWUgbGV2ZWxzIG1lbnUnLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsdGVycyA9IFtcbiAgICAgIHsgdGV4dDogJ1VwcGVyJywgdmFsdWU6ICdVcHBlcicgfSxcbiAgICAgIHsgdGV4dDogJ0xvd2VyJywgdmFsdWU6ICdMb3dlcicgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ0xldmVsMicsXG4gICAgICAgIHZhbHVlOiAnTGV2ZWwyJyxcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICB7IHRleHQ6ICdMYXJnZScsIHZhbHVlOiAnTGFyZ2UnIH0sXG4gICAgICAgICAgeyB0ZXh0OiAnU21hbGwnLCB2YWx1ZTogJ1NtYWxsJyB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6ICdMZXZlbDMnLFxuICAgICAgICAgICAgdmFsdWU6ICdMZXZlbDMnLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgeyB0ZXh0OiAnQmxhY2snLCB2YWx1ZTogJ0JsYWNrJyB9LFxuICAgICAgICAgICAgICB7IHRleHQ6ICdXaGl0ZScsIHZhbHVlOiAnV2hpdGUnIH0sXG4gICAgICAgICAgICAgIHsgdGV4dDogJ0phY2snLCB2YWx1ZTogJ0phY2snIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF07XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAgICAgY3JlYXRlVGFibGUoe1xuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4uY29sdW1uLFxuICAgICAgICAgICAgZmlsdGVycyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSksXG4gICAgKTtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgICBjb25zdCBkcm9wZG93bldyYXBwZXIgPSBtb3VudChcbiAgICAgIHdyYXBwZXJcbiAgICAgICAgLmZpbmQoJ1RyaWdnZXInKVxuICAgICAgICAuYXQoMClcbiAgICAgICAgLmluc3RhbmNlKClcbiAgICAgICAgLmdldENvbXBvbmVudCgpLFxuICAgICk7XG4gICAgZHJvcGRvd25XcmFwcGVyXG4gICAgICAuZmluZCgnLmM3bi1kcm9wZG93bi1tZW51LXN1Ym1lbnUtdGl0bGUnKVxuICAgICAgLmF0KDApXG4gICAgICAuc2ltdWxhdGUoJ21vdXNlRW50ZXInKTtcbiAgICBqZXN0LnJ1bkFsbFRpbWVycygpO1xuICAgIGRyb3Bkb3duV3JhcHBlci51cGRhdGUoKTtcbiAgICBkcm9wZG93bldyYXBwZXJcbiAgICAgIC5maW5kKCcuYzduLWRyb3Bkb3duLW1lbnUtc3VibWVudS10aXRsZScpXG4gICAgICAuYXQoMSlcbiAgICAgIC5zaW11bGF0ZSgnbW91c2VFbnRlcicpO1xuICAgIGplc3QucnVuQWxsVGltZXJzKCk7XG4gICAgZHJvcGRvd25XcmFwcGVyLnVwZGF0ZSgpO1xuICAgIGRyb3Bkb3duV3JhcHBlclxuICAgICAgLmZpbmQoJ01lbnVJdGVtJylcbiAgICAgIC5sYXN0KClcbiAgICAgIC5zaW11bGF0ZSgnY2xpY2snKTtcbiAgICBkcm9wZG93bldyYXBwZXIuZmluZCgnLmNvbmZpcm0nKS5zaW11bGF0ZSgnY2xpY2snKTtcbiAgICB3cmFwcGVyLnVwZGF0ZSgpO1xuICAgIGV4cGVjdChyZW5kZXJlZE5hbWVzKHdyYXBwZXIpKS50b0VxdWFsKFsnSmFjayddKTtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ3dvcmtzIHdpdGggSlNYIGluIGNvbnRyb2xsZWQgbW9kZScsICgpID0+IHtcbiAgICBjb25zdCB7IENvbHVtbiB9ID0gVGFibGU7XG5cbiAgICBjbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgICAgc3RhdGUgPSB7XG4gICAgICAgIGZpbHRlcnM6IHt9LFxuICAgICAgfTtcblxuICAgICAgaGFuZGxlQ2hhbmdlID0gKHBhZ2luYXRpb24sIGZpbHRlcnMpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZpbHRlcnMgfSk7XG4gICAgICB9O1xuXG4gICAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBmaWx0ZXJzOiB7IG5hbWUgfSxcbiAgICAgICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFRhYmxlIGRhdGFTb3VyY2U9e2RhdGF9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX0gZmlsdGVyQmFyPXtmYWxzZX0+XG4gICAgICAgICAgICA8Q29sdW1uXG4gICAgICAgICAgICAgIHRpdGxlPVwibmFtZVwiXG4gICAgICAgICAgICAgIGRhdGFJbmRleD1cIm5hbWVcIlxuICAgICAgICAgICAgICBrZXk9XCJuYW1lXCJcbiAgICAgICAgICAgICAgZmlsdGVycz17W3sgdGV4dDogJ0phY2snLCB2YWx1ZTogJ0phY2snIH0sIHsgdGV4dDogJ0x1Y3knLCB2YWx1ZTogJ0x1Y3knIH1dfVxuICAgICAgICAgICAgICBmaWx0ZXJlZFZhbHVlPXtuYW1lfVxuICAgICAgICAgICAgICBvbkZpbHRlcj17ZmlsdGVyRm59XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvVGFibGU+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KDxBcHAgLz4pO1xuICAgIGNvbnN0IGRyb3Bkb3duV3JhcHBlciA9IG1vdW50KFxuICAgICAgd3JhcHBlclxuICAgICAgICAuZmluZCgnVHJpZ2dlcicpXG4gICAgICAgIC5hdCgwKVxuICAgICAgICAuaW5zdGFuY2UoKVxuICAgICAgICAuZ2V0Q29tcG9uZW50KCksXG4gICAgKTtcblxuICAgIGRyb3Bkb3duV3JhcHBlclxuICAgICAgLmZpbmQoJ01lbnVJdGVtJylcbiAgICAgIC5maXJzdCgpXG4gICAgICAuc2ltdWxhdGUoJ2NsaWNrJyk7XG4gICAgZHJvcGRvd25XcmFwcGVyLmZpbmQoJy5jb25maXJtJykuc2ltdWxhdGUoJ2NsaWNrJyk7XG4gICAgd3JhcHBlci51cGRhdGUoKTtcbiAgICBleHBlY3QocmVuZGVyZWROYW1lcyh3cmFwcGVyKSkudG9FcXVhbChbJ0phY2snXSk7XG5cbiAgICBkcm9wZG93bldyYXBwZXIuZmluZCgnLmNsZWFyJykuc2ltdWxhdGUoJ2NsaWNrJyk7XG4gICAgd3JhcHBlci51cGRhdGUoKTtcbiAgICBleHBlY3QocmVuZGVyZWROYW1lcyh3cmFwcGVyKSkudG9FcXVhbChbJ0phY2snLCAnTHVjeScsICdUb20nLCAnSmVycnknXSk7XG4gIH0pO1xuXG4gIGl0KCd3b3JrcyB3aXRoIGdyb3VwaW5nIGNvbHVtbnMgaW4gY29udHJvbGxlZCBtb2RlJywgKCkgPT4ge1xuICAgIGNvbnN0IGNvbHVtbnMgPSBbXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnZ3JvdXAnLFxuICAgICAgICBrZXk6ICdncm91cCcsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGl0bGU6ICdOYW1lJyxcbiAgICAgICAgICAgIGRhdGFJbmRleDogJ25hbWUnLFxuICAgICAgICAgICAga2V5OiAnbmFtZScsXG4gICAgICAgICAgICBmaWx0ZXJzOiBbeyB0ZXh0OiAnSmFjaycsIHZhbHVlOiAnSmFjaycgfSwgeyB0ZXh0OiAnTHVjeScsIHZhbHVlOiAnTHVjeScgfV0sXG4gICAgICAgICAgICBvbkZpbHRlcjogZmlsdGVyRm4sXG4gICAgICAgICAgICBmaWx0ZXJlZFZhbHVlOiBbJ0phY2snXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiAnQWdlJyxcbiAgICAgICAgICAgIGRhdGFJbmRleDogJ2FnZScsXG4gICAgICAgICAgICBrZXk6ICdhZ2UnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF07XG4gICAgY29uc3QgdGVzdERhdGEgPSBbXG4gICAgICB7IGtleTogMCwgbmFtZTogJ0phY2snLCBhZ2U6IDExIH0sXG4gICAgICB7IGtleTogMSwgbmFtZTogJ0x1Y3knLCBhZ2U6IDIwIH0sXG4gICAgICB7IGtleTogMiwgbmFtZTogJ1RvbScsIGFnZTogMjEgfSxcbiAgICAgIHsga2V5OiAzLCBuYW1lOiAnSmVycnknLCBhZ2U6IDIyIH0sXG4gICAgXTtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPFRhYmxlIGNvbHVtbnM9e2NvbHVtbnN9IGRhdGFTb3VyY2U9e3Rlc3REYXRhfSBmaWx0ZXJCYXI9e2ZhbHNlfSAvPik7XG5cbiAgICBleHBlY3QocmVuZGVyZWROYW1lcyh3cmFwcGVyKSkudG9FcXVhbChbJ0phY2snXSk7XG4gIH0pO1xuXG4gIGl0KCdjb25maXJtIGZpbHRlciB3aGVuIGRyb3Bkb3duIGhpZGRlbicsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAgICAgY3JlYXRlVGFibGUoe1xuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4uY29sdW1uLFxuICAgICAgICAgICAgZmlsdGVyczogW3sgdGV4dDogJ0phY2snLCB2YWx1ZTogJ0phY2snIH0sIHsgdGV4dDogJ0x1Y3knLCB2YWx1ZTogJ0x1Y3knIH1dLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgd3JhcHBlclxuICAgICAgLmZpbmQoJy5jN24tZHJvcGRvd24tdHJpZ2dlcicpXG4gICAgICAuZmlyc3QoKVxuICAgICAgLnNpbXVsYXRlKCdjbGljaycpO1xuICAgIHdyYXBwZXJcbiAgICAgIC5maW5kKCcuYzduLWRyb3Bkb3duLW1lbnUtaXRlbScpXG4gICAgICAuZmlyc3QoKVxuICAgICAgLnNpbXVsYXRlKCdjbGljaycpO1xuICAgIHdyYXBwZXJcbiAgICAgIC5maW5kKCcuYzduLWRyb3Bkb3duLXRyaWdnZXInKVxuICAgICAgLmZpcnN0KClcbiAgICAgIC5zaW11bGF0ZSgnY2xpY2snKTtcblxuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG59KTtcbiJdfQ==