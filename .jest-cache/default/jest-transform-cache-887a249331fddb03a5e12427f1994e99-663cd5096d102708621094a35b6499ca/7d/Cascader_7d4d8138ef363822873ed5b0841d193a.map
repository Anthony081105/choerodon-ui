{"version":3,"sources":["Cascader.jsx"],"names":["BUILT_IN_PLACEMENTS","bottomLeft","points","offset","overflow","adjustX","adjustY","topLeft","bottomRight","topRight","Cascader","props","popupVisible","setState","state","visible","activeValue","value","onPopupVisibleChange","options","setProps","e","type","keyCode","KeyCode","ENTER","onChange","map","o","setPopupVisible","targetOption","menuIndex","triggerNode","trigger","getRootDomNode","focus","changeOnSelect","loadData","expandTrigger","disabled","slice","activeOptions","getActiveOptions","isLeaf","children","handleChange","newState","length","onKeyDown","currentLevel","currentOptions","getCurrentLevelOptions","currentIndex","indexOf","DOWN","UP","LEFT","RIGHT","BACKSPACE","ESC","nextIndex","splice","push","handleMenuSelect","node","initialValue","defaultValue","nextProps","newValues","getPopupDomNode","result","level","filter","prefixCls","transitionName","popupClassName","builtinPlacements","popupPlacement","restProps","menus","emptyMenuClassName","saveTrigger","handlePopupVisibleChange","handleKeyDown","tabIndex","undefined","Component","expandIcon","PropTypes","array","isRequired","func","bool","string","dropdownMenuColumnStyle","object"],"mappings":"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","sourcesContent":["import React, { cloneElement, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport arrayTreeFilter from 'array-tree-filter';\nimport isEqual from 'lodash/isEqual';\nimport Trigger from '../trigger';\nimport Icon from '../../icon';\nimport Menus from './Menus';\nimport KeyCode from '../../_util/KeyCode';\n\nconst BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1,\n    },\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1,\n    },\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1,\n    },\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1,\n    },\n  },\n};\n\nexport default class Cascader extends Component {\n  static defaultProps = {\n    options: [],\n    onChange() {},\n    onPopupVisibleChange() {},\n    disabled: false,\n    transitionName: '',\n    prefixCls: 'rc-cascader',\n    popupClassName: '',\n    popupPlacement: 'bottomLeft',\n    builtinPlacements: BUILT_IN_PLACEMENTS,\n    expandTrigger: 'click',\n    expandIcon: <Icon type=\"navigate_next\" />,\n  };\n\n  static propTypes = {\n    value: PropTypes.array,\n    defaultValue: PropTypes.array,\n    options: PropTypes.array.isRequired,\n    onChange: PropTypes.func,\n    onPopupVisibleChange: PropTypes.func,\n    popupVisible: PropTypes.bool,\n    disabled: PropTypes.bool,\n    transitionName: PropTypes.string,\n    popupClassName: PropTypes.string,\n    popupPlacement: PropTypes.string,\n    prefixCls: PropTypes.string,\n    dropdownMenuColumnStyle: PropTypes.object,\n    builtinPlacements: PropTypes.object,\n    loadData: PropTypes.func,\n    changeOnSelect: PropTypes.bool,\n    children: PropTypes.node,\n    onKeyDown: PropTypes.func,\n    expandTrigger: PropTypes.string,\n    expandIcon: PropTypes.node,\n  };\n\n  constructor(props) {\n    super(props);\n    let initialValue = [];\n    if ('value' in props) {\n      initialValue = props.value || [];\n    } else if ('defaultValue' in props) {\n      initialValue = props.defaultValue || [];\n    }\n\n    this.state = {\n      popupVisible: props.popupVisible,\n      activeValue: initialValue,\n      value: initialValue,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if ('value' in nextProps && !isEqual(this.props.value, nextProps.value)) {\n      const newValues = {\n        value: nextProps.value || [],\n        activeValue: nextProps.value || [],\n      };\n      // allow activeValue diff from value\n      if ('loadData' in nextProps) {\n        delete newValues.activeValue;\n      }\n      this.setState(newValues);\n    }\n    if ('popupVisible' in nextProps) {\n      this.setState({\n        popupVisible: nextProps.popupVisible,\n      });\n    }\n  }\n\n  getPopupDOMNode() {\n    return this.trigger.getPopupDomNode();\n  }\n\n  getCurrentLevelOptions() {\n    const { options } = this.props;\n    const { activeValue = [] } = this.state;\n    const result = arrayTreeFilter(options, (o, level) => o.value === activeValue[level]);\n    if (result[result.length - 2]) {\n      return result[result.length - 2].children;\n    }\n    return [...options].filter(o => !o.disabled);\n  }\n\n  getActiveOptions(activeValue) {\n    return arrayTreeFilter(this.props.options, (o, level) => o.value === activeValue[level]);\n  }\n\n  setPopupVisible = popupVisible => {\n    if (!('popupVisible' in this.props)) {\n      this.setState({ popupVisible });\n    }\n    // sync activeValue with value when panel open\n    if (popupVisible && !this.state.visible) {\n      this.setState({\n        activeValue: this.state.value,\n      });\n    }\n    this.props.onPopupVisibleChange(popupVisible);\n  };\n  handleChange = (options, setProps, e) => {\n    if (e.type !== 'keydown' || e.keyCode === KeyCode.ENTER) {\n      this.props.onChange(options.map(o => o.value), options);\n      this.setPopupVisible(setProps.visible);\n    }\n  };\n  handlePopupVisibleChange = popupVisible => {\n    this.setPopupVisible(popupVisible);\n  };\n  handleMenuSelect = (targetOption, menuIndex, e) => {\n    // Keep focused state for keyboard support\n    const triggerNode = this.trigger.getRootDomNode();\n    if (triggerNode && triggerNode.focus) {\n      triggerNode.focus();\n    }\n    const { changeOnSelect, loadData, expandTrigger } = this.props;\n    if (!targetOption || targetOption.disabled) {\n      return;\n    }\n    let { activeValue } = this.state;\n    activeValue = activeValue.slice(0, menuIndex + 1);\n    activeValue[menuIndex] = targetOption.value;\n    const activeOptions = this.getActiveOptions(activeValue);\n    if (targetOption.isLeaf === false && !targetOption.children && loadData) {\n      if (changeOnSelect) {\n        this.handleChange(activeOptions, { visible: true }, e);\n      }\n      this.setState({ activeValue });\n      loadData(activeOptions);\n      return;\n    }\n    const newState = {};\n    if (!targetOption.children || !targetOption.children.length) {\n      this.handleChange(activeOptions, { visible: false }, e);\n      // set value to activeValue when select leaf option\n      newState.value = activeValue;\n      // add e.type judgement to prevent `onChange` being triggered by mouseEnter\n    } else if (changeOnSelect && (e.type === 'click' || e.type === 'keydown')) {\n      if (expandTrigger === 'hover') {\n        this.handleChange(activeOptions, { visible: false }, e);\n      } else {\n        this.handleChange(activeOptions, { visible: true }, e);\n      }\n      // set value to activeValue on every select\n      newState.value = activeValue;\n    }\n    newState.activeValue = activeValue;\n    //  not change the value by keyboard\n    if ('value' in this.props || (e.type === 'keydown' && e.keyCode !== KeyCode.ENTER)) {\n      delete newState.value;\n    }\n    this.setState(newState);\n  };\n  handleKeyDown = e => {\n    const { children } = this.props;\n    // Don't bind keyboard support when children specify the onKeyDown\n    if (children && children.props.onKeyDown) {\n      children.props.onKeyDown(e);\n      return;\n    }\n    const activeValue = [...this.state.activeValue];\n    const currentLevel = activeValue.length - 1 < 0 ? 0 : activeValue.length - 1;\n    const currentOptions = this.getCurrentLevelOptions();\n    const currentIndex = currentOptions.map(o => o.value).indexOf(activeValue[currentLevel]);\n    if (\n      e.keyCode !== KeyCode.DOWN &&\n      e.keyCode !== KeyCode.UP &&\n      e.keyCode !== KeyCode.LEFT &&\n      e.keyCode !== KeyCode.RIGHT &&\n      e.keyCode !== KeyCode.ENTER &&\n      e.keyCode !== KeyCode.BACKSPACE &&\n      e.keyCode !== KeyCode.ESC\n    ) {\n      return;\n    }\n    // Press any keys above to reopen menu\n    if (\n      !this.state.popupVisible &&\n      e.keyCode !== KeyCode.BACKSPACE &&\n      e.keyCode !== KeyCode.LEFT &&\n      e.keyCode !== KeyCode.RIGHT &&\n      e.keyCode !== KeyCode.ESC\n    ) {\n      this.setPopupVisible(true);\n      return;\n    }\n    if (e.keyCode === KeyCode.DOWN || e.keyCode === KeyCode.UP) {\n      let nextIndex = currentIndex;\n      if (nextIndex !== -1) {\n        if (e.keyCode === KeyCode.DOWN) {\n          nextIndex += 1;\n          nextIndex = nextIndex >= currentOptions.length ? 0 : nextIndex;\n        } else {\n          nextIndex -= 1;\n          nextIndex = nextIndex < 0 ? currentOptions.length - 1 : nextIndex;\n        }\n      } else {\n        nextIndex = 0;\n      }\n      activeValue[currentLevel] = currentOptions[nextIndex].value;\n    } else if (e.keyCode === KeyCode.LEFT || e.keyCode === KeyCode.BACKSPACE) {\n      activeValue.splice(activeValue.length - 1, 1);\n    } else if (e.keyCode === KeyCode.RIGHT) {\n      if (currentOptions[currentIndex] && currentOptions[currentIndex].children) {\n        activeValue.push(currentOptions[currentIndex].children[0].value);\n      }\n    } else if (e.keyCode === KeyCode.ESC) {\n      this.setPopupVisible(false);\n      return;\n    }\n    if (!activeValue || activeValue.length === 0) {\n      this.setPopupVisible(false);\n    }\n    const activeOptions = this.getActiveOptions(activeValue);\n    const targetOption = activeOptions[activeOptions.length - 1];\n    this.handleMenuSelect(targetOption, activeOptions.length - 1, e);\n\n    if (this.props.onKeyDown) {\n      this.props.onKeyDown(e);\n    }\n  };\n\n  saveTrigger = node => {\n    this.trigger = node;\n  };\n\n  render() {\n    const {\n      prefixCls,\n      transitionName,\n      popupClassName,\n      options,\n      disabled,\n      builtinPlacements,\n      popupPlacement,\n      children,\n      ...restProps\n    } = this.props;\n    // Did not show popup when there is no options\n    let menus = <div />;\n    let emptyMenuClassName = '';\n    if (options && options.length > 0) {\n      menus = (\n        <Menus\n          {...this.props}\n          value={this.state.value}\n          activeValue={this.state.activeValue}\n          onSelect={this.handleMenuSelect}\n          visible={this.state.popupVisible}\n        />\n      );\n    } else {\n      emptyMenuClassName = ` ${prefixCls}-menus-empty`;\n    }\n    return (\n      <Trigger\n        ref={this.saveTrigger}\n        {...restProps}\n        options={options}\n        disabled={disabled}\n        popupPlacement={popupPlacement}\n        builtinPlacements={builtinPlacements}\n        popupTransitionName={transitionName}\n        action={disabled ? [] : ['click']}\n        popupVisible={disabled ? false : this.state.popupVisible}\n        onPopupVisibleChange={this.handlePopupVisibleChange}\n        prefixCls={`${prefixCls}-menus`}\n        popupClassName={popupClassName + emptyMenuClassName}\n        popup={menus}\n      >\n        {cloneElement(children, {\n          onKeyDown: this.handleKeyDown,\n          tabIndex: disabled ? undefined : 0,\n        })}\n      </Trigger>\n    );\n  }\n}\n"]}