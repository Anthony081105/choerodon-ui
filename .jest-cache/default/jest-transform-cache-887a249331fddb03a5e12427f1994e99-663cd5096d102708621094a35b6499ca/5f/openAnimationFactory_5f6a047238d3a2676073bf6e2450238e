d96c37e821e3beef7ef87a9df9e0e4a8
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _cssAnimation = _interopRequireDefault(require("css-animation"));

function animate(node, show, transitionName, done) {
  var height;
  return (0, _cssAnimation["default"])(node, transitionName, {
    start: function start() {
      if (!show) {
        node.style.height = "".concat(node.offsetHeight, "px");
      } else {
        height = node.offsetHeight;
        node.style.height = 0;
      }
    },
    active: function active() {
      node.style.height = "".concat(show ? height : 0, "px");
    },
    end: function end() {
      node.style.height = '';
      done();
    }
  });
}

function animation(prefixCls) {
  return {
    enter: function enter(node, done) {
      return animate(node, true, "".concat(prefixCls, "-anim"), done);
    },
    leave: function leave(node, done) {
      return animate(node, false, "".concat(prefixCls, "-anim"), done);
    }
  };
}

var _default = animation;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9wZW5BbmltYXRpb25GYWN0b3J5LmpzeCJdLCJuYW1lcyI6WyJhbmltYXRlIiwibm9kZSIsInNob3ciLCJ0cmFuc2l0aW9uTmFtZSIsImRvbmUiLCJoZWlnaHQiLCJzdGFydCIsInN0eWxlIiwib2Zmc2V0SGVpZ2h0IiwiYWN0aXZlIiwiZW5kIiwiYW5pbWF0aW9uIiwicHJlZml4Q2xzIiwiZW50ZXIiLCJsZWF2ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBRUEsU0FBU0EsT0FBVCxDQUFpQkMsSUFBakIsRUFBdUJDLElBQXZCLEVBQTZCQyxjQUE3QixFQUE2Q0MsSUFBN0MsRUFBbUQ7QUFDakQsTUFBSUMsTUFBSjtBQUNBLFNBQU8sOEJBQWFKLElBQWIsRUFBbUJFLGNBQW5CLEVBQW1DO0FBQ3hDRyxJQUFBQSxLQUR3QyxtQkFDaEM7QUFDTixVQUFJLENBQUNKLElBQUwsRUFBVztBQUNURCxRQUFBQSxJQUFJLENBQUNNLEtBQUwsQ0FBV0YsTUFBWCxhQUF1QkosSUFBSSxDQUFDTyxZQUE1QjtBQUNELE9BRkQsTUFFTztBQUNMSCxRQUFBQSxNQUFNLEdBQUdKLElBQUksQ0FBQ08sWUFBZDtBQUNBUCxRQUFBQSxJQUFJLENBQUNNLEtBQUwsQ0FBV0YsTUFBWCxHQUFvQixDQUFwQjtBQUNEO0FBQ0YsS0FSdUM7QUFTeENJLElBQUFBLE1BVHdDLG9CQVMvQjtBQUNQUixNQUFBQSxJQUFJLENBQUNNLEtBQUwsQ0FBV0YsTUFBWCxhQUF1QkgsSUFBSSxHQUFHRyxNQUFILEdBQVksQ0FBdkM7QUFDRCxLQVh1QztBQVl4Q0ssSUFBQUEsR0Fad0MsaUJBWWxDO0FBQ0pULE1BQUFBLElBQUksQ0FBQ00sS0FBTCxDQUFXRixNQUFYLEdBQW9CLEVBQXBCO0FBQ0FELE1BQUFBLElBQUk7QUFDTDtBQWZ1QyxHQUFuQyxDQUFQO0FBaUJEOztBQUVELFNBQVNPLFNBQVQsQ0FBbUJDLFNBQW5CLEVBQThCO0FBQzVCLFNBQU87QUFDTEMsSUFBQUEsS0FESyxpQkFDQ1osSUFERCxFQUNPRyxJQURQLEVBQ2E7QUFDaEIsYUFBT0osT0FBTyxDQUFDQyxJQUFELEVBQU8sSUFBUCxZQUFnQlcsU0FBaEIsWUFBa0NSLElBQWxDLENBQWQ7QUFDRCxLQUhJO0FBSUxVLElBQUFBLEtBSkssaUJBSUNiLElBSkQsRUFJT0csSUFKUCxFQUlhO0FBQ2hCLGFBQU9KLE9BQU8sQ0FBQ0MsSUFBRCxFQUFPLEtBQVAsWUFBaUJXLFNBQWpCLFlBQW1DUixJQUFuQyxDQUFkO0FBQ0Q7QUFOSSxHQUFQO0FBUUQ7O2VBRWNPLFMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3NzQW5pbWF0aW9uIGZyb20gJ2Nzcy1hbmltYXRpb24nO1xuXG5mdW5jdGlvbiBhbmltYXRlKG5vZGUsIHNob3csIHRyYW5zaXRpb25OYW1lLCBkb25lKSB7XG4gIGxldCBoZWlnaHQ7XG4gIHJldHVybiBjc3NBbmltYXRpb24obm9kZSwgdHJhbnNpdGlvbk5hbWUsIHtcbiAgICBzdGFydCgpIHtcbiAgICAgIGlmICghc2hvdykge1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGAke25vZGUub2Zmc2V0SGVpZ2h0fXB4YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlaWdodCA9IG5vZGUub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IDA7XG4gICAgICB9XG4gICAgfSxcbiAgICBhY3RpdmUoKSB7XG4gICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGAke3Nob3cgPyBoZWlnaHQgOiAwfXB4YDtcbiAgICB9LFxuICAgIGVuZCgpIHtcbiAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICBkb25lKCk7XG4gICAgfSxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFuaW1hdGlvbihwcmVmaXhDbHMpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnRlcihub2RlLCBkb25lKSB7XG4gICAgICByZXR1cm4gYW5pbWF0ZShub2RlLCB0cnVlLCBgJHtwcmVmaXhDbHN9LWFuaW1gLCBkb25lKTtcbiAgICB9LFxuICAgIGxlYXZlKG5vZGUsIGRvbmUpIHtcbiAgICAgIHJldHVybiBhbmltYXRlKG5vZGUsIGZhbHNlLCBgJHtwcmVmaXhDbHN9LWFuaW1gLCBkb25lKTtcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBhbmltYXRpb247XG4iXX0=