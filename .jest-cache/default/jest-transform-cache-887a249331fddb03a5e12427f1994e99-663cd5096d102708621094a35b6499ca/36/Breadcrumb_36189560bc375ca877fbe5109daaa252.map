{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components/breadcrumb/Breadcrumb.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Children, cloneElement, Component, CSSProperties, ReactNode } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport warning from '../_util/warning';\nimport BreadcrumbItem from './BreadcrumbItem';\nimport { getPrefixCls } from '../configure';\n\nexport interface Route {\n  path: string;\n  breadcrumbName: string;\n}\n\nexport interface BreadcrumbProps {\n  prefixCls?: string;\n  routes?: Route[];\n  params?: any;\n  separator?: ReactNode;\n  itemRender?: (route: any, params: any, routes: Array<any>, paths: Array<string>) => ReactNode;\n  style?: CSSProperties;\n  className?: string;\n}\n\nfunction getBreadcrumbName(route: Route, params: any) {\n  if (!route.breadcrumbName) {\n    return null;\n  }\n  const paramsKeys = Object.keys(params).join('|');\n  const name = route.breadcrumbName.replace(\n    new RegExp(`:(${paramsKeys})`, 'g'),\n    (replacement, key) => params[key] || replacement,\n  );\n  return name;\n}\n\nfunction defaultItemRender(route: Route, params: any, routes: Route[], paths: string[]) {\n  const isLastItem = routes.indexOf(route) === routes.length - 1;\n  const name = getBreadcrumbName(route, params);\n  return isLastItem ? <span>{name}</span> : <a href={`#/${paths.join('/')}`}>{name}</a>;\n}\n\nexport default class Breadcrumb extends Component<BreadcrumbProps, any> {\n  static displayName = 'Breadcrumb';\n\n  static Item: any;\n\n  static defaultProps = {\n    separator: '/',\n  };\n\n  static propTypes = {\n    prefixCls: PropTypes.string,\n    separator: PropTypes.node,\n    routes: PropTypes.array,\n    params: PropTypes.object,\n    itemRender: PropTypes.func,\n  };\n\n  componentDidMount() {\n    const props = this.props;\n    warning(\n      !('linkRender' in props || 'nameRender' in props),\n      '`linkRender` and `nameRender` are removed, please use `itemRender` instead',\n    );\n  }\n\n  render() {\n    let crumbs;\n    const {\n      separator,\n      prefixCls,\n      style,\n      className,\n      routes,\n      params = {},\n      children,\n      itemRender = defaultItemRender,\n    } = this.props;\n    if (routes && routes.length > 0) {\n      const paths: string[] = [];\n      crumbs = routes.map(route => {\n        route.path = route.path || '';\n        let path: string = route.path.replace(/^\\//, '');\n        Object.keys(params).forEach(key => {\n          path = path.replace(`:${key}`, params[key]);\n        });\n        if (path) {\n          paths.push(path);\n        }\n        return (\n          <BreadcrumbItem separator={separator} key={route.breadcrumbName || path}>\n            {itemRender(route, params, routes, paths)}\n          </BreadcrumbItem>\n        );\n      });\n    } else if (children) {\n      crumbs = Children.map(children, (element: any, index) => {\n        if (!element) {\n          return element;\n        }\n        warning(\n          element.type && element.type.__ANT_BREADCRUMB_ITEM,\n          \"Breadcrumb only accepts Breadcrumb.Item as it's children\",\n        );\n        return cloneElement(element, {\n          separator,\n          key: index,\n        });\n      });\n    }\n    return (\n      <div className={classNames(className, getPrefixCls('breadcrumb', prefixCls))} style={style}>\n        {crumbs}\n      </div>\n    );\n  }\n}\n"]}