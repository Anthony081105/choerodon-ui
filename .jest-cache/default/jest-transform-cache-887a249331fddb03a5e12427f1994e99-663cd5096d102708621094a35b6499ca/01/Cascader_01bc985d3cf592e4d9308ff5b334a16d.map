{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/cascader/Cascader.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { CSSProperties, isValidElement, Key, ReactElement, ReactNode } from 'react';\nimport PropTypes from 'prop-types';\nimport omit from 'lodash/omit';\nimport isEqual from 'lodash/isEqual';\nimport isNil from 'lodash/isNil';\nimport isEmpty from 'lodash/isEmpty';\nimport noop from 'lodash/noop';\nimport isPlainObject from 'lodash/isPlainObject';\nimport { observer } from 'mobx-react';\nimport { action, observable, computed, IReactionDisposer, isArrayLike, reaction, runInAction, toJS } from 'mobx';\nimport { Menus, SingleMenu } from 'choerodon-ui/lib/rc-components/cascader';\nimport KeyCode from 'choerodon-ui/lib/_util/KeyCode';\nimport { getConfig } from 'choerodon-ui/lib/configure';\nimport { pxToRem } from 'choerodon-ui/lib/_util/UnitConvertor';\nimport cloneDeep from 'lodash/cloneDeep';\nimport isFunction from 'lodash/isFunction';\nimport isObject from 'lodash/isObject';\nimport { MenuMode } from 'choerodon-ui/lib/cascader';\nimport TriggerField, { TriggerFieldProps } from '../trigger-field/TriggerField';\nimport autobind from '../_util/autobind';\nimport { ValidationMessages } from '../validator/Validator';\nimport { DataSetStatus, FieldType } from '../data-set/enum';\nimport DataSet from '../data-set/DataSet';\nimport Record from '../data-set/Record';\nimport Spin from '../spin';\nimport { stopEvent } from '../_util/EventManager';\nimport normalizeOptions from '../option/normalizeOptions';\nimport { $l } from '../locale-context';\nimport * as ObjectChainValue from '../_util/ObjectChainValue';\nimport isEmptyUtil from '../_util/isEmpty';\nimport isSameLike from '../_util/isSameLike';\nimport { OptionProps } from '../option/Option';\nimport { ExpandTrigger } from './enum';\n\nexport interface OptionObject {\n  value: any,\n  meaning: string,\n}\n\nexport interface ProcessOption extends OptionObject {\n  parent: any,\n  children?: any,\n  disabled?: boolean,\n}\n\nexport interface CascaderOptionType {\n  value: string;\n  label: ReactNode;\n  disabled?: boolean;\n  children?: Array<CascaderOptionType>;\n  parent?: Array<CascaderOptionType>;\n  __IS_FILTERED_OPTION?: boolean;\n}\n\n\nconst disabledField = '__disabled';\n\nfunction defaultOnOption({ record }) {\n  if (record instanceof Record) {\n    return {\n      disabled: record.get(disabledField),\n    };\n  }\n}\n\nexport function getItemKey(record: Record, text: ReactNode, value: any) {\n  return `item-${value || record.id}-${(isValidElement(text) ? text.key : text) || record.id}`;\n}\n\nfunction getSimpleValue(value, valueField) {\n  if (isPlainObject(value)) {\n    return ObjectChainValue.get(value, valueField);\n  }\n  return value;\n}\n\n/**\n * 简单比较arry的值是否相同\n * 主要问题是观察变量修改了值类型所以使用此方法\n * @param arr\n * @param arrNext\n */\nfunction arraySameLike(arr, arrNext): boolean {\n  if ( isArrayLike(arr) &&  isArrayLike(arrNext)) {\n    return arr.toString() === arrNext.toString();\n  }\n  return false;\n}\n\nexport type onOptionProps = { dataSet: DataSet; record: Record };\n\n\nexport interface CascaderProps extends TriggerFieldProps {\n  /**\n   * 次级菜单的展开方式，可选 'click' 和 'hover'\n   */\n  expandTrigger?: ExpandTrigger\n  /**\n   * 下拉框匹配输入框宽度\n   * @default true\n   */\n  dropdownMatchSelectWidth?: boolean;\n  /**\n   * 下拉框菜单样式名\n   */\n  dropdownMenuStyle?: CSSProperties;\n  /**\n   * 选项数据源\n   */\n  options?: DataSet | CascaderOptionType[];\n  /**\n   * 是否为原始值\n   * true - 选项中valueField对应的值\n   * false - 选项值对象\n   */\n  primitiveValue?: boolean;\n  /**\n   * 当下拉列表为空时显示的内容\n   */\n  notFoundContent?: ReactNode;\n  /**\n   * 设置选项属性，如 disabled;\n   */\n  onOption: (props: onOptionProps) => OptionProps;\n  /** 单框弹出形式切换 */\n  menuMode?: MenuMode;\n  /** 由于渲染在body下可以方便按照业务配置弹出框的大小 */\n  singleMenuStyle?: CSSProperties,\n  /** 由于渲染在body下可以方便按照业务配置超出大小样式和最小宽度等 */\n  singleMenuItemStyle?: CSSProperties,\n  /** 设置需要的提示问题配置 */\n  singlePleaseRender?: ({key,className,text}:{key: string,className: string,text: string}) => ReactElement<any>,\n  /** 头部可以渲染出想要的tab样子 */\n  singleMenuItemRender?: (title:string) => ReactElement<any>,\n}\n\nexport class Cascader<T extends CascaderProps> extends TriggerField<T> {\n  static displayName = 'Cascader';\n\n  static propTypes = {\n    /**\n     * 次级菜单的展开方式，可选 'click' 和 'hover'\n     */\n    expandTrigger: PropTypes.oneOf([\n      ExpandTrigger.hover,\n      ExpandTrigger.click,\n    ]),\n    /**\n     * 下拉框匹配输入框宽度\n     * @default true\n     */\n    dropdownMatchSelectWidth: PropTypes.bool,\n    /**\n     * 下拉框菜单样式名\n     */\n    dropdownMenuStyle: PropTypes.object,\n    /**\n     * 选项数据源\n     */\n    options: PropTypes.oneOfType([\n      PropTypes.object,\n      PropTypes.arrayOf(PropTypes.object),\n    ]),\n    /**\n     * 是否为原始值\n     * true - 选项中valueField对应的值\n     * false - 选项值对象\n     */\n    primitiveValue: PropTypes.bool,\n    /**\n     * 当下拉列表为空时显示的内容\n     */\n    notFoundContent: PropTypes.node,\n    /**\n     * 设置选项属性，如 disabled;\n     */\n    onOption: PropTypes.func,\n    singleMenuStyle: PropTypes.object,\n    singleMenuItemStyle: PropTypes.object,\n    singlePleaseRender: PropTypes.func,\n    singleMenuItemRender: PropTypes.func,\n    ...TriggerField.propTypes,\n  };\n\n  static defaultProps = {\n    ...TriggerField.defaultProps,\n    suffixCls: 'cascader',\n    dropdownMatchSelectWidth: false,\n    expandTrigger: ExpandTrigger.click,\n    onOption: defaultOnOption,\n  };\n\n\n  @observable activeValues;\n\n  @observable menuItemWith: number;\n\n  @observable clickTab;\n\n  @computed \n  get isClickTab() {\n    return this.clickTab;\n  }\n\n  @computed\n  get activeValue(): any {\n    return this.activeValues;\n  }\n\n  @computed\n  get itemMenuWidth(): number {\n    return this.menuItemWith;\n  }\n\n  constructor(props, context) {\n    super(props, context);\n    this.setActiveValue({});\n    this.setItemMenuWidth(0);\n    this.setIsClickTab(false);\n  }\n\n  findActiveRecord(value, options) {\n    let result;\n    const returnActiveValue = (arrayOption, index) => {\n      if (arrayOption && arrayOption.length > 0) {\n        arrayOption.forEach((item) => {\n          if (isSameLike(value[index], this.getRecordOrObjValue(item, this.valueField))) {\n            result = item;\n            if (item.children) {\n              returnActiveValue(item.children, ++index);\n            }\n          }\n        });\n      }\n    };\n    if (options instanceof DataSet) {\n      returnActiveValue(options.treeData, 0);\n    }\n    if (isArrayLike(options)) {\n      returnActiveValue(options, 0);\n    }\n    return result;\n  }\n\n  @action\n  setActiveValue(activeValues: any) {\n    this.activeValues = activeValues;\n  }\n\n  @action setIsClickTab(isClickTab: boolean) {\n    this.clickTab = isClickTab;\n  }\n\n  @action\n  setItemMenuWidth(width: number) {\n    this.menuItemWith = width;\n  }\n\n  @computed\n  get defaultValidationMessages(): ValidationMessages {\n    const label = this.getProp('label');\n    return {\n      valueMissing: $l('Cascader', label ? 'value_missing' : 'value_missing_no_label', { label }),\n    };\n  }\n\n  @computed\n  get textField(): string {\n    return this.getProp('textField') || 'meaning';\n  }\n\n  @computed\n  get valueField(): string {\n    return this.getProp('valueField') || 'value';\n  }\n\n  @computed\n  get cascadeOptions(): Record[] {\n    const { record, field, options } = this;\n    const { data } = options;\n    if (field) {\n      const cascadeMap = field.get('cascadeMap');\n      if (cascadeMap) {\n        if (record) {\n          const cascades = Object.keys(cascadeMap);\n          return data.filter(item =>\n            cascades.every(cascade =>\n              isSameLike(record.get(cascadeMap[cascade]), item.get(cascade)),\n            ),\n          );\n        }\n        return [];\n      }\n    }\n    return data;\n  }\n\n  @computed\n  get editable(): boolean {\n    return false;\n  }\n\n\n  @computed\n  get multiple(): boolean {\n    return !!this.getProp('multiple');\n  }\n\n  @computed\n  get menuMultiple(): boolean {\n    return this.multiple;\n  }\n\n  @computed\n  get options(): DataSet {\n    const {\n      field,\n      textField,\n      valueField,\n      multiple,\n      observableProps: { children, options },\n    } = this;\n    let dealOption;\n    if (isArrayLike(options)) {\n      dealOption = this.addOptionsParent(options, undefined);\n    } else {\n      dealOption = options;\n    }\n    return (\n      dealOption ||\n      (field && field.options) ||\n      normalizeOptions({ textField, valueField, disabledField, multiple, children })\n    );\n  }\n\n  // 增加父级属性\n  addOptionsParent(options, parent) {\n    if (options.length > 0) {\n      const optionPrent = options.map((ele) => {\n        ele.parent = parent || undefined;\n        if (ele.children) {\n          this.addOptionsParent(ele.children, ele);\n        }\n        return ele;\n      });\n      return optionPrent;\n    }\n  }\n\n  @computed\n  get primitive(): boolean {\n    const type = this.getProp('type');\n    if (this.options instanceof DataSet) {\n      return this.observableProps.primitiveValue !== false && type !== FieldType.object;\n    }\n    return this.observableProps.primitiveValue !== false;\n  }\n\n  checkValueReaction?: IReactionDisposer;\n\n  checkComboReaction?: IReactionDisposer;\n\n\n  checkValue() {\n    this.checkValueReaction = reaction(() => this.cascadeOptions, () => this.processSelectedData());\n  }\n\n  checkCombo() {\n    this.checkComboReaction = reaction(\n      () => this.getValue(),\n      value => this.generateComboOption(value),\n    );\n  }\n\n  clearCheckValue() {\n    if (this.checkValueReaction) {\n      this.checkValueReaction();\n      this.checkValueReaction = undefined;\n    }\n  }\n\n  clearCheckCombo() {\n    if (this.checkComboReaction) {\n      this.checkComboReaction();\n      this.checkComboReaction = undefined;\n    }\n  }\n\n  clearReaction() {\n    this.clearCheckValue();\n    this.clearCheckCombo();\n  }\n\n  componentWillMount() {\n    super.componentWillMount();\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount();\n    this.clearReaction();\n  }\n\n  componentWillReceiveProps(nextProps, nextContext) {\n    super.componentWillReceiveProps(nextProps, nextContext);\n  }\n\n  componentDidUpdate() {\n    this.forcePopupAlign();\n  }\n\n  getOtherProps() {\n    const otherProps = omit(super.getOtherProps(), [\n      'multiple',\n      'value',\n      'name',\n      'dropdownMatchSelectWidth',\n      'dropdownMenuStyle',\n      'primitiveValue',\n      'notFoundContent',\n      'onOption',\n      'expandTrigger',\n      'dropdownMatchSelectWidth',\n      'dropdownMenuStyle',\n      'menuMode',\n      'singleMenuStyle',\n      'singleMenuItemStyle',\n      'singlePleaseRender',\n      'singleMenuItemRender', \n    ]);\n    return otherProps;\n  }\n\n  getObservableProps(props, context) {\n    return {\n      ...super.getObservableProps(props, context),\n      children: props.children,\n      options: props.options,\n      primitiveValue: props.primitiveValue,\n    };\n  }\n\n  getMenuPrefixCls() {\n    return `${this.prefixCls}-dropdown-menu`;\n  }\n\n  renderMultipleHolder() {\n    const { name, multiple } = this;\n    if (multiple) {\n      return super.renderMultipleHolder();\n    }\n    return (\n      <input\n        key=\"value\"\n        type=\"hidden\"\n        value={this.toValueString(this.getValue()) || ''}\n        name={name}\n        onChange={noop}\n      />\n    );\n  }\n\n  getNotFoundContent() {\n    const { notFoundContent } = this.props;\n    if (notFoundContent !== undefined) {\n      return notFoundContent;\n    }\n    return getConfig('renderEmpty')('Select');\n  }\n\n  /**\n   * 返回一个打平tree返回层级\n   * @param record\n   * @param fn\n   */\n  findParentRecodTree(record: Record, fn?: any) {\n    const recordTree: any[] = [];\n    if (record) {\n      if ( isFunction(fn)) {\n        recordTree.push(fn(record));\n      } else {\n        recordTree.push(record);\n      }\n    }\n    if (record && record.parent) {\n      if (isFunction(fn)) {\n        return [...this.findParentRecodTree(record.parent, fn), ...recordTree];\n      }\n      return [...this.findParentRecodTree(record.parent), ...recordTree];\n    }\n    return recordTree;\n  }\n\n  /**\n   * 获取record 或者 obj对应的值\n   * @param value\n   * @param key\n   */\n  getRecordOrObjValue(value, key) {\n    if (value instanceof Record) {\n      return value.get(key);\n    }\n    if (isObject(value)) {\n      return value[key];\n    }\n    return value;\n  }\n\n  /**\n   * 渲染menu 表格\n   * @param menuProps\n   */\n  @autobind\n  getMenu(menuProps: object = {}): ReactNode {\n    // 暂时不用考虑分组情况 groups\n    const {\n      options,\n      textField,\n      valueField,\n      props: {\n        dropdownMenuStyle, \n        expandTrigger, \n        onOption, \n        menuMode,\n        singleMenuStyle,\n        singleMenuItemStyle,\n        singlePleaseRender,\n        singleMenuItemRender,\n      },\n    } = this;\n    if (!options) {\n      return null;\n    }\n    const menuDisabled = this.isDisabled();\n    let optGroups: any[] = [];\n    let selectedValues: any[] = [];\n    // 确保tabkey唯一\n    let deepindex = 0;\n    const treePropsChange = (treeRecord: ProcessOption[] | Record[]) => {\n      let treeRecords: any = [];\n      if (treeRecord.length > 0) {\n        // @ts-ignore\n        treeRecords = treeRecord.map((recordItem, index) => {\n          deepindex++\n          const value = this.getRecordOrObjValue(recordItem, valueField);\n          const text = this.getRecordOrObjValue(recordItem, textField);\n          if (recordItem instanceof Record) {\n            const optionProps = onOption({ dataSet: options, record: recordItem });\n            const optionDisabled = menuDisabled || (optionProps && optionProps.disabled);\n            const key: Key = getItemKey(recordItem, text, value);\n            let children;\n            if (recordItem.isSelected) {\n              selectedValues.push(recordItem);\n            }\n            if (recordItem.children) {\n              children = treePropsChange(recordItem.children);\n            }\n            return (children ? {\n              ...optionProps,\n              disabled: optionDisabled,\n              key,\n              label: text,\n              value: recordItem,\n              children,\n            } : {\n              ...optionProps,\n              disabled: optionDisabled,\n              key,\n              label: text,\n              value: recordItem,\n            });\n          }\n          const optionProps = onOption({ dataSet: options, record: recordItem });\n          const optionDisabled = recordItem.disabled || optionProps;\n          const key: Key = `${deepindex}-${index}`;\n          let children: any;\n          if (recordItem.children) {\n            children = treePropsChange(recordItem.children);\n          }\n          return (children ? {\n            ...optionDisabled,\n            key,\n            label: text,\n            value: recordItem,\n            children,\n            disabled: optionDisabled,\n          } : {\n            ...optionDisabled,\n            key,\n            label: text,\n            value: recordItem,\n            disabled: optionDisabled,\n          });\n        });\n      }\n      return treeRecords;\n    };\n    if (isArrayLike(options)) {\n      optGroups = treePropsChange(options);\n    } else if (options instanceof DataSet) {\n      optGroups = treePropsChange(options.treeData);\n    } else {\n      optGroups = [];\n    }\n\n    /**\n     * 获取当前激活的menueItem\n     * 以及value 展示激活状态的判断\n     * 按钮能够控制不受值的影响\n     * inputValue：输入框的值\n     * activeValue：激活值（choose和键盘影响）\n     * this.popup:开启状态有激活值那么为激活值\n     */\n    const getActiveValue = (inputValue) => {\n      let activeValue = [];\n      if (!isEmpty(inputValue)) {\n        if (inputValue && arraySameLike(this.treeValueToArray(this.activeValue), inputValue) || this.activeValue.children) {\n          activeValue = this.findParentRecodTree(this.activeValue);\n        } else if (this.activeValue) {\n          if (isArrayLike(options)) {\n            activeValue = this.findParentRecodTree(this.findActiveRecord(inputValue, this.options));\n          } else if (options instanceof DataSet) {\n            activeValue = this.findParentRecodTree(this.findActiveRecord(inputValue, this.options.treeData));\n          } else {\n            activeValue = [];\n          }\n        }\n      } else if (inputValue) {\n        activeValue = this.findParentRecodTree(this.activeValue);\n      }\n      return activeValue;\n    };\n    if (this.popup && !isEmpty(this.activeValue)) {\n      selectedValues = this.findParentRecodTree(this.activeValue);\n    } else if (!this.multiple) {\n      selectedValues = getActiveValue(this.getValues());\n    } else if (this.getValues() && this.getValues().length > 0) {\n      for (let i = this.getValues().length - 1; i >= 0; i--) {\n        selectedValues = getActiveValue(this.getValues()[i]);\n        if (!isEmpty(selectedValues)) {\n          break;\n        }\n      }\n    } else if (!isEmpty(this.activeValue)) {\n      selectedValues = this.findParentRecodTree(this.activeValue);\n    }\n    let dropdownMenuStyleMerge = dropdownMenuStyle;\n    if ((this.itemMenuWidth > 0)) {\n      dropdownMenuStyleMerge = { ...dropdownMenuStyle, width: pxToRem(this.itemMenuWidth) };\n    }\n    // 渲染成单项选择还是多项选择组件以及空组件\n    if(options && options.length){\n      if(!this.multiple && menuMode === MenuMode.single ){\n        return (\n          <SingleMenu\n          {...menuProps}\n          singleMenuStyle = {singleMenuStyle}\n          singleMenuItemStyle = {singleMenuItemStyle}\n          singlePleaseRender = {singlePleaseRender}\n          singleMenuItemRender ={singleMenuItemRender}\n          prefixCls={this.prefixCls}\n          expandTrigger={expandTrigger}\n          activeValue={toJS(selectedValues)}\n          options={optGroups}\n          locale={{pleaseSelect:$l('Cascader', 'please_select')}}\n          onSelect={this.handleMenuClick}\n          isTabSelected={this.isClickTab}\n          dropdownMenuColumnStyle={dropdownMenuStyleMerge}\n          visible={this.popup} />\n        )\n      }\n      return (\n        <Menus\n          {...menuProps}\n          prefixCls={this.prefixCls}\n          expandTrigger={expandTrigger}\n          activeValue={selectedValues}\n          options={optGroups}\n          onSelect={this.handleMenuClick}\n          dropdownMenuColumnStyle={dropdownMenuStyleMerge}\n          visible={this.popup}\n        />\n      )\n    }\n    return (\n      <div key=\"no_data\">\n        {this.loading ? ' ' : this.getNotFoundContent()}\n      </div>\n    )\n  }\n\n  // 遍历出父亲节点\n  @computed\n  get loading(): boolean {\n    const { field, options } = this;\n    return options.status === DataSetStatus.loading || (!!field && field.pending.length > 0);\n  }\n\n  getPopupContent(): ReactNode {\n    const menu = (\n      <Spin key=\"menu\" spinning={this.loading}>\n        {this.getMenu()}\n      </Spin>\n    );\n    if (this.multiple) {\n      return [\n        <div key=\"check-all\" className={`${this.prefixCls}-select-all-none`}>\n          <span onClick={this.chooseAll}>{$l('Cascader', 'select_all')}</span>\n          <span onClick={this.unChooseAll}>{$l('Cascader', 'unselect_all')}</span>\n        </div>,\n        menu,\n      ];\n    }\n    return menu;\n  }\n\n  @autobind\n  getPopupStyleFromAlign(target): CSSProperties | undefined {\n    if (target) {\n      if (this.props.dropdownMatchSelectWidth) {\n        this.setItemMenuWidth(target.getBoundingClientRect().width);\n        return {\n          minWidth: pxToRem(target.getBoundingClientRect().width),\n        };\n      }\n      return undefined;\n    }\n  }\n\n  getTriggerIconFont() {\n    return 'baseline-arrow_drop_down';\n  }\n\n  @autobind\n  handleKeyDown(e) {\n    if (!this.isDisabled() && !this.isReadOnly()) {\n      switch (e.keyCode) {\n        case KeyCode.RIGHT:\n          this.handleKeyLeftRightNext(e, 1);\n          break;\n        case KeyCode.DOWN:\n          this.handleKeyDownPrevNext(e, 1);\n          break;\n        case KeyCode.LEFT:\n          this.handleKeyLeftRightNext(e, -1);\n          break;\n        case KeyCode.UP:\n          this.handleKeyDownPrevNext(e, -1);\n          break;\n        case KeyCode.END:\n        case KeyCode.PAGE_DOWN:\n          this.handleKeyDownFirstLast(e, 1);\n          break;\n        case KeyCode.HOME:\n        case KeyCode.PAGE_UP:\n          this.handleKeyDownFirstLast(e, -1);\n          break;\n        case KeyCode.ENTER:\n          this.handleKeyDownEnter(e);\n          break;\n        case KeyCode.ESC:\n          this.handleKeyDownEsc(e);\n          break;\n        case KeyCode.SPACE:\n          this.handleKeyDownSpace(e);\n          break;\n        default:\n      }\n    }\n    super.handleKeyDown(e);\n  }\n\n  // 获取当前列第一个值和最后的值\n  findTreeDataFirstLast(options, activeValue, direction) {\n    const nowIndexList = activeValue.parent ? activeValue.parent.children : options;\n    if (nowIndexList.length > 0 && direction > 0) {\n      return nowIndexList[nowIndexList.length - 1];\n    }\n    if (nowIndexList.length > 0 && direction < 0) {\n      return nowIndexList[0];\n    }\n    return activeValue;\n  }\n\n  // 按键第一个和最后一个的位置\n  handleKeyDownFirstLast(e, direction: number) {\n    stopEvent(e);\n    if (isArrayLike(this.options)) {\n      if (isEmpty(toJS(this.activeValue))) {\n        this.setActiveValue(this.options[0]);\n      } else {\n        const activeItem = this.findTreeDataFirstLast(this.options, this.activeValue, direction);\n        if (!this.editable || this.popup) {\n          this.setActiveValue(activeItem);\n        }\n      }\n    } else if (this.options instanceof DataSet) {\n      if (isEmpty(toJS(this.activeValue))) {\n        this.setActiveValue(this.options.treeData[0]);\n      } else {\n        const activeItem = this.findTreeDataFirstLast(this.options.treeData, this.activeValue, direction);\n        if (!this.editable || this.popup) {\n          this.setActiveValue(activeItem);\n        }\n      }\n    }\n  }\n\n  // 查找同级位置\n  findTreeDataUpDown(options, value, direction, fn?: any) {\n    const nowIndexList = value.parent ? value.parent.children : options;\n    if (isArrayLike(nowIndexList)) {\n      const nowIndex = fn !== undefined ? fn : nowIndexList.findIndex(ele => ele.value === value);\n      const length = nowIndexList.length;\n      if (nowIndex + direction >= length) {\n        return nowIndexList[0];\n      }\n      if (nowIndex + direction < 0) {\n        return nowIndexList[length - 1];\n      }\n      return nowIndexList[nowIndex + direction];\n    }\n    return value;\n  }\n\n  sameKeyRecordIndex(options: Record[], activeValue: Record, valueKey: string) {\n    const nowIndexList = activeValue.parent ? activeValue.parent.children : options;\n    return nowIndexList!.findIndex(ele => ele[valueKey] === activeValue[valueKey]);\n  }\n\n  // 上下按键判断\n  handleKeyDownPrevNext(e, direction: number) {\n    if (!this.editable) {\n      if (isArrayLike(this.options)) {\n        if (isEmpty(toJS(this.activeValue))) {\n          this.setActiveValue(this.options[0]);\n        } else {\n          this.setActiveValue(this.findTreeDataUpDown(this.options, this.activeValue, direction, this.sameKeyRecordIndex(this.options, this.activeValue, 'value')));\n        }\n      } else if (this.options instanceof DataSet) {\n        if (isEmpty(toJS(this.activeValue))) {\n          this.setActiveValue(this.options.treeData[0]);\n        } else {\n          this.setActiveValue(this.findTreeDataUpDown(this.options.treeData, this.activeValue, direction, this.sameKeyRecordIndex(this.options.treeData, this.activeValue, 'key')));\n        }\n      }\n      e.preventDefault();\n    } else if (e === KeyCode.DOWN) {\n      this.expand();\n      e.preventDefault();\n    }\n  }\n\n  // 查找相邻的节点\n  findTreeParentChidren(_options, activeValue, direction) {\n    if (direction > 0) {\n      if (activeValue.children && activeValue.children.length > 0) {\n        return activeValue.children[0];\n      }\n      return activeValue;\n    }\n    if (activeValue.parent) {\n      return activeValue.parent;\n    }\n    return activeValue;\n  }\n\n\n  handleKeyLeftRightNext(e, direction: number) {\n    if (!this.editable) {\n      if (isArrayLike(this.options)) {\n        if (isEmpty(toJS(this.activeValue))) {\n          this.setActiveValue(this.options[0]);\n        } else {\n          this.setActiveValue(this.findTreeParentChidren(this.options, this.activeValue, direction));\n        }\n      } else if (this.options instanceof DataSet) {\n        if (isEmpty(toJS(this.activeValue))) {\n          this.setActiveValue(this.options.treeData[0]);\n        } else {\n          this.setActiveValue(this.findTreeParentChidren(this.options.treeData, this.activeValue, direction));\n        }\n      }\n      e.preventDefault();\n    } else if (e === KeyCode.DOWN) {\n      this.expand();\n      e.preventDefault();\n    }\n  }\n\n  handleKeyDownEnter(e) {\n    if (this.popup && !this.editable) {\n      const value = this.activeValue;\n      if (this.isSelected(value)) {\n        this.unChoose(value);\n      } else if (value.children) {\n        this.setPopup(true);\n      } else if (value instanceof Record && !value.get(disabledField)) {\n        this.choose(value);\n      } else if (!value.disabled && isObject(value)) {\n        // @ts-ignore\n        this.choose(value);\n      }\n    }\n    e.preventDefault();\n  }\n\n  handleKeyDownEsc(e) {\n    if (this.popup) {\n      e.preventDefault();\n      this.collapse();\n    }\n  }\n\n  handleKeyDownSpace(e) {\n    if (!this.editable) {\n      e.preventDefault();\n      if (!this.popup) {\n        this.expand();\n      }\n    }\n  }\n\n  @autobind\n  handleBlur(e) {\n    if (!e.isDefaultPrevented()) {\n      super.handleBlur(e);\n      this.resetFilter();\n    }\n  }\n\n  expand() {\n    const { options } = this;\n    if (options && options.length) {\n      super.expand();\n    }\n  }\n\n  syncValueOnBlur(value) {\n    if (value) {\n      if (this.options instanceof DataSet) {\n        this.options.ready().then(() => {\n          const record = this.findByTextWithValue(value);\n          if (record) {\n            this.choose(record);\n          }\n        });\n      } else {\n        const record = this.findByTextWithValue(value);\n        if (record) {\n          this.choose(record);\n        }\n      }\n    } else if (!this.multiple) {\n      this.setValue(this.emptyValue);\n    }\n  }\n\n  findByTextWithValue(text): Record | undefined {\n    if (text) {\n      const found = this.findByText(text);\n      if (found) {\n        return found;\n      }\n    }\n  }\n\n  findByText(text): Record | undefined {\n    const { textField } = this;\n    const findTreeItem = (options, valueItem, index) => {\n      let sameItemTreeNode;\n      if (valueItem.length > 0) {\n        sameItemTreeNode = options.find(ele => {\n          return isSameLike(this.getRecordOrObjValue(ele, textField), isPlainObject(valueItem[index]) ? ObjectChainValue.get(valueItem[index], textField) : valueItem[index]);\n        });\n        if (sameItemTreeNode) {\n          if (sameItemTreeNode.children) {\n            return findTreeItem(sameItemTreeNode.children, valueItem, ++index);\n          }\n          return sameItemTreeNode;\n        }\n      }\n    };\n    const textArray = text.split('/');\n    if (textArray && textArray.length > 0) {\n      if (this.options instanceof DataSet) {\n        return findTreeItem(this.options.treeData, textArray, 0);\n      }\n      return findTreeItem(this.options, textArray, 0);\n    }\n  }\n\n\n  findByValue(value): Record | undefined {\n    const { valueField } = this;\n    const findTreeItem = (options, valueItem, index) => {\n      let sameItemTreeNode;\n      if (valueItem.length > 0) {\n        sameItemTreeNode = options.find(ele => {\n          return isSameLike(this.getRecordOrObjValue(ele, valueField), isPlainObject(valueItem[index]) ? ObjectChainValue.get(valueItem[index], valueField) : valueItem[index]);\n        });\n        if (sameItemTreeNode) {\n          if (sameItemTreeNode.children) {\n            return findTreeItem(sameItemTreeNode.children, valueItem, ++index);\n          }\n          return sameItemTreeNode;\n        }\n      }\n    };\n    value = getSimpleValue(value, valueField);\n    if (this.options instanceof DataSet) {\n      return findTreeItem(this.options.treeData, value, 0);\n    }\n    return findTreeItem(this.options, value, 0);\n  }\n\n\n  isSelected(record: Record) {\n    const { valueField } = this;\n    // 多值处理\n    if (this.multiple) {\n      return this.getValues().some(value => {\n        const simpleValue = getSimpleValue(value, valueField);\n        return arraySameLike(this.treeValueToArray(record), toJS(simpleValue));\n      });\n    }\n\n    const simpleValue = this.getValues();\n    return arraySameLike(this.treeValueToArray(record), simpleValue);\n  }\n\n  generateComboOption(value: string | any[], callback?: (text: string) => void): void {\n    const { textField } = this;\n    if (value) {\n      if (isArrayLike(value)) {\n        value.forEach(v => !isNil(v) && this.generateComboOption(v));\n      } else {\n        const found = this.findByText(value) || this.findByValue(value);\n        if (found) {\n          const text = found.get(textField);\n          if (text !== value && callback) {\n            callback(text);\n          }\n        }\n      }\n    }\n  }\n\n\n  handlePopupAnimateAppear() {\n  }\n\n  getValueKey(v) {\n    if (isArrayLike(v)) {\n      return v.map(this.getValueKey, this).join(',');\n    }\n    const autoType = this.getProp('type') === FieldType.auto;\n    const value = getSimpleValue(v, this.valueField);\n    return autoType && !isNil(value) ? value.toString() : value;\n  }\n\n  @autobind\n  handlePopupAnimateEnd(_key, _exists) {\n  }\n\n  // 触发下拉框的点击事件\n  @autobind\n  handleMenuClick(targetOption, _menuIndex, isClickTab) {\n    if (!targetOption || targetOption.disabled) {\n      return;\n    }\n    if (!this.isSelected(targetOption.value) || isClickTab) {\n      if (targetOption.children) {\n        this.setPopup(true);\n        this.setActiveValue(targetOption.value);\n        this.setIsClickTab(isClickTab);\n      } else {\n        if(!isClickTab){\n          this.setActiveValue(targetOption.value);\n          this.choose(targetOption.value);\n        }else{\n          this.setPopup(true);\n        }\n        this.setIsClickTab(isClickTab);\n      }\n    } else {\n      this.setactiveEmpty()\n      this.unChoose(targetOption.value);\n    }\n  }\n\n  setactiveEmpty(){\n    if(this.multiple){\n      this.setActiveValue([])\n    }else{\n      this.setActiveValue({})\n    }\n  }\n\n  handleOptionSelect(record: Record) {\n    this.prepareSetValue(this.processRecordToObject(record));\n  }\n\n  handleOptionUnSelect(record: Record) {\n    const newValue = this.treeValueToArray(record);\n    this.removeValue(newValue, -1);\n  }\n\n  // 移除所选值\n  removeValues(values: any[], index: number = 0) {\n    if (!this.multiple) {\n      const oldValues = this.getValues();\n      if (this.getValueKey(oldValues) === this.getValueKey(values[0])) {\n        if (index === -1) {\n          this.afterRemoveValue(values[0], 1);\n          this.setValue([]);\n        }\n      }\n    }\n    super.removeValues(values, index);\n    this.setActiveValue({});\n    this.collapse();\n  }\n\n  @action\n  setText(text?: string): void {\n    super.setText(text);\n  }\n\n\n  @autobind\n  @action\n  handleChange(e) {\n    const { value } = e.target;\n    this.setText(value);\n    if (this.observableProps.combo) {\n      this.generateComboOption(value, text => this.setText(text));\n    }\n    if (!this.popup) {\n      this.expand();\n    }\n  }\n\n  processRecordToObject(record: Record | ProcessOption) {\n    const { primitive } = this;\n    if (record instanceof Record && record.dataSet!.getFromTree(0)) {\n      return primitive ? this.treeValueToArray(record) : this.treeToArray(record);\n    }\n    if (isObject(record)) {\n      return primitive ? this.treeValueToArray(record) : this.treeToArray(record);\n    }\n  }\n\n  /**\n   * 返回tree 的值的列表方法\n   * @param record\n   * @param allArray\n   */\n  treeValueToArray(record: Record | ProcessOption, allArray?: string[]) {\n    const { valueField } = this;\n    if (!allArray) {\n      allArray = [];\n    }\n    if (record) {\n      allArray = [this.getRecordOrObjValue(record, valueField), ...allArray];\n    }\n    if (record.parent) {\n      return this.treeValueToArray(record.parent, allArray);\n    }\n    return allArray;\n  }\n\n  /**\n   * 返回tree 的值的列表方法\n   * @param record\n   * @param allArray\n   */\n  treeTextToArray(record: Record, allArray?: string[]) {\n    const { textField } = this;\n    if (!allArray) {\n      allArray = [];\n    }\n    if (record) {\n      allArray = [this.getRecordOrObjValue(record, textField), ...allArray];\n    }\n    if (record.parent) {\n      return this.treeTextToArray(record.parent, allArray);\n    }\n    return allArray;\n  }\n\n  /**\n   * 返回tree 的值的列表方法\n   * @param record\n   * @param allArray\n   */\n  treeToArray(record: Record | ProcessOption, allArray?: ProcessOption[] | Record[]) {\n    if (!allArray) {\n      allArray = [];\n    }\n    if (record) {\n      if (record instanceof Record) {\n        allArray = [record.toData(), ...allArray];\n      } else {\n        allArray = [this.removeObjParentChild(record), ...allArray];\n      }\n    }\n    if (record.parent) {\n      return this.treeToArray(record.parent, allArray);\n    }\n    return allArray;\n  }\n\n  removeObjParentChild(obj: any) {\n    if (isPlainObject(obj)) {\n      const cloneObj = cloneDeep(toJS(obj));\n      delete cloneObj.parent;\n      delete cloneObj.children;\n      return cloneObj;\n    }\n    return obj;\n  }\n\n  processObjectValue(value, textField) {\n    if (!isNil(value)) {\n      const found = this.findByValue(value);\n      if (found && isArrayLike(value)) {\n        return this.treeTextToArray(found);\n      }\n      if (isPlainObject(value)) {\n        return ObjectChainValue.get(value, textField);\n      }\n    }\n  }\n\n  processLookupValue(value) {\n    const { field, textField, primitive } = this;\n    const processvalue = this.processObjectValue(value, textField);\n    if (isArrayLike(processvalue)) {\n      return processvalue.join('/');\n    }\n    if (primitive && field) {\n      return super.processValue(field.getText(value));\n    }\n  }\n\n  // 处理value\n  processValue(value: any) {\n    const text = this.processLookupValue(value);\n    if (isEmptyUtil(text)) {\n      if (isPlainObject(value)) {\n        return ObjectChainValue.get(value, this.valueField) || '';\n      }\n      return super.processValue(value);\n    }\n    return text;\n  }\n\n  toValueString(value: any): string | undefined {\n    if (isArrayLike(value)) {\n      return value.join('/');\n    }\n    return value;\n  }\n\n  @action\n  clear() {\n    this.setText(undefined);\n    this.setActiveValue({});\n    super.clear();\n  }\n\n  addValue(...values) {\n    if (this.multiple) {\n      const oldValues = this.getValues();\n      if (values.length) {\n        const oldValuesJS = oldValues.map(item => toJS(item));\n        this.setValue([...oldValuesJS, ...values]);\n      } else if (!oldValues.length) {\n        this.setValue(this.emptyValue);\n      }\n    } else {\n      this.setValue(values.pop());\n    }\n  }\n\n  resetFilter() {\n    this.setText(undefined);\n    this.forcePopupAlign();\n  }\n\n  @autobind\n  reset() {\n    super.reset();\n    this.resetFilter();\n  }\n\n  unChoose(record?: Record | null) {\n    if (record) {\n      this.handleOptionUnSelect(record);\n    }\n  }\n\n  choose(record?: Record | null) {\n    if (!this.multiple) {\n      this.collapse();\n    }\n    if (record) {\n      this.handleOptionSelect(record);\n    }\n  }\n\n\n  @autobind\n  chooseAll() {\n    const chooseAll = [];\n    if (isArrayLike(this.options)) {\n      const findLeafItem = (option) => {\n        option.forEach((item: CascaderOptionType) => {\n          if (isEmpty(item.children) && !item.disabled) {\n            // @ts-ignore\n            chooseAll.push(this.processRecordToObject(item));\n          } else {\n            findLeafItem(item.children);\n          }\n        });\n      };\n      findLeafItem(this.options);\n    } else if (this.options instanceof DataSet) {\n      this.options.forEach(item => {\n        if (isEmpty(item.children) && !item.get(disabledField)) {\n          // @ts-ignore\n          chooseAll.push(this.processRecordToObject(item));\n        }\n      }, this);\n    }\n    this.setValue(chooseAll);\n  }\n\n  @autobind\n  unChooseAll() {\n    this.clear();\n  }\n\n  @autobind\n  async handlePopupHiddenChange(hidden: boolean) {\n    this.setIsClickTab(false);\n    if (!hidden) {\n      this.forcePopupAlign();\n    }\n    super.handlePopupHiddenChange(hidden);\n  }\n\n  async processSelectedData() {\n    const values = this.getValues();\n    const { field } = this;\n    if (field) {\n      await field.ready();\n    }\n    const {\n      observableProps: { combo },\n    } = this;\n    runInAction(() => {\n      const newValues = values.filter(value => {\n        const record = this.findByValue(value);\n        if (record) {\n          return true;\n        }\n        return false;\n      });\n      if (this.text && combo) {\n        this.generateComboOption(this.text);\n      }\n      if (\n        field &&\n        field.get('cascadeMap') &&\n        !isEqual(newValues, values)\n      ) {\n        this.setValue(this.multiple ? newValues : newValues[0]);\n      }\n    });\n  }\n}\n\n@observer\nexport default class ObserverCascader extends Cascader<CascaderProps> {\n  static defaultProps = Cascader.defaultProps;\n}\n"]}