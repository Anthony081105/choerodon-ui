{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/validator/rules/tooShort.tsx"],"names":[],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAEc,SAAU,QAAV,CAAmB,KAAnB,EAA+B,KAA/B,EAAoD;AAAA,MACxD,SADwD,GACf,KADe,CACxD,SADwD;AAAA,MAC7C,yBAD6C,GACf,KADe,CAC7C,yBAD6C;;AAEhE,MAAI,CAAC,yBAAQ,KAAR,CAAL,EAAqB;AAAA,0BACA,KAAK,CAAC,QAAN,EADA;AAAA,QACX,MADW,mBACX,MADW;;AAEnB,QAAI,CAAC,CAAC,SAAF,IAAe,SAAS,GAAG,CAA3B,IAAgC,MAAM,GAAG,SAA7C,EAAwD;AACtD,UAAM,gBAAgB,GAAG;AAAE,QAAA,SAAS,EAAT,SAAF;AAAa,QAAA,MAAM,EAAN;AAAb,OAAzB;AACA,UAAM,QAAQ,GAAG,UAAjB;AAFsD,kCAKlD,yBALkD,CAInD,QAJmD;AAAA,UAIxC,iBAJwC,sCAIpB,uBAAG,WAAH,EAAgB,WAAhB,CAJoB;AAMtD,aAAO,IAAI,4BAAJ,CAAqB;AAC1B,QAAA,iBAAiB,EAAE,qCAAoB,iBAApB,EAAuC,gBAAvC,CADO;AAE1B,QAAA,gBAAgB,EAAhB,gBAF0B;AAG1B,QAAA,KAAK,EAAL,KAH0B;AAI1B,QAAA,QAAQ,EAAR;AAJ0B,OAArB,CAAP;AAMD;AACF;;AACD,SAAO,IAAP;AACD","sourcesContent":["import isEmpty from '../../_util/isEmpty';\nimport ValidationResult from '../ValidationResult';\nimport { $l } from '../../locale-context';\nimport { methodReturn, ValidatorProps } from '.';\nimport formatReactTemplate from '../../formatter/formatReactTemplate';\n\nexport default function tooShort(value: any, props: ValidatorProps): methodReturn {\n  const { minLength, defaultValidationMessages } = props;\n  if (!isEmpty(value)) {\n    const { length } = value.toString();\n    if (!!minLength && minLength > 0 && length < minLength) {\n      const injectionOptions = { minLength, length };\n      const ruleName = 'tooShort';\n      const {\n        [ruleName]: validationMessage = $l('Validator', 'too_short'),\n      } = defaultValidationMessages;\n      return new ValidationResult({\n        validationMessage: formatReactTemplate(validationMessage, injectionOptions),\n        injectionOptions,\n        value,\n        ruleName,\n      });\n    }\n  }\n  return true;\n}\n"]}