8ebd00bf300b6bed65669d7f9a74ba5b
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = tooShort;

var _isEmpty = _interopRequireDefault(require("../../_util/isEmpty"));

var _ValidationResult = _interopRequireDefault(require("../ValidationResult"));

var _localeContext = require("../../locale-context");

var _formatReactTemplate = _interopRequireDefault(require("../../formatter/formatReactTemplate"));

function tooShort(value, props) {
  var minLength = props.minLength,
      defaultValidationMessages = props.defaultValidationMessages;

  if (!(0, _isEmpty["default"])(value)) {
    var _value$toString = value.toString(),
        length = _value$toString.length;

    if (!!minLength && minLength > 0 && length < minLength) {
      var injectionOptions = {
        minLength: minLength,
        length: length
      };
      var ruleName = 'tooShort';
      var _defaultValidationMes = defaultValidationMessages[ruleName],
          validationMessage = _defaultValidationMes === void 0 ? (0, _localeContext.$l)('Validator', 'too_short') : _defaultValidationMes;
      return new _ValidationResult["default"]({
        validationMessage: (0, _formatReactTemplate["default"])(validationMessage, injectionOptions),
        injectionOptions: injectionOptions,
        value: value,
        ruleName: ruleName
      });
    }
  }

  return true;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9odWlodWF3ay9Eb2N1bWVudHMvb3B0L2Nob2Vyb2Rvbi11aS9jb21wb25lbnRzLXByby92YWxpZGF0b3IvcnVsZXMvdG9vU2hvcnQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBOztBQUVjLFNBQVUsUUFBVixDQUFtQixLQUFuQixFQUErQixLQUEvQixFQUFvRDtBQUFBLE1BQ3hELFNBRHdELEdBQ2YsS0FEZSxDQUN4RCxTQUR3RDtBQUFBLE1BQzdDLHlCQUQ2QyxHQUNmLEtBRGUsQ0FDN0MseUJBRDZDOztBQUVoRSxNQUFJLENBQUMseUJBQVEsS0FBUixDQUFMLEVBQXFCO0FBQUEsMEJBQ0EsS0FBSyxDQUFDLFFBQU4sRUFEQTtBQUFBLFFBQ1gsTUFEVyxtQkFDWCxNQURXOztBQUVuQixRQUFJLENBQUMsQ0FBQyxTQUFGLElBQWUsU0FBUyxHQUFHLENBQTNCLElBQWdDLE1BQU0sR0FBRyxTQUE3QyxFQUF3RDtBQUN0RCxVQUFNLGdCQUFnQixHQUFHO0FBQUUsUUFBQSxTQUFTLEVBQVQsU0FBRjtBQUFhLFFBQUEsTUFBTSxFQUFOO0FBQWIsT0FBekI7QUFDQSxVQUFNLFFBQVEsR0FBRyxVQUFqQjtBQUZzRCxrQ0FLbEQseUJBTGtELENBSW5ELFFBSm1EO0FBQUEsVUFJeEMsaUJBSndDLHNDQUlwQix1QkFBRyxXQUFILEVBQWdCLFdBQWhCLENBSm9CO0FBTXRELGFBQU8sSUFBSSw0QkFBSixDQUFxQjtBQUMxQixRQUFBLGlCQUFpQixFQUFFLHFDQUFvQixpQkFBcEIsRUFBdUMsZ0JBQXZDLENBRE87QUFFMUIsUUFBQSxnQkFBZ0IsRUFBaEIsZ0JBRjBCO0FBRzFCLFFBQUEsS0FBSyxFQUFMLEtBSDBCO0FBSTFCLFFBQUEsUUFBUSxFQUFSO0FBSjBCLE9BQXJCLENBQVA7QUFNRDtBQUNGOztBQUNELFNBQU8sSUFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGlzRW1wdHkgZnJvbSAnLi4vLi4vX3V0aWwvaXNFbXB0eSc7XG5pbXBvcnQgVmFsaWRhdGlvblJlc3VsdCBmcm9tICcuLi9WYWxpZGF0aW9uUmVzdWx0JztcbmltcG9ydCB7ICRsIH0gZnJvbSAnLi4vLi4vbG9jYWxlLWNvbnRleHQnO1xuaW1wb3J0IHsgbWV0aG9kUmV0dXJuLCBWYWxpZGF0b3JQcm9wcyB9IGZyb20gJy4nO1xuaW1wb3J0IGZvcm1hdFJlYWN0VGVtcGxhdGUgZnJvbSAnLi4vLi4vZm9ybWF0dGVyL2Zvcm1hdFJlYWN0VGVtcGxhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b29TaG9ydCh2YWx1ZTogYW55LCBwcm9wczogVmFsaWRhdG9yUHJvcHMpOiBtZXRob2RSZXR1cm4ge1xuICBjb25zdCB7IG1pbkxlbmd0aCwgZGVmYXVsdFZhbGlkYXRpb25NZXNzYWdlcyB9ID0gcHJvcHM7XG4gIGlmICghaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICBjb25zdCB7IGxlbmd0aCB9ID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICBpZiAoISFtaW5MZW5ndGggJiYgbWluTGVuZ3RoID4gMCAmJiBsZW5ndGggPCBtaW5MZW5ndGgpIHtcbiAgICAgIGNvbnN0IGluamVjdGlvbk9wdGlvbnMgPSB7IG1pbkxlbmd0aCwgbGVuZ3RoIH07XG4gICAgICBjb25zdCBydWxlTmFtZSA9ICd0b29TaG9ydCc7XG4gICAgICBjb25zdCB7XG4gICAgICAgIFtydWxlTmFtZV06IHZhbGlkYXRpb25NZXNzYWdlID0gJGwoJ1ZhbGlkYXRvcicsICd0b29fc2hvcnQnKSxcbiAgICAgIH0gPSBkZWZhdWx0VmFsaWRhdGlvbk1lc3NhZ2VzO1xuICAgICAgcmV0dXJuIG5ldyBWYWxpZGF0aW9uUmVzdWx0KHtcbiAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2U6IGZvcm1hdFJlYWN0VGVtcGxhdGUodmFsaWRhdGlvbk1lc3NhZ2UsIGluamVjdGlvbk9wdGlvbnMpLFxuICAgICAgICBpbmplY3Rpb25PcHRpb25zLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgcnVsZU5hbWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG4iXX0=