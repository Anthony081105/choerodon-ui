3cef996783bcbffa425d7b71eab99fe7
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _moment = _interopRequireDefault(require("moment"));

var _mockdate = _interopRequireDefault(require("mockdate"));

var _ = require("../..");

var _en_GB = _interopRequireDefault(require("../en_GB"));

var _fr_FR = _interopRequireDefault(require("../fr_FR"));

var _nl_BE = _interopRequireDefault(require("../nl_BE"));

var _it_IT = _interopRequireDefault(require("../it_IT"));

var _en_US = _interopRequireDefault(require("../en_US"));

var _pt_BR = _interopRequireDefault(require("../pt_BR"));

var _pt_PT = _interopRequireDefault(require("../pt_PT"));

var _ru_RU = _interopRequireDefault(require("../ru_RU"));

var _es_ES = _interopRequireDefault(require("../es_ES"));

var _sv_SE = _interopRequireDefault(require("../sv_SE"));

var _fr_BE = _interopRequireDefault(require("../fr_BE"));

var _de_DE = _interopRequireDefault(require("../de_DE"));

var _nl_NL = _interopRequireDefault(require("../nl_NL"));

var _ca_ES = _interopRequireDefault(require("../ca_ES"));

var _cs_CZ = _interopRequireDefault(require("../cs_CZ"));

var _ko_KR = _interopRequireDefault(require("../ko_KR"));

var _et_EE = _interopRequireDefault(require("../et_EE"));

var _sk_SK = _interopRequireDefault(require("../sk_SK"));

var _ja_JP = _interopRequireDefault(require("../ja_JP"));

var _tr_TR = _interopRequireDefault(require("../tr_TR"));

var _zh_TW = _interopRequireDefault(require("../zh_TW"));

var _fi_FI = _interopRequireDefault(require("../fi_FI"));

var _pl_PL = _interopRequireDefault(require("../pl_PL"));

var _bg_BG = _interopRequireDefault(require("../bg_BG"));

var _vi_VN = _interopRequireDefault(require("../vi_VN"));

var _th_TH = _interopRequireDefault(require("../th_TH"));

var _fa_IR = _interopRequireDefault(require("../fa_IR"));

var _el_GR = _interopRequireDefault(require("../el_GR"));

var _nb_NO = _interopRequireDefault(require("../nb_NO"));

var _sr_RS = _interopRequireDefault(require("../sr_RS"));

var _sl_SI = _interopRequireDefault(require("../sl_SI"));

var _is_IS = _interopRequireDefault(require("../is_IS"));

var _ar_EG = _interopRequireDefault(require("../ar_EG"));

var _uk_UA = _interopRequireDefault(require("../uk_UA"));

var _zh_CN = _interopRequireDefault(require("../zh_CN"));

var _ku_IQ = _interopRequireDefault(require("../ku_IQ"));

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var locales = [_en_US["default"], _pt_BR["default"], _pt_PT["default"], _ru_RU["default"], _es_ES["default"], _sv_SE["default"], _fr_BE["default"], _de_DE["default"], _nl_NL["default"], _ca_ES["default"], _cs_CZ["default"], _ko_KR["default"], _et_EE["default"], _sk_SK["default"], _ja_JP["default"], _tr_TR["default"], _zh_TW["default"], _fi_FI["default"], _pl_PL["default"], _bg_BG["default"], _en_GB["default"], _fr_FR["default"], _nl_BE["default"], _it_IT["default"], _vi_VN["default"], _th_TH["default"], _fa_IR["default"], _el_GR["default"], _nb_NO["default"], _sr_RS["default"], _sl_SI["default"], _is_IS["default"], _ar_EG["default"], _uk_UA["default"], _zh_CN["default"], _ku_IQ["default"]];
var Option = _.Select.Option;
var RangePicker = _.DatePicker.RangePicker;
var columns = [{
  title: 'Name',
  dataIndex: 'name',
  filters: [{
    text: 'filter1',
    value: 'filter1'
  }]
}, {
  title: 'Age',
  dataIndex: 'age'
}];

var App = function App() {
  return _react["default"].createElement("div", null, _react["default"].createElement(_.Pagination, {
    defaultCurrent: 1,
    total: 50,
    showSizeChanger: true
  }), _react["default"].createElement(_.Select, {
    showSearch: true,
    style: {
      width: 200
    }
  }, _react["default"].createElement(Option, {
    value: "jack"
  }, "jack"), _react["default"].createElement(Option, {
    value: "lucy"
  }, "lucy")), _react["default"].createElement(_.DatePicker, {
    open: true
  }), _react["default"].createElement(_.TimePicker, {
    open: true,
    defaultOpenValue: (0, _moment["default"])()
  }), _react["default"].createElement(RangePicker, {
    open: true,
    style: {
      width: 200
    }
  }), _react["default"].createElement(_.Popconfirm, {
    title: "Question?",
    visible: true
  }, _react["default"].createElement("a", null, "Click to confirm")), _react["default"].createElement(_.Transfer, {
    dataSource: [],
    showSearch: true,
    targetKeys: [],
    render: function render(item) {
      return item.title;
    }
  }), _react["default"].createElement(_.Calendar, {
    fullscreen: false,
    value: (0, _moment["default"])()
  }), _react["default"].createElement(_.Table, {
    dataSource: [],
    columns: columns
  }), _react["default"].createElement(_.Modal, {
    title: "Locale Modal",
    visible: true
  }, _react["default"].createElement("p", null, "Locale Modal")));
};

describe('Locale Provider', function () {
  beforeAll(function () {
    _mockdate["default"].set((0, _moment["default"])('2017-09-18T03:30:07.795'));
  });
  afterAll(function () {
    _mockdate["default"].reset();
  });
  locales.forEach(function (locale) {
    it("should display the text as ".concat(locale.locale), function () {
      var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_.LocaleProvider, {
        locale: locale
      }, _react["default"].createElement(App, null)));
      expect(wrapper.render()).toMatchSnapshot();
    });
  });
  it('should change locale of Modal.xxx', function () {
    var ModalDemo =
    /*#__PURE__*/
    function (_React$Component) {
      (0, _inherits2["default"])(ModalDemo, _React$Component);

      var _super = _createSuper(ModalDemo);

      function ModalDemo() {
        (0, _classCallCheck2["default"])(this, ModalDemo);
        return _super.apply(this, arguments);
      }

      (0, _createClass2["default"])(ModalDemo, [{
        key: "componentDidMount",
        value: function componentDidMount() {
          _.Modal.confirm({
            title: 'Hello World!'
          });
        }
      }, {
        key: "render",
        value: function render() {
          return null;
        }
      }]);
      return ModalDemo;
    }(_react["default"].Component);

    locales.forEach(function (locale) {
      (0, _enzyme.mount)(_react["default"].createElement(_.LocaleProvider, {
        locale: locale
      }, _react["default"].createElement(ModalDemo, null)));
      var currentConfirmNode = document.querySelectorAll('.c7n-confirm')[document.querySelectorAll('.c7n-confirm').length - 1];
      var cancelButtonText = currentConfirmNode.querySelectorAll('.c7n-btn:not(.c7n-btn-primary) span')[0].innerHTML;
      var okButtonText = currentConfirmNode.querySelectorAll('.c7n-btn-primary span')[0].innerHTML;

      if (locale.locale === 'zh-cn') {
        cancelButtonText = cancelButtonText.replace(' ', '');
        okButtonText = okButtonText.replace(' ', '');
      }

      expect(cancelButtonText).toBe(locale.Modal.cancelText);
      expect(okButtonText).toBe(locale.Modal.okText);
    });
  });
  it('set moment locale when locale changes', function () {
    var Test =
    /*#__PURE__*/
    function (_React$Component2) {
      (0, _inherits2["default"])(Test, _React$Component2);

      var _super2 = _createSuper(Test);

      function Test() {
        var _this;

        (0, _classCallCheck2["default"])(this, Test);

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _super2.call.apply(_super2, [this].concat(args));
        (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "state", {
          locale: _zh_CN["default"]
        });
        return _this;
      }

      (0, _createClass2["default"])(Test, [{
        key: "render",
        value: function render() {
          var locale = this.state.locale;
          return _react["default"].createElement(_.LocaleProvider, {
            locale: locale
          }, _react["default"].createElement("div", null, _react["default"].createElement(_.DatePicker, {
            defaultValue: (0, _moment["default"])(),
            open: true
          })));
        }
      }]);
      return Test;
    }(_react["default"].Component);

    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(Test, null));
    expect(wrapper.render()).toMatchSnapshot();
    wrapper.setState({
      locale: _fr_FR["default"]
    });
    expect(wrapper.render()).toMatchSnapshot();
    wrapper.setState({
      locale: null
    });
    expect(wrapper.render()).toMatchSnapshot();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsibG9jYWxlcyIsImVuVVMiLCJwdEJSIiwicHRQVCIsInJ1UlUiLCJlc0VTIiwic3ZTRSIsImZyQkUiLCJkZURFIiwibmxOTCIsImNhRVMiLCJjc0NaIiwia29LUiIsImV0RUUiLCJza1NLIiwiamFKUCIsInRyVFIiLCJ6aFRXIiwiZmlGSSIsInBsUEwiLCJiZ0JHIiwiZW5HQiIsImZyRlIiLCJubEJFIiwiaXRJVCIsInZpVk4iLCJ0aFRIIiwiZmFJUiIsImVsR1IiLCJuYk5PIiwic3JSUyIsInNsU0kiLCJpc0lTIiwiYXJFRyIsInVrVUEiLCJ6aENOIiwia3VJUSIsIk9wdGlvbiIsIlNlbGVjdCIsIlJhbmdlUGlja2VyIiwiRGF0ZVBpY2tlciIsImNvbHVtbnMiLCJ0aXRsZSIsImRhdGFJbmRleCIsImZpbHRlcnMiLCJ0ZXh0IiwidmFsdWUiLCJBcHAiLCJ3aWR0aCIsIml0ZW0iLCJkZXNjcmliZSIsImJlZm9yZUFsbCIsIk1vY2tEYXRlIiwic2V0IiwiYWZ0ZXJBbGwiLCJyZXNldCIsImZvckVhY2giLCJsb2NhbGUiLCJpdCIsIndyYXBwZXIiLCJleHBlY3QiLCJyZW5kZXIiLCJ0b01hdGNoU25hcHNob3QiLCJNb2RhbERlbW8iLCJNb2RhbCIsImNvbmZpcm0iLCJSZWFjdCIsIkNvbXBvbmVudCIsImN1cnJlbnRDb25maXJtTm9kZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImNhbmNlbEJ1dHRvblRleHQiLCJpbm5lckhUTUwiLCJva0J1dHRvblRleHQiLCJyZXBsYWNlIiwidG9CZSIsImNhbmNlbFRleHQiLCJva1RleHQiLCJUZXN0Iiwic3RhdGUiLCJzZXRTdGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBWUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FB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QUMxQ3FCLElBRDBDO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUEsa0dBRXRDO0FBQ050QixVQUFBQSxNQUFNLEVBQUV0QjtBQURGLFNBRnNDO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUEsaUNBTXJDO0FBQUEsY0FDQ3NCLE1BREQsR0FDWSxLQUFLdUIsS0FEakIsQ0FDQ3ZCLE1BREQ7QUFFUCxpQkFDRSxnQ0FBQyxnQkFBRDtBQUFnQixZQUFBLE1BQU0sRUFBRUE7QUFBeEIsYUFDRSw2Q0FDRSxnQ0FBQyxZQUFEO0FBQVksWUFBQSxZQUFZLEVBQUUseUJBQTFCO0FBQW9DLFlBQUEsSUFBSTtBQUF4QyxZQURGLENBREYsQ0FERjtBQU9EO0FBZjZDO0FBQUE7QUFBQSxNQUM3QlMsa0JBQU1DLFNBRHVCOztBQWlCaEQsUUFBTVIsT0FBTyxHQUFHLG1CQUFNLGdDQUFDLElBQUQsT0FBTixDQUFoQjtBQUNBQyxJQUFBQSxNQUFNLENBQUNELE9BQU8sQ0FBQ0UsTUFBUixFQUFELENBQU4sQ0FBeUJDLGVBQXpCO0FBQ0FILElBQUFBLE9BQU8sQ0FBQ3NCLFFBQVIsQ0FBaUI7QUFBRXhCLE1BQUFBLE1BQU0sRUFBRW5DO0FBQVYsS0FBakI7QUFDQXNDLElBQUFBLE1BQU0sQ0FBQ0QsT0FBTyxDQUFDRSxNQUFSLEVBQUQsQ0FBTixDQUF5QkMsZUFBekI7QUFDQUgsSUFBQUEsT0FBTyxDQUFDc0IsUUFBUixDQUFpQjtBQUFFeEIsTUFBQUEsTUFBTSxFQUFFO0FBQVYsS0FBakI7QUFDQUcsSUFBQUEsTUFBTSxDQUFDRCxPQUFPLENBQUNFLE1BQVIsRUFBRCxDQUFOLENBQXlCQyxlQUF6QjtBQUNELEdBdkJDLENBQUY7QUF3QkQsQ0E5RU8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLW11bHRpLWNvbXAgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtb3VudCB9IGZyb20gJ2VuenltZSc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgTW9ja0RhdGUgZnJvbSAnbW9ja2RhdGUnO1xuaW1wb3J0IHtcbiAgTG9jYWxlUHJvdmlkZXIsXG4gIFBhZ2luYXRpb24sXG4gIERhdGVQaWNrZXIsXG4gIFRpbWVQaWNrZXIsXG4gIENhbGVuZGFyLFxuICBQb3Bjb25maXJtLFxuICBUYWJsZSxcbiAgTW9kYWwsXG4gIFNlbGVjdCxcbiAgVHJhbnNmZXIsXG59IGZyb20gJy4uLy4uJztcbmltcG9ydCBlbkdCIGZyb20gJy4uL2VuX0dCJztcbmltcG9ydCBmckZSIGZyb20gJy4uL2ZyX0ZSJztcbmltcG9ydCBubEJFIGZyb20gJy4uL25sX0JFJztcbmltcG9ydCBpdElUIGZyb20gJy4uL2l0X0lUJztcbmltcG9ydCBlblVTIGZyb20gJy4uL2VuX1VTJztcbmltcG9ydCBwdEJSIGZyb20gJy4uL3B0X0JSJztcbmltcG9ydCBwdFBUIGZyb20gJy4uL3B0X1BUJztcbmltcG9ydCBydVJVIGZyb20gJy4uL3J1X1JVJztcbmltcG9ydCBlc0VTIGZyb20gJy4uL2VzX0VTJztcbmltcG9ydCBzdlNFIGZyb20gJy4uL3N2X1NFJztcbmltcG9ydCBmckJFIGZyb20gJy4uL2ZyX0JFJztcbmltcG9ydCBkZURFIGZyb20gJy4uL2RlX0RFJztcbmltcG9ydCBubE5MIGZyb20gJy4uL25sX05MJztcbmltcG9ydCBjYUVTIGZyb20gJy4uL2NhX0VTJztcbmltcG9ydCBjc0NaIGZyb20gJy4uL2NzX0NaJztcbmltcG9ydCBrb0tSIGZyb20gJy4uL2tvX0tSJztcbmltcG9ydCBldEVFIGZyb20gJy4uL2V0X0VFJztcbmltcG9ydCBza1NLIGZyb20gJy4uL3NrX1NLJztcbmltcG9ydCBqYUpQIGZyb20gJy4uL2phX0pQJztcbmltcG9ydCB0clRSIGZyb20gJy4uL3RyX1RSJztcbmltcG9ydCB6aFRXIGZyb20gJy4uL3poX1RXJztcbmltcG9ydCBmaUZJIGZyb20gJy4uL2ZpX0ZJJztcbmltcG9ydCBwbFBMIGZyb20gJy4uL3BsX1BMJztcbmltcG9ydCBiZ0JHIGZyb20gJy4uL2JnX0JHJztcbmltcG9ydCB2aVZOIGZyb20gJy4uL3ZpX1ZOJztcbmltcG9ydCB0aFRIIGZyb20gJy4uL3RoX1RIJztcbmltcG9ydCBmYUlSIGZyb20gJy4uL2ZhX0lSJztcbmltcG9ydCBlbEdSIGZyb20gJy4uL2VsX0dSJztcbmltcG9ydCBuYk5PIGZyb20gJy4uL25iX05PJztcbmltcG9ydCBzclJTIGZyb20gJy4uL3NyX1JTJztcbmltcG9ydCBzbFNJIGZyb20gJy4uL3NsX1NJJztcbmltcG9ydCBpc0lTIGZyb20gJy4uL2lzX0lTJztcbmltcG9ydCBhckVHIGZyb20gJy4uL2FyX0VHJztcbmltcG9ydCB1a1VBIGZyb20gJy4uL3VrX1VBJztcbmltcG9ydCB6aENOIGZyb20gJy4uL3poX0NOJztcbmltcG9ydCBrdUlRIGZyb20gJy4uL2t1X0lRJztcblxuY29uc3QgbG9jYWxlcyA9IFtcbiAgZW5VUyxcbiAgcHRCUixcbiAgcHRQVCxcbiAgcnVSVSxcbiAgZXNFUyxcbiAgc3ZTRSxcbiAgZnJCRSxcbiAgZGVERSxcbiAgbmxOTCxcbiAgY2FFUyxcbiAgY3NDWixcbiAga29LUixcbiAgZXRFRSxcbiAgc2tTSyxcbiAgamFKUCxcbiAgdHJUUixcbiAgemhUVyxcbiAgZmlGSSxcbiAgcGxQTCxcbiAgYmdCRyxcbiAgZW5HQixcbiAgZnJGUixcbiAgbmxCRSxcbiAgaXRJVCxcbiAgdmlWTixcbiAgdGhUSCxcbiAgZmFJUixcbiAgZWxHUixcbiAgbmJOTyxcbiAgc3JSUyxcbiAgc2xTSSxcbiAgaXNJUyxcbiAgYXJFRyxcbiAgdWtVQSxcbiAgemhDTixcbiAga3VJUSxcbl07XG5cbmNvbnN0IHsgT3B0aW9uIH0gPSBTZWxlY3Q7XG5jb25zdCB7IFJhbmdlUGlja2VyIH0gPSBEYXRlUGlja2VyO1xuXG5jb25zdCBjb2x1bW5zID0gW1xuICB7XG4gICAgdGl0bGU6ICdOYW1lJyxcbiAgICBkYXRhSW5kZXg6ICduYW1lJyxcbiAgICBmaWx0ZXJzOiBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdmaWx0ZXIxJyxcbiAgICAgICAgdmFsdWU6ICdmaWx0ZXIxJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnQWdlJyxcbiAgICBkYXRhSW5kZXg6ICdhZ2UnLFxuICB9LFxuXTtcblxuY29uc3QgQXBwID0gKCkgPT4gKFxuICA8ZGl2PlxuICAgIDxQYWdpbmF0aW9uIGRlZmF1bHRDdXJyZW50PXsxfSB0b3RhbD17NTB9IHNob3dTaXplQ2hhbmdlciAvPlxuICAgIDxTZWxlY3Qgc2hvd1NlYXJjaCBzdHlsZT17eyB3aWR0aDogMjAwIH19PlxuICAgICAgPE9wdGlvbiB2YWx1ZT1cImphY2tcIj5qYWNrPC9PcHRpb24+XG4gICAgICA8T3B0aW9uIHZhbHVlPVwibHVjeVwiPmx1Y3k8L09wdGlvbj5cbiAgICA8L1NlbGVjdD5cbiAgICA8RGF0ZVBpY2tlciBvcGVuIC8+XG4gICAgPFRpbWVQaWNrZXIgb3BlbiBkZWZhdWx0T3BlblZhbHVlPXttb21lbnQoKX0gLz5cbiAgICA8UmFuZ2VQaWNrZXIgb3BlbiBzdHlsZT17eyB3aWR0aDogMjAwIH19IC8+XG4gICAgPFBvcGNvbmZpcm0gdGl0bGU9XCJRdWVzdGlvbj9cIiB2aXNpYmxlPlxuICAgICAgPGE+Q2xpY2sgdG8gY29uZmlybTwvYT5cbiAgICA8L1BvcGNvbmZpcm0+XG4gICAgPFRyYW5zZmVyIGRhdGFTb3VyY2U9e1tdfSBzaG93U2VhcmNoIHRhcmdldEtleXM9e1tdfSByZW5kZXI9e2l0ZW0gPT4gaXRlbS50aXRsZX0gLz5cbiAgICA8Q2FsZW5kYXIgZnVsbHNjcmVlbj17ZmFsc2V9IHZhbHVlPXttb21lbnQoKX0gLz5cbiAgICA8VGFibGUgZGF0YVNvdXJjZT17W119IGNvbHVtbnM9e2NvbHVtbnN9IC8+XG4gICAgPE1vZGFsIHRpdGxlPVwiTG9jYWxlIE1vZGFsXCIgdmlzaWJsZT5cbiAgICAgIDxwPkxvY2FsZSBNb2RhbDwvcD5cbiAgICA8L01vZGFsPlxuICA8L2Rpdj5cbik7XG5cbmRlc2NyaWJlKCdMb2NhbGUgUHJvdmlkZXInLCAoKSA9PiB7XG4gIGJlZm9yZUFsbCgoKSA9PiB7XG4gICAgTW9ja0RhdGUuc2V0KG1vbWVudCgnMjAxNy0wOS0xOFQwMzozMDowNy43OTUnKSk7XG4gIH0pO1xuXG4gIGFmdGVyQWxsKCgpID0+IHtcbiAgICBNb2NrRGF0ZS5yZXNldCgpO1xuICB9KTtcblxuICBsb2NhbGVzLmZvckVhY2gobG9jYWxlID0+IHtcbiAgICBpdChgc2hvdWxkIGRpc3BsYXkgdGhlIHRleHQgYXMgJHtsb2NhbGUubG9jYWxlfWAsICgpID0+IHtcbiAgICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChcbiAgICAgICAgPExvY2FsZVByb3ZpZGVyIGxvY2FsZT17bG9jYWxlfT5cbiAgICAgICAgICA8QXBwIC8+XG4gICAgICAgIDwvTG9jYWxlUHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICAgIGV4cGVjdCh3cmFwcGVyLnJlbmRlcigpKS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBjaGFuZ2UgbG9jYWxlIG9mIE1vZGFsLnh4eCcsICgpID0+IHtcbiAgICBjbGFzcyBNb2RhbERlbW8gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIE1vZGFsLmNvbmZpcm0oe1xuICAgICAgICAgIHRpdGxlOiAnSGVsbG8gV29ybGQhJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGxvY2FsZXMuZm9yRWFjaChsb2NhbGUgPT4ge1xuICAgICAgbW91bnQoXG4gICAgICAgIDxMb2NhbGVQcm92aWRlciBsb2NhbGU9e2xvY2FsZX0+XG4gICAgICAgICAgPE1vZGFsRGVtbyAvPlxuICAgICAgICA8L0xvY2FsZVByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgICBjb25zdCBjdXJyZW50Q29uZmlybU5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYzduLWNvbmZpcm0nKVtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmM3bi1jb25maXJtJykubGVuZ3RoIC0gMVxuICAgICAgXTtcbiAgICAgIGxldCBjYW5jZWxCdXR0b25UZXh0ID0gY3VycmVudENvbmZpcm1Ob2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICcuYzduLWJ0bjpub3QoLmM3bi1idG4tcHJpbWFyeSkgc3BhbicsXG4gICAgICApWzBdLmlubmVySFRNTDtcbiAgICAgIGxldCBva0J1dHRvblRleHQgPSBjdXJyZW50Q29uZmlybU5vZGUucXVlcnlTZWxlY3RvckFsbCgnLmM3bi1idG4tcHJpbWFyeSBzcGFuJylbMF0uaW5uZXJIVE1MO1xuICAgICAgaWYgKGxvY2FsZS5sb2NhbGUgPT09ICd6aC1jbicpIHtcbiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dCA9IGNhbmNlbEJ1dHRvblRleHQucmVwbGFjZSgnICcsICcnKTtcbiAgICAgICAgb2tCdXR0b25UZXh0ID0gb2tCdXR0b25UZXh0LnJlcGxhY2UoJyAnLCAnJyk7XG4gICAgICB9XG4gICAgICBleHBlY3QoY2FuY2VsQnV0dG9uVGV4dCkudG9CZShsb2NhbGUuTW9kYWwuY2FuY2VsVGV4dCk7XG4gICAgICBleHBlY3Qob2tCdXR0b25UZXh0KS50b0JlKGxvY2FsZS5Nb2RhbC5va1RleHQpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2V0IG1vbWVudCBsb2NhbGUgd2hlbiBsb2NhbGUgY2hhbmdlcycsICgpID0+IHtcbiAgICBjbGFzcyBUZXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAgIHN0YXRlID0ge1xuICAgICAgICBsb2NhbGU6IHpoQ04sXG4gICAgICB9O1xuXG4gICAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgbG9jYWxlIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMb2NhbGVQcm92aWRlciBsb2NhbGU9e2xvY2FsZX0+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8RGF0ZVBpY2tlciBkZWZhdWx0VmFsdWU9e21vbWVudCgpfSBvcGVuIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0xvY2FsZVByb3ZpZGVyPlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPFRlc3QgLz4pO1xuICAgIGV4cGVjdCh3cmFwcGVyLnJlbmRlcigpKS50b01hdGNoU25hcHNob3QoKTtcbiAgICB3cmFwcGVyLnNldFN0YXRlKHsgbG9jYWxlOiBmckZSIH0pO1xuICAgIGV4cGVjdCh3cmFwcGVyLnJlbmRlcigpKS50b01hdGNoU25hcHNob3QoKTtcbiAgICB3cmFwcGVyLnNldFN0YXRlKHsgbG9jYWxlOiBudWxsIH0pO1xuICAgIGV4cGVjdCh3cmFwcGVyLnJlbmRlcigpKS50b01hdGNoU25hcHNob3QoKTtcbiAgfSk7XG59KTtcbiJdfQ==