{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/code-area/lint/json.tsx"],"names":[],"mappings":";;;;AAEA;;AAEA,IAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,EAAA,OAAO,CAAC,gCAAD,CAAP;;AACA,EAAA,OAAO,CAAC,4BAAD,CAAP;;AACA,MAAM,UAAU,GAAG,OAAO,CAAC,YAAD,CAA1B;;AAEA,EAAA,UAAU,CAAC,cAAX,CAA0B,MAA1B,EAAkC,MAAlC,EAA0C,UAAS,IAAT,EAAa;AACrD,QAAM,KAAK,GAAiB,EAA5B;AACA,QAAM,QAAQ,GAAG,wBAAY,MAAZ,IAAsB,uBAAvC;;AACA,IAAA,QAAQ,CAAC,UAAT,GAAsB,UAAS,GAAT,QAAqB;AAAA,UAAL,GAAK,QAAL,GAAK;AACzC,MAAA,KAAK,CAAC,IAAN,CAAW;AACT,QAAA,IAAI,EAAE,UAAU,CAAC,GAAX,CAAe,GAAG,CAAC,UAAJ,GAAiB,CAAhC,EAAmC,GAAG,CAAC,YAAvC,CADG;AAET,QAAA,EAAE,EAAE,UAAU,CAAC,GAAX,CAAe,GAAG,CAAC,SAAJ,GAAgB,CAA/B,EAAkC,GAAG,CAAC,WAAtC,CAFK;AAGT,QAAA,OAAO,EAAE;AAHA,OAAX;AAKD,KAND;;AAOA,QAAI;AACF,MAAA,QAAQ,CAAC,KAAT,CAAe,IAAf,EADE,CAEF;AACD,KAHD,CAGE,OAAO,CAAP,EAAU,CAAE;;AACd,WAAO,KAAP;AACD,GAfD;AAgBD","sourcesContent":["/* eslint-disable global-require */\nimport { Annotation } from 'codemirror';\nimport jsonlintMod from 'jsonlint-mod';\n\nif (typeof window !== 'undefined') {\n  require('codemirror/addon/lint/lint.css');\n  require('codemirror/addon/lint/lint');\n  const CodeMirror = require('codemirror');\n\n  CodeMirror.registerHelper('lint', 'json', function(text) {\n    const found: Annotation[] = [];\n    const jsonlint = jsonlintMod.parser || jsonlintMod;\n    jsonlint.parseError = function(str, { loc }) {\n      found.push({\n        from: CodeMirror.Pos(loc.first_line - 1, loc.first_column),\n        to: CodeMirror.Pos(loc.last_line - 1, loc.last_column),\n        message: str,\n      });\n    };\n    try {\n      jsonlint.parse(text);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n    return found;\n  });\n}\n"]}