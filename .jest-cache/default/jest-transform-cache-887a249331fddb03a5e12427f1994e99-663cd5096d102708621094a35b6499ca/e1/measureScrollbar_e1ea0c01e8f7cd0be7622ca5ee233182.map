{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components/_util/measureScrollbar.tsx"],"names":[],"mappings":";;;;;;AAAA,IAAI,cAAJ;AACA,IAAI,YAAY,GAAW,GAA3B;;AAEA,SAAS,eAAT,GAAwB;AACtB,MAAI,OAAO,MAAP,KAAkB,WAAlB,IAAiC,QAAQ,CAAC,WAA9C,EAA2D;AAAA,gCACpC,QAAQ,CAAC,WAAT,CAAqB,gBAArB,CAAsC,QAAQ,CAAC,eAA/C,CADoC;AAAA,QACjD,QADiD,yBACjD,QADiD;;AAEzD,QAAI,QAAQ,KAAK,IAAjB,EAAuB;AACrB,aAAO,UAAU,CAAC,QAAD,CAAjB;AACD;AACF;;AACD,SAAO,GAAP;AACD;;AAEa,SAAU,gBAAV,GAAiD;AAAA,MAAtB,SAAsB,uEAAV,UAAU;;AAC7D,MAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,WAAO,CAAP;AACD;;AACD,MAAM,QAAQ,GAAG,eAAe,EAAhC;;AACA,MAAI,cAAc,IAAI,QAAQ,KAAK,YAAnC,EAAiD;AAC/C,WAAO,cAAP;AACD;;AACD,EAAA,YAAY,GAAG,QAAf;AACA,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAAlB;AACA,EAAA,SAAS,CAAC,KAAV,CAAgB,OAAhB,GAA0B,4EAA1B;AACA,EAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,SAA1B;AACA,MAAI,IAAI,GAAG,CAAX;;AACA,MAAI,SAAS,KAAK,UAAlB,EAA8B;AAC5B,IAAA,IAAI,GAAG,SAAS,CAAC,WAAV,GAAwB,SAAS,CAAC,WAAzC;AACD,GAFD,MAEO,IAAI,SAAS,KAAK,YAAlB,EAAgC;AACrC,IAAA,IAAI,GAAG,SAAS,CAAC,YAAV,GAAyB,SAAS,CAAC,YAA1C;AACD;;AACD,EAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,SAA1B;AACA,EAAA,cAAc,GAAG,IAAI,GAAG,QAAP,GAAkB,GAAnC;AACA,SAAO,cAAP;AACD","sourcesContent":["let scrollbarWidth: number;\nlet rootFontSize: number = 100;\n\nfunction getRootFontSize(): number {\n  if (typeof window !== 'undefined' && document.defaultView) {\n    const { fontSize } = document.defaultView.getComputedStyle(document.documentElement);\n    if (fontSize !== null) {\n      return parseFloat(fontSize);\n    }\n  }\n  return 100;\n}\n\nexport default function measureScrollbar(direction = 'vertical'): number {\n  if (typeof window === 'undefined') {\n    return 0;\n  }\n  const fontSize = getRootFontSize();\n  if (scrollbarWidth && fontSize === rootFontSize) {\n    return scrollbarWidth;\n  }\n  rootFontSize = fontSize;\n  const scrollDiv = document.createElement('div');\n  scrollDiv.style.cssText = 'position: absolute;width: 50px;height: 50px;top: -9999px; overflow: scroll';\n  document.body.appendChild(scrollDiv);\n  let size = 0;\n  if (direction === 'vertical') {\n    size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  } else if (direction === 'horizontal') {\n    size = scrollDiv.offsetHeight - scrollDiv.clientHeight;\n  }\n  document.body.removeChild(scrollDiv);\n  scrollbarWidth = size / fontSize * 100;\n  return scrollbarWidth;\n}\n"]}