{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/trigger/Trigger.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Children, Component, CSSProperties, isValidElement, Key, ReactNode } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport classNames from 'classnames';\nimport raf from 'raf';\nimport { action as mobxAction, observable, runInAction } from 'mobx';\nimport { observer, PropTypes as MobxPropTypes } from 'mobx-react';\nimport noop from 'lodash/noop';\nimport Popup from './Popup';\nimport autobind from '../_util/autobind';\nimport TaskRunner from '../_util/TaskRunner';\nimport { ElementProps } from '../core/ViewComponent';\nimport EventManager from '../_util/EventManager';\nimport { Action, HideAction, ShowAction } from './enum';\nimport TriggerChild from './TriggerChild';\n\nfunction isPointsEq(a1: string[], a2: string[]): boolean {\n  return a1[0] === a2[0] && a1[1] === a2[1];\n}\n\nfunction getPopupClassNameFromAlign(builtinPlacements, prefixCls, align): string {\n  const { points } = align;\n  const found = Object.keys(builtinPlacements).find(\n    placement =>\n      ({}.hasOwnProperty.call(builtinPlacements, placement) &&\n        isPointsEq(builtinPlacements[placement].points, points)),\n  );\n  return found ? `${prefixCls}-popup-placement-${found}` : '';\n}\n\nfunction getAlignFromPlacement(builtinPlacements, placementStr, align) {\n  const baseAlign = builtinPlacements[placementStr] || {};\n  return {\n    ...baseAlign,\n    ...align,\n  };\n}\n\nfunction contains(root, n) {\n  let node = n;\n  if (root) {\n    while (node) {\n      if (node === root || (root.contains && root.contains(node))) {\n        return true;\n      }\n      node = node.parentNode;\n    }\n  }\n  return false;\n}\n\nexport interface TriggerProps extends ElementProps {\n  action?: Action[];\n  showAction?: ShowAction[];\n  hideAction?: HideAction[];\n  popupContent?: ReactNode | ((props: any) => ReactNode);\n  popupCls?: string;\n  popupStyle?: CSSProperties;\n  popupHidden?: boolean;\n  popupPlacement?: string;\n  popupAlign?: object;\n  builtinPlacements?: any;\n  onPopupAlign?: (source: Node, align: object, target: Node | Window) => void;\n  onPopupAnimateAppear?: (key: Key | null) => void;\n  onPopupAnimateEnter?: (key: Key | null) => void;\n  onPopupAnimateLeave?: (key: Key | null) => void;\n  onPopupAnimateEnd?: (key: Key | null, exists: boolean) => void;\n  onPopupHiddenChange?: (hidden: boolean) => void;\n  getRootDomNode?: () => Element | null | Text;\n  getPopupStyleFromAlign?: (target: Node | Window, align: object) => object | undefined;\n  getPopupClassNameFromAlign?: (align: object) => string | undefined;\n  getPopupContainer?: (triggerNode: HTMLElement) => HTMLElement;\n  focusDelay?: number;\n  blurDelay?: number;\n  mouseEnterDelay?: number;\n  mouseLeaveDelay?: number;\n  transitionName?: string;\n  defaultPopupHidden?: boolean;\n}\n\n@observer\nexport default class Trigger extends Component<TriggerProps> {\n  static displayName = 'Trigger';\n\n  static propTypes = {\n    action: MobxPropTypes.arrayOrObservableArrayOf(\n      PropTypes.oneOf([Action.hover, Action.contextMenu, Action.focus, Action.click]),\n    ),\n    showAction: MobxPropTypes.arrayOrObservableArrayOf(\n      PropTypes.oneOf([\n        ShowAction.mouseEnter,\n        ShowAction.contextMenu,\n        ShowAction.focus,\n        ShowAction.click,\n      ]),\n    ),\n    hideAction: MobxPropTypes.arrayOrObservableArrayOf(\n      PropTypes.oneOf([HideAction.blur, HideAction.mouseLeave, HideAction.click]),\n    ),\n    popupContent: PropTypes.node,\n    popupCls: PropTypes.string,\n    popupStyle: PropTypes.object,\n    popupHidden: PropTypes.bool,\n    popupPlacement: PropTypes.string,\n    popupAlign: PropTypes.object,\n    builtinPlacements: PropTypes.any,\n    onPopupAnimateAppear: PropTypes.func,\n    onPopupAnimateEnter: PropTypes.func,\n    onPopupAnimateLeave: PropTypes.func,\n    onPopupAnimateEnd: PropTypes.func,\n    onPopupAlign: PropTypes.func,\n    onPopupHiddenChange: PropTypes.func,\n    getPopupStyleFromAlign: PropTypes.func,\n    getPopupContainer: PropTypes.func,\n    focusDelay: PropTypes.number,\n    blurDelay: PropTypes.number,\n    mouseEnterDelay: PropTypes.number,\n    mouseLeaveDelay: PropTypes.number,\n    transitionName: PropTypes.string,\n    defaultPopupHidden: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    focusDelay: 150,\n    blurDelay: 0,\n    mouseEnterDelay: 100,\n    mouseLeaveDelay: 100,\n    transitionName: 'slide-up',\n    defaultPopupHidden: true,\n  };\n\n  // 兼容ie11\n  // 在ie11上当pop的内容存在滚动条的时候 点击滚动条会导致当前组件失去焦点\n  // 给组件设置的 preventDefault 不会起到作用\n  // 根据 handlePopupMouseDown  handlePopupMouseUp 设置一个标识符来判断当前点击的是否是弹出框\n  // 不应该使用 state 将isClickScrollbar放到state里面会导致渲染导致在chrome下无法点击滚动条进行拖动\n  isClickScrollbar: {\n    value: boolean\n  } = {\n      value: false,\n    };\n\n  popup: Popup | null;\n\n  popupTask: TaskRunner = new TaskRunner();\n\n  documentEvent: EventManager = new EventManager(typeof window !== 'undefined' && document);\n\n  focusTime: number = 0;\n\n  preClickTime: number = 0;\n\n  animateFrameId: number = 0;\n\n  @observable popupHidden?: boolean;\n\n  constructor(props, context) {\n    super(props, context);\n    runInAction(() => {\n      this.popupHidden = 'popupHidden' in props ? props.popupHidden : props.defaultPopupHidden;\n    });\n  }\n\n  saveRef = node => (this.popup = node);\n\n  render() {\n    const { children } = this.props;\n    const popup = this.getPopup();\n    const newChildren = Children.map(children, child => {\n      if (isValidElement(child)) {\n        const newChildProps: any = {};\n        if (this.isContextMenuToShow()) {\n          newChildProps.onContextMenu = this.handleEvent;\n        }\n        if (this.isClickToHide() || this.isClickToShow()) {\n          newChildProps.onClick = this.handleEvent;\n          newChildProps.onMouseDown = this.handleEvent;\n        }\n        if (this.isMouseEnterToShow()) {\n          newChildProps.onMouseEnter = this.handleEvent;\n        }\n        if (this.isMouseLeaveToHide()) {\n          newChildProps.onMouseLeave = this.handleEvent;\n        }\n        if (this.isFocusToShow() || this.isBlurToHide()) {\n          newChildProps.onFocus = this.handleEvent;\n          newChildProps.onBlur = this.handleEvent;\n        }\n        newChildProps.isClickScrollbar = this.isClickScrollbar;\n        newChildProps.popupHidden = this.popupHidden;\n        return <TriggerChild {...newChildProps}>{child}</TriggerChild>;\n      }\n      return child;\n    });\n    return [newChildren, popup];\n  }\n\n  @mobxAction\n  componentWillReceiveProps(nextProps) {\n    const { popupHidden } = nextProps;\n    if (popupHidden !== this.popupHidden && popupHidden !== undefined) {\n      this.popupHidden = popupHidden;\n    }\n  }\n\n  componentDidUpdate() {\n    const { popupHidden } = this;\n    this.documentEvent.clear();\n    if (!popupHidden) {\n      this.documentEvent.addEventListener('scroll', this.handleDocumentScroll, true);\n      if ((this.isClickToHide() || this.isContextMenuToShow()) && !this.isBlurToHide()) {\n        this.documentEvent.addEventListener('mousedown', this.handleDocumentMouseDown);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.popupTask.cancel();\n    this.documentEvent.clear();\n  }\n\n  @autobind\n  handleEvent(eventName, child, e) {\n    const { [`on${eventName}`]: handle } = this.props as { [key: string]: any };\n    const { [`on${eventName}`]: childHandle } = child.props;\n    if (childHandle) {\n      childHandle(e);\n    }\n    if (!e.isDefaultPrevented()) {\n      if (handle) {\n        handle(e);\n      }\n      if (!e.isDefaultPrevented()) {\n        this[`handle${eventName}`].call(this, e);\n      }\n    }\n  }\n\n  handleContextMenu(e) {\n    e.preventDefault();\n    this.setPopupHidden(false);\n  }\n\n  handleFocus() {\n    if (this.isFocusToShow()) {\n      const { focusDelay } = this.props;\n      this.focusTime = Date.now();\n      this.delaySetPopupHidden(false, focusDelay);\n    }\n  }\n\n  handleBlur() {\n    if (this.isBlurToHide()) {\n      const { blurDelay } = this.props;\n      this.delaySetPopupHidden(true, blurDelay);\n    }\n  }\n\n  @autobind\n  handleDocumentMouseDown(e) {\n    if (this.popup) {\n      const { target } = e;\n      if (!contains(findDOMNode(this), target) && !contains(findDOMNode(this.popup), target)) {\n        this.setPopupHidden(true);\n      }\n    }\n  }\n\n  @autobind\n  handleDocumentScroll({ target }) {\n    if (this.popup && target !== document && !contains(findDOMNode(this.popup), target)) {\n      if (this.animateFrameId) {\n        raf.cancel(this.animateFrameId);\n      }\n      this.animateFrameId = raf(this.forcePopupAlign);\n    }\n  }\n\n  handleMouseDown() {\n    this.preClickTime = Date.now();\n  }\n\n  handleClick(e) {\n    const { popupHidden } = this;\n    if (this.focusTime) {\n      if (Math.abs(this.preClickTime - this.focusTime) < 20) {\n        return;\n      }\n      this.focusTime = 0;\n    }\n    this.preClickTime = 0;\n    if ((this.isClickToHide() && !popupHidden) || (popupHidden && this.isClickToShow())) {\n      e.preventDefault();\n      this.setPopupHidden(!popupHidden);\n    }\n  }\n\n  handleMouseEnter() {\n    const { mouseEnterDelay } = this.props;\n    this.delaySetPopupHidden(false, mouseEnterDelay);\n  }\n\n  handleMouseLeave() {\n    const { mouseLeaveDelay } = this.props;\n    this.delaySetPopupHidden(true, mouseLeaveDelay);\n  }\n\n  @autobind\n  handlePopupMouseEnter() {\n    this.popupTask.cancel();\n  }\n\n  @autobind\n  handlePopupMouseLeave() {\n    const { mouseLeaveDelay } = this.props;\n    this.delaySetPopupHidden(true, mouseLeaveDelay);\n  }\n\n  getPopup(): ReactNode {\n    const {\n      prefixCls,\n      popupCls,\n      popupStyle,\n      onPopupAnimateAppear,\n      onPopupAnimateEnter,\n      onPopupAnimateLeave,\n      onPopupAnimateEnd,\n      onPopupAlign,\n      popupContent,\n      getPopupStyleFromAlign,\n      getRootDomNode = this.getRootDomNode,\n      transitionName,\n      getPopupContainer,\n    } = this.props;\n    const visible = !this.popupHidden && popupContent;\n    const mouseProps: any = {};\n    if (this.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = this.handlePopupMouseEnter;\n    }\n    if (this.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = this.handlePopupMouseLeave;\n    }\n    return (\n      <Popup\n        key=\"popup\"\n        ref={this.saveRef}\n        transitionName={transitionName}\n        className={classNames(`${prefixCls}-popup`, popupCls)}\n        style={popupStyle}\n        hidden={!visible}\n        align={this.getPopupAlign()}\n        onAlign={onPopupAlign}\n        onMouseDown={this.handlePopupMouseDown}\n        onMouseUp={this.handlePopupMouseUp}\n        getRootDomNode={getRootDomNode}\n        onAnimateAppear={onPopupAnimateAppear}\n        onAnimateEnter={onPopupAnimateEnter}\n        onAnimateLeave={onPopupAnimateLeave}\n        onAnimateEnd={onPopupAnimateEnd}\n        getStyleFromAlign={getPopupStyleFromAlign}\n        getClassNameFromAlign={this.getPopupClassNameFromAlign}\n        getPopupContainer={getPopupContainer}\n        {...mouseProps}\n      >\n        {popupContent}\n      </Popup>\n    );\n  }\n\n  getPopupAlign() {\n    const { popupPlacement, popupAlign, builtinPlacements } = this.props;\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n    return popupAlign;\n  }\n\n  @autobind\n  handlePopupMouseDown(e) {\n    this.isClickScrollbar.value = true\n    e.preventDefault();\n  }\n\n  @autobind\n  handlePopupMouseUp() {\n    this.isClickScrollbar.value = false\n  }\n\n  @autobind\n  getRootDomNode() {\n    return findDOMNode(this);\n  }\n\n  @autobind\n  getPopupClassNameFromAlign(align): string {\n    const className: string[] = [];\n    const {\n      popupPlacement,\n      builtinPlacements,\n      prefixCls,\n      getPopupClassNameFromAlign: getCls,\n    } = this.props;\n    if (popupPlacement && builtinPlacements) {\n      className.push(getPopupClassNameFromAlign(builtinPlacements, prefixCls, align));\n    }\n    if (getCls) {\n      const cls = getCls(align);\n      if (cls) {\n        className.push(cls);\n      }\n    }\n    return className.join(' ');\n  }\n\n  @autobind\n  forcePopupAlign() {\n    if (!this.popupHidden && this.popup) {\n      this.popup.forceAlign();\n    }\n  }\n\n  @mobxAction\n  setPopupHidden(hidden) {\n    this.popupTask.cancel();\n    if (this.popupHidden !== hidden) {\n      const { popupHidden, onPopupHiddenChange = noop } = this.props;\n      if (popupHidden === undefined) {\n        this.popupHidden = hidden;\n      }\n      onPopupHiddenChange(hidden);\n    }\n  }\n\n  delaySetPopupHidden(popupHidden, delay) {\n    this.popupTask.cancel();\n    if (delay) {\n      this.popupTask.delay(delay, () => {\n        this.setPopupHidden(popupHidden);\n      });\n    } else {\n      this.setPopupHidden(popupHidden);\n    }\n  }\n\n  isClickToShow() {\n    const { action = [], showAction = [] } = this.props;\n    return action.indexOf(Action.click) !== -1 || showAction.indexOf(ShowAction.click) !== -1;\n  }\n\n  isContextMenuToShow() {\n    const { action = [], showAction = [] } = this.props;\n    return (\n      action.indexOf(Action.contextMenu) !== -1 || showAction.indexOf(ShowAction.contextMenu) !== -1\n    );\n  }\n\n  isClickToHide() {\n    const { action = [], hideAction = [] } = this.props;\n    return action.indexOf(Action.click) !== -1 || hideAction.indexOf(HideAction.click) !== -1;\n  }\n\n  isMouseEnterToShow() {\n    const { action = [], showAction = [] } = this.props;\n    return action.indexOf(Action.hover) !== -1 || showAction.indexOf(ShowAction.mouseEnter) !== -1;\n  }\n\n  isMouseLeaveToHide() {\n    const { action = [], hideAction = [] } = this.props;\n    return action.indexOf(Action.hover) !== -1 || hideAction.indexOf(HideAction.mouseLeave) !== -1;\n  }\n\n  isFocusToShow() {\n    const { action = [], showAction = [] } = this.props;\n    return action.indexOf(Action.focus) !== -1 || showAction.indexOf(ShowAction.focus) !== -1;\n  }\n\n  isBlurToHide() {\n    const { action = [], hideAction = [] } = this.props;\n    return action.indexOf(Action.focus) !== -1 || hideAction.indexOf(HideAction.blur) !== -1;\n  }\n}\n"]}