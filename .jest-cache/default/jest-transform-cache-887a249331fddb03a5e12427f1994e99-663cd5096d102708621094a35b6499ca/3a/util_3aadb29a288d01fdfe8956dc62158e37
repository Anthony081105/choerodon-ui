3ff1699f0858422f7ff73830468fd1f5
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getKeyFromChildrenIndex = getKeyFromChildrenIndex;
exports.getMenuIdFromSubMenuEventKey = getMenuIdFromSubMenuEventKey;
exports.loopMenuItem = loopMenuItem;
exports.loopMenuItemRecursively = loopMenuItemRecursively;
exports.setStyle = exports.getWidth = exports.menuAllProps = void 0;

var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));

var _react = require("react");

function getKeyFromChildrenIndex(child, menuEventKey, index) {
  var prefix = menuEventKey || '';
  return child.key || "".concat(prefix, "item_").concat(index);
}

function getMenuIdFromSubMenuEventKey(eventKey) {
  return "".concat(eventKey, "-menu-");
}

function loopMenuItem(children, cb) {
  var index = -1;

  _react.Children.forEach(children, function (c) {
    index++;

    if (c && c.type && c.type.isMenuItemGroup) {
      _react.Children.forEach(c.props.children, function (c2) {
        index++;
        cb(c2, index);
      });
    } else {
      cb(c, index);
    }
  });
}

function loopMenuItemRecursively(children, keys, ret) {
  if (!children || ret.find) {
    return;
  }

  _react.Children.forEach(children, function (c) {
    if (c) {
      var construct = c.type;

      if (!construct || !(construct.isSubMenu || construct.isMenuItem || construct.isMenuItemGroup)) {
        return;
      }

      if (keys.indexOf(c.key) !== -1) {
        ret.find = true;
      } else if (c.props.children) {
        loopMenuItemRecursively(c.props.children, keys, ret);
      }
    }
  });
}

var menuAllProps = ['defaultSelectedKeys', 'selectedKeys', 'defaultOpenKeys', 'openKeys', 'mode', 'getPopupContainer', 'onSelect', 'onDeselect', 'onDestroy', 'openTransitionName', 'openAnimation', 'subMenuOpenDelay', 'subMenuCloseDelay', 'forceSubMenuRender', 'triggerSubMenuAction', 'level', 'selectable', 'multiple', 'onOpenChange', 'visible', 'focusable', 'defaultActiveFirst', 'prefixCls', 'inlineIndent', 'parentMenu', 'title', 'rootPrefixCls', 'eventKey', 'active', 'onItemHover', 'onTitleMouseEnter', 'onTitleMouseLeave', 'onTitleClick', 'popupAlign', 'popupOffset', 'isOpen', 'renderMenuItem', 'manualRef', 'subMenuKey', 'disabled', 'index', 'isSelected', 'store', 'activeKey', 'builtinPlacements', 'overflowedIndicator', // the following keys found need to be removed from test regression
'attribute', 'value', 'popupClassName', 'inlineCollapsed', 'menu', 'theme', 'itemIcon', 'expandIcon'];
exports.menuAllProps = menuAllProps;

var getWidth = function getWidth(elem) {
  var width = elem && typeof elem.getBoundingClientRect === 'function' && elem.getBoundingClientRect().width;

  if (width) {
    width = +width.toFixed(6);
  }

  return width || 0;
};

exports.getWidth = getWidth;

var setStyle = function setStyle(elem, styleProperty, value) {
  if (elem && (0, _typeof2["default"])(elem.style) === 'object') {
    elem.style[styleProperty] = value;
  }
};

exports.setStyle = setStyle;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanN4Il0sIm5hbWVzIjpbImdldEtleUZyb21DaGlsZHJlbkluZGV4IiwiY2hpbGQiLCJtZW51RXZlbnRLZXkiLCJpbmRleCIsInByZWZpeCIsImtleSIsImdldE1lbnVJZEZyb21TdWJNZW51RXZlbnRLZXkiLCJldmVudEtleSIsImxvb3BNZW51SXRlbSIsImNoaWxkcmVuIiwiY2IiLCJDaGlsZHJlbiIsImZvckVhY2giLCJjIiwidHlwZSIsImlzTWVudUl0ZW1Hcm91cCIsInByb3BzIiwiYzIiLCJsb29wTWVudUl0ZW1SZWN1cnNpdmVseSIsImtleXMiLCJyZXQiLCJmaW5kIiwiY29uc3RydWN0IiwiaXNTdWJNZW51IiwiaXNNZW51SXRlbSIsImluZGV4T2YiLCJtZW51QWxsUHJvcHMiLCJnZXRXaWR0aCIsImVsZW0iLCJ3aWR0aCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvRml4ZWQiLCJzZXRTdHlsZSIsInN0eWxlUHJvcGVydHkiLCJ2YWx1ZSIsInN0eWxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFTyxTQUFTQSx1QkFBVCxDQUFpQ0MsS0FBakMsRUFBd0NDLFlBQXhDLEVBQXNEQyxLQUF0RCxFQUE2RDtBQUNsRSxNQUFNQyxNQUFNLEdBQUdGLFlBQVksSUFBSSxFQUEvQjtBQUNBLFNBQU9ELEtBQUssQ0FBQ0ksR0FBTixjQUFnQkQsTUFBaEIsa0JBQThCRCxLQUE5QixDQUFQO0FBQ0Q7O0FBRU0sU0FBU0csNEJBQVQsQ0FBc0NDLFFBQXRDLEVBQWdEO0FBQ3JELG1CQUFVQSxRQUFWO0FBQ0Q7O0FBRU0sU0FBU0MsWUFBVCxDQUFzQkMsUUFBdEIsRUFBZ0NDLEVBQWhDLEVBQW9DO0FBQ3pDLE1BQUlQLEtBQUssR0FBRyxDQUFDLENBQWI7O0FBQ0FRLGtCQUFTQyxPQUFULENBQWlCSCxRQUFqQixFQUEyQixVQUFBSSxDQUFDLEVBQUk7QUFDOUJWLElBQUFBLEtBQUs7O0FBQ0wsUUFBSVUsQ0FBQyxJQUFJQSxD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QXNDLFVBRHRDLElBRUFGLElBQUksQ0FBQ0UscUJBQUwsR0FBNkJELEtBSC9COztBQUlBLE1BQUlBLEtBQUosRUFBVztBQUNUQSxJQUFBQSxLQUFLLEdBQUcsQ0FBQ0EsS0FBSyxDQUFDRSxPQUFOLENBQWMsQ0FBZCxDQUFUO0FBQ0Q7O0FBQ0QsU0FBT0YsS0FBSyxJQUFJLENBQWhCO0FBQ0QsQ0FUTTs7OztBQVdBLElBQU1HLFFBQVEsR0FBRyxTQUFYQSxRQUFXLENBQUNKLElBQUQsRUFBT0ssYUFBUCxFQUFzQkMsS0FBdEIsRUFBZ0M7QUFDdEQsTUFBSU4sSUFBSSxJQUFJLHlCQUFPQSxJQUFJLENBQUNPLEtBQVosTUFBc0IsUUFBbEMsRUFBNEM7QUFDMUNQLElBQUFBLElBQUksQ0FBQ08sS0FBTCxDQUFXRixhQUFYLElBQTRCQyxLQUE1QjtBQUNEO0FBQ0YsQ0FKTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEtleUZyb21DaGlsZHJlbkluZGV4KGNoaWxkLCBtZW51RXZlbnRLZXksIGluZGV4KSB7XG4gIGNvbnN0IHByZWZpeCA9IG1lbnVFdmVudEtleSB8fCAnJztcbiAgcmV0dXJuIGNoaWxkLmtleSB8fCBgJHtwcmVmaXh9aXRlbV8ke2luZGV4fWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZW51SWRGcm9tU3ViTWVudUV2ZW50S2V5KGV2ZW50S2V5KSB7XG4gIHJldHVybiBgJHtldmVudEtleX0tbWVudS1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9vcE1lbnVJdGVtKGNoaWxkcmVuLCBjYikge1xuICBsZXQgaW5kZXggPSAtMTtcbiAgQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgYyA9PiB7XG4gICAgaW5kZXgrKztcbiAgICBpZiAoYyAmJiBjLnR5cGUgJiYgYy50eXBlLmlzTWVudUl0ZW1Hcm91cCkge1xuICAgICAgQ2hpbGRyZW4uZm9yRWFjaChjLnByb3BzLmNoaWxkcmVuLCBjMiA9PiB7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIGNiKGMyLCBpbmRleCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2IoYywgaW5kZXgpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb29wTWVudUl0ZW1SZWN1cnNpdmVseShjaGlsZHJlbiwga2V5cywgcmV0KSB7XG4gIGlmICghY2hpbGRyZW4gfHwgcmV0LmZpbmQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgYyA9PiB7XG4gICAgaWYgKGMpIHtcbiAgICAgIGNvbnN0IGNvbnN0cnVjdCA9IGMudHlwZTtcbiAgICAgIGlmIChcbiAgICAgICAgIWNvbnN0cnVjdCB8fFxuICAgICAgICAhKGNvbnN0cnVjdC5pc1N1Yk1lbnUgfHwgY29uc3RydWN0LmlzTWVudUl0ZW0gfHwgY29uc3RydWN0LmlzTWVudUl0ZW1Hcm91cClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5cy5pbmRleE9mKGMua2V5KSAhPT0gLTEpIHtcbiAgICAgICAgcmV0LmZpbmQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChjLnByb3BzLmNoaWxkcmVuKSB7XG4gICAgICAgIGxvb3BNZW51SXRlbVJlY3Vyc2l2ZWx5KGMucHJvcHMuY2hpbGRyZW4sIGtleXMsIHJldCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IG1lbnVBbGxQcm9wcyA9IFtcbiAgJ2RlZmF1bHRTZWxlY3RlZEtleXMnLFxuICAnc2VsZWN0ZWRLZXlzJyxcbiAgJ2RlZmF1bHRPcGVuS2V5cycsXG4gICdvcGVuS2V5cycsXG4gICdtb2RlJyxcbiAgJ2dldFBvcHVwQ29udGFpbmVyJyxcbiAgJ29uU2VsZWN0JyxcbiAgJ29uRGVzZWxlY3QnLFxuICAnb25EZXN0cm95JyxcbiAgJ29wZW5UcmFuc2l0aW9uTmFtZScsXG4gICdvcGVuQW5pbWF0aW9uJyxcbiAgJ3N1Yk1lbnVPcGVuRGVsYXknLFxuICAnc3ViTWVudUNsb3NlRGVsYXknLFxuICAnZm9yY2VTdWJNZW51UmVuZGVyJyxcbiAgJ3RyaWdnZXJTdWJNZW51QWN0aW9uJyxcbiAgJ2xldmVsJyxcbiAgJ3NlbGVjdGFibGUnLFxuICAnbXVsdGlwbGUnLFxuICAnb25PcGVuQ2hhbmdlJyxcbiAgJ3Zpc2libGUnLFxuICAnZm9jdXNhYmxlJyxcbiAgJ2RlZmF1bHRBY3RpdmVGaXJzdCcsXG4gICdwcmVmaXhDbHMnLFxuICAnaW5saW5lSW5kZW50JyxcbiAgJ3BhcmVudE1lbnUnLFxuICAndGl0bGUnLFxuICAncm9vdFByZWZpeENscycsXG4gICdldmVudEtleScsXG4gICdhY3RpdmUnLFxuICAnb25JdGVtSG92ZXInLFxuICAnb25UaXRsZU1vdXNlRW50ZXInLFxuICAnb25UaXRsZU1vdXNlTGVhdmUnLFxuICAnb25UaXRsZUNsaWNrJyxcbiAgJ3BvcHVwQWxpZ24nLFxuICAncG9wdXBPZmZzZXQnLFxuICAnaXNPcGVuJyxcbiAgJ3JlbmRlck1lbnVJdGVtJyxcbiAgJ21hbnVhbFJlZicsXG4gICdzdWJNZW51S2V5JyxcbiAgJ2Rpc2FibGVkJyxcbiAgJ2luZGV4JyxcbiAgJ2lzU2VsZWN0ZWQnLFxuICAnc3RvcmUnLFxuICAnYWN0aXZlS2V5JyxcbiAgJ2J1aWx0aW5QbGFjZW1lbnRzJyxcbiAgJ292ZXJmbG93ZWRJbmRpY2F0b3InLFxuXG4gIC8vIHRoZSBmb2xsb3dpbmcga2V5cyBmb3VuZCBuZWVkIHRvIGJlIHJlbW92ZWQgZnJvbSB0ZXN0IHJlZ3Jlc3Npb25cbiAgJ2F0dHJpYnV0ZScsXG4gICd2YWx1ZScsXG4gICdwb3B1cENsYXNzTmFtZScsXG4gICdpbmxpbmVDb2xsYXBzZWQnLFxuICAnbWVudScsXG4gICd0aGVtZScsXG4gICdpdGVtSWNvbicsXG4gICdleHBhbmRJY29uJyxcbl07XG5cbmV4cG9ydCBjb25zdCBnZXRXaWR0aCA9IGVsZW0gPT4ge1xuICBsZXQgd2lkdGggPVxuICAgIGVsZW0gJiZcbiAgICB0eXBlb2YgZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT09ICdmdW5jdGlvbicgJiZcbiAgICBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICBpZiAod2lkdGgpIHtcbiAgICB3aWR0aCA9ICt3aWR0aC50b0ZpeGVkKDYpO1xuICB9XG4gIHJldHVybiB3aWR0aCB8fCAwO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFN0eWxlID0gKGVsZW0sIHN0eWxlUHJvcGVydHksIHZhbHVlKSA9PiB7XG4gIGlmIChlbGVtICYmIHR5cGVvZiBlbGVtLnN0eWxlID09PSAnb2JqZWN0Jykge1xuICAgIGVsZW0uc3R5bGVbc3R5bGVQcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgfVxufTtcbiJdfQ==