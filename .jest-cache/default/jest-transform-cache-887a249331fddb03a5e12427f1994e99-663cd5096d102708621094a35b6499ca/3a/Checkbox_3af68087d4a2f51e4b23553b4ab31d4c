16168738c42b0cdbdab92f3a97197775
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _classnames = _interopRequireDefault(require("classnames"));

var _isEqual = _interopRequireDefault(require("lodash/isEqual"));

var _checkbox = _interopRequireDefault(require("../rc-components/checkbox"));

var _configure = require("../configure");

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var Checkbox =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(Checkbox, _Component);

  var _super = _createSuper(Checkbox);

  function Checkbox() {
    var _this;

    (0, _classCallCheck2["default"])(this, Checkbox);
    _this = _super.apply(this, arguments);

    _this.saveCheckbox = function (node) {
      _this.rcCheckbox = node;
    };

    return _this;
  }

  (0, _createClass2["default"])(Checkbox, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps, nextState, nextContext) {
      var checkboxGroup = this.context.checkboxGroup;
      return !(0, _isEqual["default"])(this.props, nextProps) || !(0, _isEqual["default"])(this.state, nextState) || !(0, _isEqual["default"])(checkboxGroup, nextContext.checkboxGroup);
    }
  }, {
    key: "focus",
    value: function focus() {
      this.rcCheckbox.focus();
    }
  }, {
    key: "blur",
    value: function blur() {
      this.rcCheckbox.blur();
    }
  }, {
    key: "render",
    value: function render() {
      var props = this.props,
          context = this.context;
      var customizePrefixCls = props.prefixCls,
          className = props.className,
          children = props.children,
          indeterminate = props.indeterminate,
          style = props.style,
          onMouseEnter = props.onMouseEnter,
          onMouseLeave = props.onMouseLeave,
          restProps = (0, _objectWithoutProperties2["default"])(props, ["prefixCls", "className", "children", "indeterminate", "style", "onMouseEnter", "onMouseLeave"]);
      var prefixCls = (0, _configure.getPrefixCls)('checkbox', customizePrefixCls);
      var checkboxGroup = context.checkboxGroup;
      var checkboxProps = (0, _objectSpread2["default"])({}, restProps);

      if (checkboxGroup) {
        checkboxProps.onChange = function () {
          return checkboxGroup.toggleOption({
            label: children,
            value: props.value
          });
        };

        checkboxProps.checked = checkboxGroup.value.indexOf(props.value) !== -1;
        checkboxProps.disabled = props.disabled || checkboxGroup.disabled;
      }

      var classString = (0, _classnames["default"])(className, (0, _defineProperty2["default"])({}, "".concat(prefixCls, "-wrapper"), true));
      var checkboxClass = (0, _classnames["default"])((0, _defineProperty2["default"])({}, "".concat(prefixCls, "-indeterminate"), indeterminate));
      return _react["default"].createElement("label", {
        className: classString,
        style: style,
        onMouseEnter: onMouseEnter,
        onMouseLeave: onMouseLeave
      }, _react["default"].createElement(_checkbox["default"], (0, _extends2["default"])({}, checkboxProps, {
        prefixCls: prefixCls,
        className: checkboxClass,
        ref: this.saveCheckbox
      })), children !== undefined ? _react["default"].createElement("span", null, children) : null);
    }
  }]);
  return Checkbox;
}(_react.Component);

exports["default"] = Checkbox;
Checkbox.displayName = 'Checkbox';
Checkbox.defaultProps = {
  indeterminate: false
};
Checkbox.contextTypes = {
  checkboxGroup: _propTypes["default"].any
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrYm94L0NoZWNrYm94LmpzIl0sIm5hbWVzIjpbIkNoZWNrYm94IiwiQ29tcG9uZW50IiwibmV4dFByb3BzIiwibmV4dFN0YXRlIiwibmV4dENvbnRleHQiLCJjaGVja2JveEdyb3VwIiwicHJvcHMiLCJjb250ZXh0IiwiY3VzdG9taXplUHJlZml4Q2xzIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJpbmRldGVybWluYXRlIiwic3R5bGUiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJyZXN0UHJvcHMiLCJwcmVmaXhDbHMiLCJjaGVja2JveFByb3BzIiwibGFiZWwiLCJ2YWx1ZSIsImNsYXNzU3RyaW5nIiwiY2hlY2tib3hDbGFzcyIsIlJjQ2hlY2tib3giLCJyZWYiLCJzYXZlQ2hlY2tib3giLCJSZWFjdCIsIlByb3BUeXBlcyIsImFueSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBLE1BQUEsR0FBQSx1QkFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFVBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFdBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFFBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxnQkFBQSxDQUFBLENBQUE7O0FBQ0EsSUFBQSxTQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsMkJBQUEsQ0FBQSxDQUFBOztBQUNBLElBQUEsVUFBQSxHQUFBLE9BQUEsQ0FBQSxjQUFBLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFDcUJBLFE7Ozs7Ozs7QUFDakIsV0FBQSxRQUFBLEdBQWM7QUFBQSxRQUFBLEtBQUE7O0FBQUEsS0FBQSxHQUFBLGdCQUFBLENBQUEsU0FBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLFFBQUE7QUFDVixJQUFBLEtBQUEsR0FBQSxNQUFBLENBQUEsS0FBQSxDQUFBLElBQUEsRUFBQSxTQUFBLENBQUE7O0FBQ0EsSUFBQSxLQUFBLENBQUEsWUFBQSxHQUFvQixVQUFBLElBQUEsRUFBVTtBQUMxQixNQUFBLEtBQUEsQ0FBQSxVQUFBLEdBQUEsSUFBQTtBQURKLEtBQUE7O0FBRlUsV0FBQSxLQUFBO0FBS2I7Ozs7MENBQ3FCRSxTLEVBQVdDLFMsRUFBV0MsVyxFQUFhO0FBQUEsVUFDN0NDLGFBRDZDLEdBQzNCLEtBRDJCLE9BQzNCLENBRDJCLGFBQUE7QUFFckQsYUFBUSxDQUFDLENBQUEsR0FBQSxRQUFBLENBQUEsU0FBQSxDQUFBLEVBQWEsS0FBYixLQUFBLEVBQUQsU0FBQyxDQUFELElBQ0osQ0FBQyxDQUFBLEdBQUEsUUFBQSxDQUFBLFNBQUEsQ0FBQSxFQUFhLEtBQWIsS0FBQSxFQURHLFNBQ0gsQ0FERyxJQUVKLENBQUMsQ0FBQSxHQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsRUFBQSxhQUFBLEVBQTRCRCxXQUFXLENBRjVDLGFBRUssQ0FGTDtBQUdIOzs7NEJBQ087QUFDSixXQUFBLFVBQUEsQ0FBQSxLQUFBO0FBQ0g7OzsyQkFDTTtBQUNILFdBQUEsVUFBQSxDQUFBLElBQUE7QUFDSDs7OzZCQUNRO0FBQUEsVUFDR0UsS0FESCxHQUFBLEtBQUEsS0FBQTtBQUFBLFVBQ1VDLE9BRFYsR0FBQSxLQUFBLE9BQUE7QUFBQSxVQUVjQyxrQkFGZCxHQUUwSEYsS0FGMUgsQ0FBQSxTQUFBO0FBQUEsVUFFa0NHLFNBRmxDLEdBRTBISCxLQUYxSCxDQUFBLFNBQUE7QUFBQSxVQUU2Q0ksUUFGN0MsR0FFMEhKLEtBRjFILENBQUEsUUFBQTtBQUFBLFVBRXVESyxhQUZ2RCxHQUUwSEwsS0FGMUgsQ0FBQSxhQUFBO0FBQUEsVUFFc0VNLEtBRnRFLEdBRTBITixLQUYxSCxDQUFBLEtBQUE7QUFBQSxVQUU2RU8sWUFGN0UsR0FFMEhQLEtBRjFILENBQUEsWUFBQTtBQUFBLFVBRTJGUSxZQUYzRixHQUUwSFIsS0FGMUgsQ0FBQSxZQUFBO0FBQUEsVUFFNEdTLFNBRjVHLEdBQUEsQ0FBQSxHQUFBLHlCQUFBLENBQUEsU0FBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsV0FBQSxFQUFBLFdBQUEsRUFBQSxVQUFBLEVBQUEsZUFBQSxFQUFBLE9BQUEsRUFBQSxjQUFBLEVBQUEsY0FBQSxDQUFBLENBQUE7QUFHTCxVQUFNQyxTQUFTLEdBQUcsQ0FBQSxHQUFBLFVBQUEsQ0FBQSxZQUFBLEVBQUEsVUFBQSxFQUFsQixrQkFBa0IsQ0FBbEI7QUFISyxVQUlHWCxhQUpILEdBSXFCRSxPQUpyQixDQUFBLGFBQUE7QUFLTCxVQUFNVSxhQUFhLEdBQUEsQ0FBQSxHQUFBLGNBQUEsQ0FBQSxTQUFBLENBQUEsRUFBQSxFQUFBLEVBQW5CLFNBQW1CLENBQW5COztBQUNBLFVBQUEsYUFBQSxFQUFtQjtBQUNmQSxRQUFBQSxhQUFhLENBQWJBLFFBQUFBLEdBQXlCLFlBQUE7QUFBQSxpQkFBTSxhQUFhLENBQWIsWUFBQSxDQUEyQjtBQUFFQyxZQUFBQSxLQUFLLEVBQVAsUUFBQTtBQUFtQkMsWUFBQUEsS0FBSyxFQUFFYixLQUFLLENBQUNhO0FBQWhDLFdBQTNCLENBQU47QUFBekJGLFNBQUFBOztBQUNBQSxRQUFBQSxhQUFhLENBQWJBLE9BQUFBLEdBQXdCWixhQUFhLENBQWJBLEtBQUFBLENBQUFBLE9BQUFBLENBQTRCQyxLQUFLLENBQWpDRCxLQUFBQSxNQUE2QyxDQUFyRVksQ0FBQUE7QUFDQUEsUUFBQUEsYUFBYSxDQUFiQSxRQUFBQSxHQUF5QlgsS0FBSyxDQUFMQSxRQUFBQSxJQUFrQkQsYUFBYSxDQUF4RFksUUFBQUE7QUFDSDs7QUFDRCxVQUFNRyxXQUFXLEdBQUcsQ0FBQSxHQUFBLFdBQUEsQ0FBQSxTQUFBLENBQUEsRUFBQSxTQUFBLEVBQUEsQ0FBQSxHQUFBLGdCQUFBLENBQUEsU0FBQSxDQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxDQUFBLFNBQUEsRUFBQSxVQUFBLENBQUEsRUFBcEIsSUFBb0IsQ0FBQSxDQUFwQjtBQUdBLFVBQU1DLGFBQWEsR0FBRyxDQUFBLEdBQUEsV0FBQSxDQUFBLFNBQUEsQ0FBQSxFQUFBLENBQUEsR0FBQSxnQkFBQSxDQUFBLFNBQUEsQ0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsQ0FBQSxTQUFBLEVBQUEsZ0JBQUEsQ0FBQSxFQUF0QixhQUFzQixDQUFBLENBQXRCO0FBR0EsYUFBUSxNQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsYUFBQSxDQUFBLE9BQUEsRUFBNkI7QUFBRVosUUFBQUEsU0FBUyxFQUFYLFdBQUE7QUFBMEJHLFFBQUFBLEtBQUssRUFBL0IsS0FBQTtBQUF3Q0MsUUFBQUEsWUFBWSxFQUFwRCxZQUFBO0FBQW9FQyxRQUFBQSxZQUFZLEVBQUVBO0FBQWxGLE9BQTdCLEVBQ0osTUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLGFBQUEsQ0FBb0JRLFNBQUFBLENBQXBCLFNBQW9CQSxDQUFwQixFQUFnQyxDQUFBLEdBQUEsU0FBQSxDQUFBLFNBQUEsQ0FBQSxFQUFBLEVBQUEsRUFBQSxhQUFBLEVBQWlDO0FBQUVOLFFBQUFBLFNBQVMsRUFBWCxTQUFBO0FBQXdCUCxRQUFBQSxTQUFTLEVBQWpDLGFBQUE7QUFBa0RjLFFBQUFBLEdBQUcsRUFBRSxLQUFLQztBQUE1RCxPQUFqQyxDQUFoQyxDQURJLEVBRUpkLFFBQVEsS0FBUkEsU0FBQUEsR0FBeUJlLE1BQUFBLENBQUFBLFNBQUFBLENBQUFBLENBQUFBLGFBQUFBLENBQUFBLE1BQUFBLEVBQUFBLElBQUFBLEVBQXpCZixRQUF5QmUsQ0FBekJmLEdBRkosSUFBUSxDQUFSO0FBR0g7OztFQXZDaUNULE1BQUFBLENBQUFBLFM7OztBQXlDdENELFFBQVEsQ0FBUkEsV0FBQUEsR0FBQUEsVUFBQUE7QUFDQUEsUUFBUSxDQUFSQSxZQUFBQSxHQUF3QjtBQUNwQlcsRUFBQUEsYUFBYSxFQUFFO0FBREssQ0FBeEJYO0FBR0FBLFFBQVEsQ0FBUkEsWUFBQUEsR0FBd0I7QUFDcEJLLEVBQUFBLGFBQWEsRUFBRXFCLFVBQUFBLENBQUFBLFNBQUFBLENBQUFBLENBQVVDO0FBREwsQ0FBeEIzQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQsIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHNoYWxsb3dFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7XG5pbXBvcnQgUmNDaGVja2JveCBmcm9tICcuLi9yYy1jb21wb25lbnRzL2NoZWNrYm94JztcbmltcG9ydCB7IGdldFByZWZpeENscyB9IGZyb20gJy4uL2NvbmZpZ3VyZSc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGVja2JveCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc2F2ZUNoZWNrYm94ID0gKG5vZGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmNDaGVja2JveCA9IG5vZGU7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBjaGVja2JveEdyb3VwIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHJldHVybiAoIXNoYWxsb3dFcXVhbCh0aGlzLnByb3BzLCBuZXh0UHJvcHMpIHx8XG4gICAgICAgICAgICAhc2hhbGxvd0VxdWFsKHRoaXMuc3RhdGUsIG5leHRTdGF0ZSkgfHxcbiAgICAgICAgICAgICFzaGFsbG93RXF1YWwoY2hlY2tib3hHcm91cCwgbmV4dENvbnRleHQuY2hlY2tib3hHcm91cCkpO1xuICAgIH1cbiAgICBmb2N1cygpIHtcbiAgICAgICAgdGhpcy5yY0NoZWNrYm94LmZvY3VzKCk7XG4gICAgfVxuICAgIGJsdXIoKSB7XG4gICAgICAgIHRoaXMucmNDaGVja2JveC5ibHVyKCk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBwcm9wcywgY29udGV4dCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBwcmVmaXhDbHM6IGN1c3RvbWl6ZVByZWZpeENscywgY2xhc3NOYW1lLCBjaGlsZHJlbiwgaW5kZXRlcm1pbmF0ZSwgc3R5bGUsIG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzO1xuICAgICAgICBjb25zdCBwcmVmaXhDbHMgPSBnZXRQcmVmaXhDbHMoJ2NoZWNrYm94JywgY3VzdG9taXplUHJlZml4Q2xzKTtcbiAgICAgICAgY29uc3QgeyBjaGVja2JveEdyb3VwIH0gPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBjaGVja2JveFByb3BzID0geyAuLi5yZXN0UHJvcHMgfTtcbiAgICAgICAgaWYgKGNoZWNrYm94R3JvdXApIHtcbiAgICAgICAgICAgIGNoZWNrYm94UHJvcHMub25DaGFuZ2UgPSAoKSA9PiBjaGVja2JveEdyb3VwLnRvZ2dsZU9wdGlvbih7IGxhYmVsOiBjaGlsZHJlbiwgdmFsdWU6IHByb3BzLnZhbHVlIH0pO1xuICAgICAgICAgICAgY2hlY2tib3hQcm9wcy5jaGVja2VkID0gY2hlY2tib3hHcm91cC52YWx1ZS5pbmRleE9mKHByb3BzLnZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgICBjaGVja2JveFByb3BzLmRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQgfHwgY2hlY2tib3hHcm91cC5kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbGFzc1N0cmluZyA9IGNsYXNzTmFtZXMoY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICBbYCR7cHJlZml4Q2xzfS13cmFwcGVyYF06IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjaGVja2JveENsYXNzID0gY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICBbYCR7cHJlZml4Q2xzfS1pbmRldGVybWluYXRlYF06IGluZGV0ZXJtaW5hdGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIHN0eWxlOiBzdHlsZSwgb25Nb3VzZUVudGVyOiBvbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZTogb25Nb3VzZUxlYXZlIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJjQ2hlY2tib3gsIE9iamVjdC5hc3NpZ24oe30sIGNoZWNrYm94UHJvcHMsIHsgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGNsYXNzTmFtZTogY2hlY2tib3hDbGFzcywgcmVmOiB0aGlzLnNhdmVDaGVja2JveCB9KSksXG4gICAgICAgICAgICBjaGlsZHJlbiAhPT0gdW5kZWZpbmVkID8gUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgY2hpbGRyZW4pIDogbnVsbCkpO1xuICAgIH1cbn1cbkNoZWNrYm94LmRpc3BsYXlOYW1lID0gJ0NoZWNrYm94JztcbkNoZWNrYm94LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpbmRldGVybWluYXRlOiBmYWxzZSxcbn07XG5DaGVja2JveC5jb250ZXh0VHlwZXMgPSB7XG4gICAgY2hlY2tib3hHcm91cDogUHJvcFR5cGVzLmFueSxcbn07XG4iXX0=