c6fefa0fc63f33b392a043f9bfde9039
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));

var _react = _interopRequireWildcard(require("react"));

var _classnames = _interopRequireDefault(require("classnames"));

var _placements = _interopRequireDefault(require("./placements"));

var _tooltip = _interopRequireDefault(require("../rc-components/tooltip"));

var _configure = require("../configure");

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var splitObject = function splitObject(obj, keys) {
  var picked = {};
  var omited = (0, _objectSpread2["default"])({}, obj);
  keys.forEach(function (key) {
    if (obj && key in obj) {
      picked[key] = obj[key];
      delete omited[key];
    }
  });
  return {
    picked: picked,
    omited: omited
  };
};

var Tooltip =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(Tooltip, _Component);

  var _super = _createSuper(Tooltip);

  function Tooltip(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, Tooltip);
    _this = _super.call(this, props);

    _this.onVisibleChange = function (visible) {
      var onVisibleChange = _this.props.onVisibleChange;

      if (!('visible' in _this.props)) {
        _this.setState({
          visible: _this.isNoTitle() ? false : visible
        });
      }

      if (onVisibleChange && !_this.isNoTitle()) {
        onVisibleChange(visible);
      }
    }; // 动态设置动画点


    _this.onPopupAlign = function (domNode, align) {
      var placements = _this.getPlacements(); // 当前返回的位置


      var placement = Object.keys(placements).filter(function (key) {
        return placements[key].points[0] === align.points[0] && placements[key].points[1] === align.points[1];
      })[0];

      if (!placement) {
        return;
      } // 根据当前坐标设置动画点


      var rect = domNode.getBoundingClientRect();
      var transformOrigin = {
        top: '50%',
        left: '50%'
      };

      if (placement.indexOf('top') >= 0 || placement.indexOf('Bottom') >= 0) {
        transformOrigin.top = "".concat(rect.height - align.offset[1], "px");
      } else if (placement.indexOf('Top') >= 0 || placement.indexOf('bottom') >= 0) {
        transformOrigin.top = "".concat(-align.offset[1], "px");
      }

      if (placement.indexOf('left') >= 0 || placement.indexOf('Right') >= 0) {
        transformOrigin.left = "".concat(rect.width - align.offset[0], "px");
      } else if (placement.indexOf('right') >= 0 || placement.indexOf('Left') >= 0) {
        transformOrigin.left = "".concat(-align.offset[0], "px");
      }

      domNode.style.transformOrigin = "".concat(transformOrigin.left, " ").concat(transformOrigin.top);
    };

    _this.saveTooltip = function (node) {
      _this.tooltip = node;
    };

    _this.state = {
      visible: !!props.visible || !!props.defaultVisible
    };
    return _this;
  }

  (0, _createClass2["default"])(Tooltip, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if ('visible' in nextProps) {
        this.setState({
          visible: nextProps.visible
        });
      }
    }
  }, {
    key: "getPopupDomNode",
    value: function getPopupDomNode() {
      return this.tooltip.getPopupDomNode();
    }
  }, {
    key: "getPlacements",
    value: function getPlacements() {
      var _this$props = this.props,
          builtinPlacements = _this$props.builtinPlacements,
          arrowPointAtCenter = _this$props.arrowPointAtCenter,
          autoAdjustOverflow = _this$props.autoAdjustOverflow;
      return builtinPlacements || (0, _placements["default"])({
        arrowPointAtCenter: arrowPointAtCenter,
        verticalArrowShift: 8,
        autoAdjustOverflow: autoAdjustOverflow
      });
    }
  }, {
    key: "isHoverTrigger",
    value: function isHoverTrigger() {
      var trigger = this.props.trigger;

      if (!trigger || trigger === 'hover') {
        return true;
      }

      if (Array.isArray(trigger)) {
        return trigger.indexOf('hover') >= 0;
      }

      return false;
    } // Fix Tooltip won't hide at disabled button
    // mouse events don't trigger at disabled button in Chrome
    // https://github.com/react-component/tooltip/issues/18

  }, {
    key: "getDisabledCompatibleChildren",
    value: function getDisabledCompatibleChildren(element) {
      var elementType = element.type;

      if ((elementType.__Pro_BUTTON === true || elementType.__Pro_SWITCH === true || elementType.__Pro_CHECKBOX === true || element.type.__ANT_BUTTON || element.type === 'button') && element.props.disabled && element.props.disabled && this.isHoverTrigger()) {
        // Pick some layout related style properties up to span
        var _splitObject = splitObject(element.props.style, ['position', 'left', 'right', 'top', 'bottom', 'float', 'display', 'zIndex']),
            picked = _splitObject.picked,
            omited = _splitObject.omited;

        var spanStyle = (0, _objectSpread2["default"])({
          display: 'inline-block'
        }, picked, {
          cursor: 'not-allowed'
        });
        var buttonStyle = (0, _objectSpread2["default"])({}, omited, {
          pointerEvents: 'none'
        });
        var child = (0, _react.cloneElement)(element, {
          style: buttonStyle,
          className: null
        });
        return _react["default"].createElement("span", {
          style: spanStyle,
          className: element.props.className
        }, child);
      }

      return element;
    }
  }, {
    key: "isNoTitle",
    value: function isNoTitle() {
      var _this$props2 = this.props,
          title = _this$props2.title,
          overlay = _this$props2.overlay;
      return !title && !overlay; // overlay for old version compatibility
    }
  }, {
    key: "render",
    value: function render() {
      var props = this.props,
          state = this.state;
      var customizePrefixCls = props.prefixCls,
          title = props.title,
          overlay = props.overlay,
          openClassName = props.openClassName,
          getPopupContainer = props.getPopupContainer,
          getTooltipContainer = props.getTooltipContainer;
      var prefixCls = (0, _configure.getPrefixCls)('tooltip', customizePrefixCls);
      var children = props.children;
      var visible = state.visible; // Hide tooltip when there is no title

      if (!('visible' in props) && this.isNoTitle()) {
        visible = false;
      }

      var child = this.getDisabledCompatibleChildren((0, _react.isValidElement)(children) ? children : _react["default"].createElement("span", null, children));
      var childProps = child.props;
      var childCls = (0, _classnames["default"])(childProps.className, (0, _defineProperty2["default"])({}, openClassName || "".concat(prefixCls, "-open"), true));
      return _react["default"].createElement(_tooltip["default"], (0, _extends2["default"])({}, this.props, {
        prefixCls: prefixCls,
        getTooltipContainer: getPopupContainer || getTooltipContainer,
        ref: this.saveTooltip,
        builtinPlacements: this.getPlacements(),
        overlay: overlay || title || '',
        visible: visible,
        onVisibleChange: this.onVisibleChange,
        onPopupAlign: this.onPopupAlign
      }), visible ? (0, _react.cloneElement)(child, {
        className: childCls
      }) : child);
    }
  }]);
  return Tooltip;
}(_react.Component);

exports["default"] = Tooltip;
Tooltip.displayName = 'Tooltip';
Tooltip.defaultProps = {
  placement: 'top',
  transitionName: 'zoom-big-fast',
  mouseEnterDelay: 0.1,
  mouseLeaveDelay: 0.1,
  arrowPointAtCenter: false,
  autoAdjustOverflow: true
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9odWlodWF3ay9Eb2N1bWVudHMvb3B0L2Nob2Vyb2Rvbi11aS9jb21wb25lbnRzL3Rvb2x0aXAvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQVFBOztBQUNBOztBQUVBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZ0RBLElBQU0sV0FBVyxHQUFHLFNBQWQsV0FBYyxDQUFDLEdBQUQsRUFBVyxJQUFYLEVBQTZCO0FBQy9DLE1BQU0sTUFBTSxHQUFRLEVBQXBCO0FBQ0EsTUFBTSxNQUFNLHNDQUFhLEdBQWIsQ0FBWjtBQUNBLEVBQUEsSUFBSSxDQUFDLE9BQUwsQ0FBYSxVQUFBLEdBQUcsRUFBRztBQUNqQixRQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBbEIsRUFBdUI7QUFDckIsTUFBQSxNQUFNLENBQUMsR0FBRCxDQUFOLEdBQWMsR0FBRyxDQUFDLEdBQUQsQ0FBakI7QUFDQSxhQUFPLE1BQU0sQ0FBQyxHQUFELENBQWI7QUFDRDtBQUNGLEdBTEQ7QUFNQSxTQUFPO0FBQUUsSUFBQSxNQUFNLEVBQU4sTUFBRjtBQUFVLElBQUEsTUFBTSxFQUFOO0FBQVYsR0FBUDtBQUNELENBVkQ7O0lBWXFCLE87Ozs7Ozs7QUFjbkIsbUJBQVksS0FBWixFQUErQjtBQUFBOztBQUFBO0FBQzdCLDhCQUFNLEtBQU47O0FBYUYsVUFBQSxlQUFBLEdBQWtCLFVBQUMsT0FBRCxFQUFxQjtBQUFBLFVBQzdCLGVBRDZCLEdBQ1QsTUFBSyxLQURJLENBQzdCLGVBRDZCOztBQUVyQyxVQUFJLEVBQUUsYUFBYSxNQUFLLEtBQXBCLENBQUosRUFBZ0M7QUFDOUIsY0FBSyxRQUFMLENBQWM7QUFBRSxVQUFBLE9BQU8sRUFBRSxNQUFLLFNBQUwsS0FBbUIsS0FBbkIsR0FBMkI7QUFBdEMsU0FBZDtBQUNEOztBQUNELFVBQUksZUFBZSxJQUFJLENBQUMsTUFBSyxTQUFM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RUFBb0I7QUFBRSxRQUFBLFNBQVMsRUFBRTtBQUFiLE9BQXBCLENBQUgsR0FBa0QsS0FYNUQsQ0FERjtBQWVEOzs7RUFwTWtDLGdCOzs7QUFDNUIsT0FBQSxDQUFBLFdBQUEsR0FBYyxTQUFkO0FBRUEsT0FBQSxDQUFBLFlBQUEsR0FBZTtBQUNwQixFQUFBLFNBQVMsRUFBRSxLQURTO0FBRXBCLEVBQUEsY0FBYyxFQUFFLGVBRkk7QUFHcEIsRUFBQSxlQUFlLEVBQUUsR0FIRztBQUlwQixFQUFBLGVBQWUsRUFBRSxHQUpHO0FBS3BCLEVBQUEsa0JBQWtCLEVBQUUsS0FMQTtBQU1wQixFQUFBLGtCQUFrQixFQUFFO0FBTkEsQ0FBZiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge1xuICBjbG9uZUVsZW1lbnQsXG4gIENvbXBvbmVudCxcbiAgQ1NTUHJvcGVydGllcyxcbiAgaXNWYWxpZEVsZW1lbnQsXG4gIFJlYWN0RWxlbWVudCxcbiAgUmVhY3ROb2RlLFxufSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBnZXRQbGFjZW1lbnRzLCB7IEFkanVzdE92ZXJmbG93LCBQbGFjZW1lbnRzQ29uZmlnIH0gZnJvbSAnLi9wbGFjZW1lbnRzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uL2luZGV4JztcbmltcG9ydCBSY1Rvb2x0aXAgZnJvbSAnLi4vcmMtY29tcG9uZW50cy90b29sdGlwJztcbmltcG9ydCB7IGdldFByZWZpeENscyB9IGZyb20gJy4uL2NvbmZpZ3VyZSc7XG5cbmV4cG9ydCB7IEFkanVzdE92ZXJmbG93LCBQbGFjZW1lbnRzQ29uZmlnIH07XG5cbmV4cG9ydCB0eXBlIFRvb2x0aXBQbGFjZW1lbnQgPVxuICB8ICd0b3AnXG4gIHwgJ2xlZnQnXG4gIHwgJ3JpZ2h0J1xuICB8ICdib3R0b20nXG4gIHwgJ3RvcExlZnQnXG4gIHwgJ3RvcFJpZ2h0J1xuICB8ICdib3R0b21MZWZ0J1xuICB8ICdib3R0b21SaWdodCdcbiAgfCAnbGVmdFRvcCdcbiAgfCAnbGVmdEJvdHRvbSdcbiAgfCAncmlnaHRUb3AnXG4gIHwgJ3JpZ2h0Qm90dG9tJztcblxuZXhwb3J0IGludGVyZmFjZSBBYnN0cmFjdFRvb2x0aXBQcm9wcyB7XG4gIHByZWZpeENscz86IHN0cmluZztcbiAgb3ZlcmxheUNsYXNzTmFtZT86IHN0cmluZztcbiAgc3R5bGU/OiBDU1NQcm9wZXJ0aWVzO1xuICBvdmVybGF5U3R5bGU/OiBDU1NQcm9wZXJ0aWVzO1xuICBwbGFjZW1lbnQ/OiBUb29sdGlwUGxhY2VtZW50O1xuICBidWlsdGluUGxhY2VtZW50cz86IE9iamVjdDtcbiAgZGVmYXVsdFZpc2libGU/OiBib29sZWFuO1xuICB2aXNpYmxlPzogYm9vbGVhbjtcbiAgb25WaXNpYmxlQ2hhbmdlPzogKHZpc2libGU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIG1vdXNlRW50ZXJEZWxheT86IG51bWJlcjtcbiAgbW91c2VMZWF2ZURlbGF5PzogbnVtYmVyO1xuICB0cmFuc2l0aW9uTmFtZT86IHN0cmluZztcbiAgdHJpZ2dlcj86ICdob3ZlcicgfCAnZm9jdXMnIHwgJ2NsaWNrJyB8ICdjb250ZXh0TWVudSc7XG4gIG9wZW5DbGFzc05hbWU/OiBzdHJpbmc7XG4gIGFycm93UG9pbnRBdENlbnRlcj86IGJvb2xlYW47XG4gIGF1dG9BZGp1c3RPdmVyZmxvdz86IGJvb2xlYW4gfCBBZGp1c3RPdmVyZmxvdztcbiAgLy8gZ2V0VG9vbHRpcENvbnRhaW5lciBoYWQgYmVlbiByZW5hbWUgdG8gZ2V0UG9wdXBDb250YWluZXJcbiAgZ2V0VG9vbHRpcENvbnRhaW5lcj86ICh0cmlnZ2VyTm9kZTogRWxlbWVudCkgPT4gSFRNTEVsZW1lbnQ7XG4gIGdldFBvcHVwQ29udGFpbmVyPzogKHRyaWdnZXJOb2RlOiBFbGVtZW50KSA9PiBIVE1MRWxlbWVudDtcbiAgY2hpbGRyZW4/OiBSZWFjdE5vZGU7XG59XG5cbmV4cG9ydCB0eXBlIFJlbmRlckZ1bmN0aW9uID0gKCkgPT4gUmVhY3ROb2RlO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvb2x0aXBQcm9wcyBleHRlbmRzIEFic3RyYWN0VG9vbHRpcFByb3BzIHtcbiAgdGl0bGU/OiBSZWFjdE5vZGUgfCBSZW5kZXJGdW5jdGlvbjtcbiAgb3ZlcmxheT86IFJlYWN0Tm9kZSB8IFJlbmRlckZ1bmN0aW9uO1xufVxuXG5jb25zdCBzcGxpdE9iamVjdCA9IChvYmo6IGFueSwga2V5czogc3RyaW5nW10pID0+IHtcbiAgY29uc3QgcGlja2VkOiBhbnkgPSB7fTtcbiAgY29uc3Qgb21pdGVkOiBhbnkgPSB7IC4uLm9iaiB9O1xuICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICBpZiAob2JqICYmIGtleSBpbiBvYmopIHtcbiAgICAgIHBpY2tlZFtrZXldID0gb2JqW2tleV07XG4gICAgICBkZWxldGUgb21pdGVkW2tleV07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHsgcGlja2VkLCBvbWl0ZWQgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBDb21wb25lbnQ8VG9vbHRpcFByb3BzLCBhbnk+IHtcbiAgc3RhdGljIGRpc3BsYXlOYW1lID0gJ1Rvb2x0aXAnO1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICB0cmFuc2l0aW9uTmFtZTogJ3pvb20tYmlnLWZhc3QnLFxuICAgIG1vdXNlRW50ZXJEZWxheTogMC4xLFxuICAgIG1vdXNlTGVhdmVEZWxheTogMC4xLFxuICAgIGFycm93UG9pbnRBdENlbnRlcjogZmFsc2UsXG4gICAgYXV0b0FkanVzdE92ZXJmbG93OiB0cnVlLFxuICB9O1xuXG4gIHByaXZhdGUgdG9vbHRpcDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBUb29sdGlwUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdmlzaWJsZTogISFwcm9wcy52aXNpYmxlIHx8ICEhcHJvcHMuZGVmYXVsdFZpc2libGUsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBUb29sdGlwUHJvcHMpIHtcbiAgICBpZiAoJ3Zpc2libGUnIGluIG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZpc2libGU6IG5leHRQcm9wcy52aXNpYmxlIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uVmlzaWJsZUNoYW5nZSA9ICh2aXNpYmxlOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgeyBvblZpc2libGVDaGFuZ2UgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCEoJ3Zpc2libGUnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmlzaWJsZTogdGhpcy5pc05vVGl0bGUoKSA/IGZhbHNlIDogdmlzaWJsZSB9KTtcbiAgICB9XG4gICAgaWYgKG9uVmlzaWJsZUNoYW5nZSAmJiAhdGhpcy5pc05vVGl0bGUoKSkge1xuICAgICAgb25WaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuICAgIH1cbiAgfTtcblxuICBnZXRQb3B1cERvbU5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbHRpcC5nZXRQb3B1cERvbU5vZGUoKTtcbiAgfVxuXG4gIGdldFBsYWNlbWVudHMoKSB7XG4gICAgY29uc3QgeyBidWlsdGluUGxhY2VtZW50cywgYXJyb3dQb2ludEF0Q2VudGVyLCBhdXRvQWRqdXN0T3ZlcmZsb3cgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIGJ1aWx0aW5QbGFjZW1lbnRzIHx8XG4gICAgICBnZXRQbGFjZW1lbnRzKHtcbiAgICAgICAgYXJyb3dQb2ludEF0Q2VudGVyLFxuICAgICAgICB2ZXJ0aWNhbEFycm93U2hpZnQ6IDgsXG4gICAgICAgIGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGlzSG92ZXJUcmlnZ2VyKCkge1xuICAgIGNvbnN0IHsgdHJpZ2dlciB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXRyaWdnZXIgfHwgdHJpZ2dlciA9PT0gJ2hvdmVyJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHRyaWdnZXIpKSB7XG4gICAgICByZXR1cm4gdHJpZ2dlci5pbmRleE9mKCdob3ZlcicpID49IDA7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEZpeCBUb29sdGlwIHdvbid0IGhpZGUgYXQgZGlzYWJsZWQgYnV0dG9uXG4gIC8vIG1vdXNlIGV2ZW50cyBkb24ndCB0cmlnZ2VyIGF0IGRpc2FibGVkIGJ1dHRvbiBpbiBDaHJvbWVcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWNvbXBvbmVudC90b29sdGlwL2lzc3Vlcy8xOFxuICBnZXREaXNhYmxlZENvbXBhdGlibGVDaGlsZHJlbihlbGVtZW50OiBSZWFjdEVsZW1lbnQ8YW55Pikge1xuICAgIGNvbnN0IGVsZW1lbnRUeXBlID0gZWxlbWVudC50eXBlIGFzIGFueVxuICAgIGlmIChcbiAgICAgICgoIGVsZW1lbnRUeXBlLl9fUHJvX0JVVFRPTiA9PT0gdHJ1ZSB8fFxuICAgICAgICBlbGVtZW50VHlwZS5fX1Byb19TV0lUQ0ggPT09IHRydWUgfHxcbiAgICAgICAgZWxlbWVudFR5cGUuX19Qcm9fQ0hFQ0tCT1ggPT09IHRydWUgfHwgXG4gICAgICAgIChlbGVtZW50LnR5cGUgYXMgdHlwZW9mIEJ1dHRvbikuX19BTlRfQlVUVE9OIHx8IFxuICAgICAgICBlbGVtZW50LnR5cGUgPT09ICdidXR0b24nKSAmJlxuICAgICAgICBlbGVtZW50LnByb3BzLmRpc2FibGVkIFxuICAgICAgKSAmJlxuICAgICAgZWxlbWVudC5wcm9wcy5kaXNhYmxlZCAmJlxuICAgICAgdGhpcy5pc0hvdmVyVHJpZ2dlcigpXG4gICAgKSB7XG4gICAgICAvLyBQaWNrIHNvbWUgbGF5b3V0IHJlbGF0ZWQgc3R5bGUgcHJvcGVydGllcyB1cCB0byBzcGFuXG5cbiAgICAgIGNvbnN0IHsgcGlja2VkLCBvbWl0ZWQgfSA9IHNwbGl0T2JqZWN0KGVsZW1lbnQucHJvcHMuc3R5bGUsIFtcbiAgICAgICAgJ3Bvc2l0aW9uJyxcbiAgICAgICAgJ2xlZnQnLFxuICAgICAgICAncmlnaHQnLFxuICAgICAgICAndG9wJyxcbiAgICAgICAgJ2JvdHRvbScsXG4gICAgICAgICdmbG9hdCcsXG4gICAgICAgICdkaXNwbGF5JyxcbiAgICAgICAgJ3pJbmRleCcsXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IHNwYW5TdHlsZSA9IHtcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsIC8vIGRlZmF1bHQgaW5saW5lLWJsb2NrIGlzIGltcG9ydGFudFxuICAgICAgICAuLi5waWNrZWQsXG4gICAgICAgIGN1cnNvcjogJ25vdC1hbGxvd2VkJyxcbiAgICAgIH07XG4gICAgICBjb25zdCBidXR0b25TdHlsZSA9IHtcbiAgICAgICAgLi4ub21pdGVkLFxuICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICB9O1xuICAgICAgY29uc3QgY2hpbGQgPSBjbG9uZUVsZW1lbnQoZWxlbWVudCwge1xuICAgICAgICBzdHlsZTogYnV0dG9uU3R5bGUsXG4gICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW4gc3R5bGU9e3NwYW5TdHlsZX0gY2xhc3NOYW1lPXtlbGVtZW50LnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICAgICAge2NoaWxkfVxuICAgICAgICA8L3NwYW4+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIGlzTm9UaXRsZSgpIHtcbiAgICBjb25zdCB7IHRpdGxlLCBvdmVybGF5IH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAhdGl0bGUgJiYgIW92ZXJsYXk7IC8vIG92ZXJsYXkgZm9yIG9sZCB2ZXJzaW9uIGNvbXBhdGliaWxpdHlcbiAgfVxuXG4gIC8vIOWKqOaAgeiuvue9ruWKqOeUu+eCuVxuICBvblBvcHVwQWxpZ24gPSAoZG9tTm9kZTogSFRNTEVsZW1lbnQsIGFsaWduOiBhbnkpID0+IHtcbiAgICBjb25zdCBwbGFjZW1lbnRzOiBhbnkgPSB0aGlzLmdldFBsYWNlbWVudHMoKTtcbiAgICAvLyDlvZPliY3ov5Tlm57nmoTkvY3nva5cbiAgICBjb25zdCBwbGFjZW1lbnQgPSBPYmplY3Qua2V5cyhwbGFjZW1lbnRzKS5maWx0ZXIoXG4gICAgICBrZXkgPT5cbiAgICAgICAgcGxhY2VtZW50c1trZXldLnBvaW50c1swXSA9PT0gYWxpZ24ucG9pbnRzWzBdICYmXG4gICAgICAgIHBsYWNlbWVudHNba2V5XS5wb2ludHNbMV0gPT09IGFsaWduLnBvaW50c1sxXSxcbiAgICApWzBdO1xuICAgIGlmICghcGxhY2VtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIOagueaNruW9k+WJjeWdkOagh+iuvue9ruWKqOeUu+eCuVxuICAgIGNvbnN0IHJlY3QgPSBkb21Ob2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHRyYW5zZm9ybU9yaWdpbiA9IHtcbiAgICAgIHRvcDogJzUwJScsXG4gICAgICBsZWZ0OiAnNTAlJyxcbiAgICB9O1xuICAgIGlmIChwbGFjZW1lbnQuaW5kZXhPZigndG9wJykgPj0gMCB8fCBwbGFjZW1lbnQuaW5kZXhPZignQm90dG9tJykgPj0gMCkge1xuICAgICAgdHJhbnNmb3JtT3JpZ2luLnRvcCA9IGAke3JlY3QuaGVpZ2h0IC0gYWxpZ24ub2Zmc2V0WzFdfXB4YDtcbiAgICB9IGVsc2UgaWYgKHBsYWNlbWVudC5pbmRleE9mKCdUb3AnKSA+PSAwIHx8IHBsYWNlbWVudC5pbmRleE9mKCdib3R0b20nKSA+PSAwKSB7XG4gICAgICB0cmFuc2Zvcm1PcmlnaW4udG9wID0gYCR7LWFsaWduLm9mZnNldFsxXX1weGA7XG4gICAgfVxuICAgIGlmIChwbGFjZW1lbnQuaW5kZXhPZignbGVmdCcpID49IDAgfHwgcGxhY2VtZW50LmluZGV4T2YoJ1JpZ2h0JykgPj0gMCkge1xuICAgICAgdHJhbnNmb3JtT3JpZ2luLmxlZnQgPSBgJHtyZWN0LndpZHRoIC0gYWxpZ24ub2Zmc2V0WzBdfXB4YDtcbiAgICB9IGVsc2UgaWYgKHBsYWNlbWVudC5pbmRleE9mKCdyaWdodCcpID49IDAgfHwgcGxhY2VtZW50LmluZGV4T2YoJ0xlZnQnKSA+PSAwKSB7XG4gICAgICB0cmFuc2Zvcm1PcmlnaW4ubGVmdCA9IGAkey1hbGlnbi5vZmZzZXRbMF19cHhgO1xuICAgIH1cbiAgICBkb21Ob2RlLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGAke3RyYW5zZm9ybU9yaWdpbi5sZWZ0fSAke3RyYW5zZm9ybU9yaWdpbi50b3B9YDtcbiAgfTtcblxuICBzYXZlVG9vbHRpcCA9IChub2RlOiBSY1Rvb2x0aXAgfCBudWxsKSA9PiB7XG4gICAgdGhpcy50b29sdGlwID0gbm9kZTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcywgc3RhdGUgfSA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgcHJlZml4Q2xzOiBjdXN0b21pemVQcmVmaXhDbHMsXG4gICAgICB0aXRsZSxcbiAgICAgIG92ZXJsYXksXG4gICAgICBvcGVuQ2xhc3NOYW1lLFxuICAgICAgZ2V0UG9wdXBDb250YWluZXIsXG4gICAgICBnZXRUb29sdGlwQ29udGFpbmVyLFxuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCBwcmVmaXhDbHMgPSBnZXRQcmVmaXhDbHMoJ3Rvb2x0aXAnLCBjdXN0b21pemVQcmVmaXhDbHMpO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4gYXMgUmVhY3RFbGVtZW50PGFueT47XG4gICAgbGV0IHZpc2libGUgPSBzdGF0ZS52aXNpYmxlO1xuICAgIC8vIEhpZGUgdG9vbHRpcCB3aGVuIHRoZXJlIGlzIG5vIHRpdGxlXG4gICAgaWYgKCEoJ3Zpc2libGUnIGluIHByb3BzKSAmJiB0aGlzLmlzTm9UaXRsZSgpKSB7XG4gICAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgY2hpbGQgPSB0aGlzLmdldERpc2FibGVkQ29tcGF0aWJsZUNoaWxkcmVuKFxuICAgICAgaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pID8gY2hpbGRyZW4gOiA8c3Bhbj57Y2hpbGRyZW59PC9zcGFuPixcbiAgICApO1xuICAgIGNvbnN0IGNoaWxkUHJvcHMgPSBjaGlsZC5wcm9wcztcbiAgICBjb25zdCBjaGlsZENscyA9IGNsYXNzTmFtZXMoY2hpbGRQcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgIFtvcGVuQ2xhc3NOYW1lIHx8IGAke3ByZWZpeENsc30tb3BlbmBdOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSY1Rvb2x0aXBcbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIHByZWZpeENscz17cHJlZml4Q2xzfVxuICAgICAgICBnZXRUb29sdGlwQ29udGFpbmVyPXtnZXRQb3B1cENvbnRhaW5lciB8fCBnZXRUb29sdGlwQ29udGFpbmVyfVxuICAgICAgICByZWY9e3RoaXMuc2F2ZVRvb2x0aXB9XG4gICAgICAgIGJ1aWx0aW5QbGFjZW1lbnRzPXt0aGlzLmdldFBsYWNlbWVudHMoKX1cbiAgICAgICAgb3ZlcmxheT17b3ZlcmxheSB8fCB0aXRsZSB8fCAnJ31cbiAgICAgICAgdmlzaWJsZT17dmlzaWJsZX1cbiAgICAgICAgb25WaXNpYmxlQ2hhbmdlPXt0aGlzLm9uVmlzaWJsZUNoYW5nZX1cbiAgICAgICAgb25Qb3B1cEFsaWduPXt0aGlzLm9uUG9wdXBBbGlnbn1cbiAgICAgID5cbiAgICAgICAge3Zpc2libGUgPyBjbG9uZUVsZW1lbnQoY2hpbGQsIHsgY2xhc3NOYW1lOiBjaGlsZENscyB9KSA6IGNoaWxkfVxuICAgICAgPC9SY1Rvb2x0aXA+XG4gICAgKTtcbiAgfVxufVxuIl19