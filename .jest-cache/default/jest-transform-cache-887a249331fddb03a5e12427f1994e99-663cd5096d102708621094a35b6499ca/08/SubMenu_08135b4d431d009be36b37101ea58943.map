{"version":3,"sources":["menu/SubMenu.jsx"],"names":["guid","popupPlacementMap","horizontal","vertical","updateDefaultActiveFirst","menuId","state","store","defaultActiveFirst","SubMenu","Component","parentMenu","PropTypes","title","children","selectedKeys","openKeys","onClick","onOpenChange","rootPrefixCls","eventKey","multiple","active","onItemHover","onSelect","triggerSubMenuAction","onDeselect","onDestroy","onMouseEnter","onMouseLeave","onTitleMouseEnter","onTitleMouseLeave","onTitleClick","popupOffset","isOpen","mode","manualRef","itemIcon","expandIcon","noop","props","value","setTimeout","clearTimeout","keyCode","e","menu","KeyCode","handled","visible","key","domEvent","hover","keyPath","info","openChange","item","trigger","open","type","ret","find","popupMenu","baseProps","hidden","level","inlineIndent","focusable","openTransitionName","openAnimation","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","prefixCls","id","haveRendered","transitionAppear","animProps","_menuId","isInlineMode","className","mouseEvents","titleClickEvents","titleMouseEvents","style","ariaOwns","icon","undefined","getPopupContainer","triggerNode","popupPlacement","popupAlign","offset","popupClassName","disabled","menuAllProps","placements","connected","activeKey","subMenuKey"],"mappings":"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","sourcesContent":["import React, { Component, createElement } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport noop from 'lodash/noop';\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport Trigger from '../trigger';\nimport KeyCode from '../../_util/KeyCode';\nimport SubPopupMenu from './SubPopupMenu';\nimport placements from './placements';\nimport Animate from '../../animate';\nimport { getMenuIdFromSubMenuEventKey, loopMenuItemRecursively, menuAllProps, } from './util';\n\nlet guid = 0;\n\nconst popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop',\n};\n\nconst updateDefaultActiveFirst = (store, eventKey, defaultActiveFirst) => {\n  const menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  const state = store.getState();\n  store.setState({\n    defaultActiveFirst: {\n      ...state.defaultActiveFirst,\n      [menuId]: defaultActiveFirst,\n    },\n  });\n};\n\nexport class SubMenu extends Component {\n  static propTypes = {\n    parentMenu: PropTypes.object,\n    title: PropTypes.node,\n    children: PropTypes.any,\n    selectedKeys: PropTypes.array,\n    openKeys: PropTypes.array,\n    onClick: PropTypes.func,\n    onOpenChange: PropTypes.func,\n    rootPrefixCls: PropTypes.string,\n    eventKey: PropTypes.string,\n    multiple: PropTypes.bool,\n    active: PropTypes.bool, // TODO: remove\n    onItemHover: PropTypes.func,\n    onSelect: PropTypes.func,\n    triggerSubMenuAction: PropTypes.string,\n    onDeselect: PropTypes.func,\n    onDestroy: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onTitleMouseEnter: PropTypes.func,\n    onTitleMouseLeave: PropTypes.func,\n    onTitleClick: PropTypes.func,\n    popupOffset: PropTypes.array,\n    isOpen: PropTypes.bool,\n    store: PropTypes.object,\n    mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n    manualRef: PropTypes.func,\n    itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  };\n\n  static defaultProps = {\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n    onTitleMouseEnter: noop,\n    onTitleMouseLeave: noop,\n    onTitleClick: noop,\n    manualRef: noop,\n    mode: 'vertical',\n    title: '',\n  };\n\n  constructor(props) {\n    super(props);\n    const store = props.store;\n    const eventKey = props.eventKey;\n    const defaultActiveFirst = store.getState().defaultActiveFirst;\n\n    this.isRootMenu = false;\n\n    let value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n  }\n\n  componentDidMount() {\n    this.componentDidUpdate();\n  }\n\n  componentDidUpdate() {\n    const { mode, parentMenu, manualRef } = this.props;\n\n    // invoke customized ref to expose component to mixin\n    if (manualRef) {\n      manualRef(this);\n    }\n\n    if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.props.isOpen) {\n      return;\n    }\n\n    this.minWidthTimeout = setTimeout(() => this.adjustWidth(), 0);\n  }\n\n  componentWillUnmount() {\n    const { onDestroy, eventKey } = this.props;\n    if (onDestroy) {\n      onDestroy(eventKey);\n    }\n\n    /* istanbul ignore if */\n    if (this.minWidthTimeout) {\n      clearTimeout(this.minWidthTimeout);\n    }\n\n    /* istanbul ignore if */\n    if (this.mouseenterTimeout) {\n      clearTimeout(this.mouseenterTimeout);\n    }\n  }\n\n  onDestroy = (key) => {\n    this.props.onDestroy(key);\n  };\n\n  onKeyDown = (e) => {\n    const keyCode = e.keyCode;\n    const menu = this.menuInstance;\n    const {\n      isOpen,\n      store,\n    } = this.props;\n\n    if (keyCode === KeyCode.ENTER) {\n      this.onTitleClick(e);\n      updateDefaultActiveFirst(store, this.props.eventKey, true);\n      return true;\n    }\n\n    if (keyCode === KeyCode.RIGHT) {\n      if (isOpen) {\n        menu.onKeyDown(e);\n      } else {\n        this.triggerOpenChange(true);\n        // need to update current menu's defaultActiveFirst value\n        updateDefaultActiveFirst(store, this.props.eventKey, true);\n      }\n      return true;\n    }\n    if (keyCode === KeyCode.LEFT) {\n      let handled;\n      if (isOpen) {\n        handled = menu.onKeyDown(e);\n      } else {\n        return undefined;\n      }\n      if (!handled) {\n        this.triggerOpenChange(false);\n        handled = true;\n      }\n      return handled;\n    }\n\n    if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n      return menu.onKeyDown(e);\n    }\n  };\n\n  onOpenChange = (e) => {\n    this.props.onOpenChange(e);\n  };\n\n  onPopupVisibleChange = (visible) => {\n    this.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n  };\n\n  onMouseEnter = (e) => {\n    const { eventKey: key, onMouseEnter, store } = this.props;\n    updateDefaultActiveFirst(store, this.props.eventKey, false);\n    onMouseEnter({\n      key,\n      domEvent: e,\n    });\n  };\n\n  onMouseLeave = (e) => {\n    const {\n      parentMenu,\n      eventKey,\n      onMouseLeave,\n    } = this.props;\n    parentMenu.subMenuInstance = this;\n    onMouseLeave({\n      key: eventKey,\n      domEvent: e,\n    });\n  };\n\n  onTitleMouseEnter = (domEvent) => {\n    const { eventKey: key, onItemHover, onTitleMouseEnter } = this.props;\n    onItemHover({\n      key,\n      hover: true,\n    });\n    onTitleMouseEnter({\n      key,\n      domEvent,\n    });\n  };\n\n  onTitleMouseLeave = (e) => {\n    const { parentMenu, eventKey, onItemHover, onTitleMouseLeave } = this.props;\n    parentMenu.subMenuInstance = this;\n    onItemHover({\n      key: eventKey,\n      hover: false,\n    });\n    onTitleMouseLeave({\n      key: eventKey,\n      domEvent: e,\n    });\n  };\n\n  onTitleClick = (e) => {\n    const { props } = this;\n    props.onTitleClick({\n      key: props.eventKey,\n      domEvent: e,\n    });\n    if (props.triggerSubMenuAction === 'hover') {\n      return;\n    }\n    this.triggerOpenChange(!props.isOpen, 'click');\n    updateDefaultActiveFirst(props.store, this.props.eventKey, false);\n  };\n\n  onSubMenuClick = (info) => {\n    // in the case of overflowed submenu\n    // onClick is not copied over\n    if (typeof this.props.onClick === 'function') {\n      this.props.onClick(this.addKeyPath(info));\n    }\n  };\n\n  onSelect = (info) => {\n    this.props.onSelect(info);\n  };\n\n  onDeselect = (info) => {\n    this.props.onDeselect(info);\n  };\n\n  getPrefixCls = () => {\n    return `${this.props.rootPrefixCls}-submenu`;\n  };\n\n  getActiveClassName = () => {\n    return `${this.getPrefixCls()}-active`;\n  };\n\n  getDisabledClassName = () => {\n    return `${this.getPrefixCls()}-disabled`;\n  };\n\n  getSelectedClassName = () => {\n    return `${this.getPrefixCls()}-selected`;\n  };\n\n  getOpenClassName = () => {\n    return `${this.props.rootPrefixCls}-submenu-open`;\n  };\n\n  saveMenuInstance = (c) => {\n    // children menu instance\n    this.menuInstance = c;\n  };\n\n  addKeyPath = (info) => {\n    return {\n      ...info,\n      keyPath: (info.keyPath || []).concat(this.props.eventKey),\n    };\n  };\n\n  triggerOpenChange = (open, type) => {\n    const key = this.props.eventKey;\n    const openChange = () => {\n      this.onOpenChange({\n        key,\n        item: this,\n        trigger: type,\n        open,\n      });\n    };\n    if (type === 'mouseenter') {\n      // make sure mouseenter happen after other menu item's mouseleave\n      this.mouseenterTimeout = setTimeout(() => {\n        openChange();\n      }, 0);\n    } else {\n      openChange();\n    }\n  };\n\n  isChildrenSelected = () => {\n    const ret = { find: false };\n    loopMenuItemRecursively(this.props.children, this.props.selectedKeys, ret);\n    return ret.find;\n  };\n\n  isOpen = () => {\n    return this.props.openKeys.indexOf(this.props.eventKey) !== -1;\n  };\n\n  adjustWidth = () => {\n    /* istanbul ignore if */\n    if (!this.subMenuTitle || !this.menuInstance) {\n      return;\n    }\n    const popupMenu = findDOMNode(this.menuInstance);\n    if (popupMenu.offsetWidth >= this.subMenuTitle.offsetWidth) {\n      return;\n    }\n\n    /* istanbul ignore next */\n    popupMenu.style.minWidth = `${this.subMenuTitle.offsetWidth}px`;\n  };\n\n  saveSubMenuTitle = (subMenuTitle) => {\n    this.subMenuTitle = subMenuTitle;\n  };\n\n  renderChildren(children) {\n    const props = this.props;\n    const baseProps = {\n      mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n      hidden: !this.props.isOpen,\n      level: props.level + 1,\n      inlineIndent: props.inlineIndent,\n      focusable: false,\n      onClick: this.onSubMenuClick,\n      onSelect: this.onSelect,\n      onDeselect: this.onDeselect,\n      onDestroy: this.onDestroy,\n      selectedKeys: props.selectedKeys,\n      eventKey: `${props.eventKey}-menu-`,\n      openKeys: props.openKeys,\n      openTransitionName: props.openTransitionName,\n      openAnimation: props.openAnimation,\n      onOpenChange: this.onOpenChange,\n      subMenuOpenDelay: props.subMenuOpenDelay,\n      parentMenu: this,\n      subMenuCloseDelay: props.subMenuCloseDelay,\n      forceSubMenuRender: props.forceSubMenuRender,\n      triggerSubMenuAction: props.triggerSubMenuAction,\n      builtinPlacements: props.builtinPlacements,\n      defaultActiveFirst: props.store.getState()\n        .defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n      multiple: props.multiple,\n      prefixCls: props.rootPrefixCls,\n      id: this._menuId,\n      manualRef: this.saveMenuInstance,\n      itemIcon: props.itemIcon,\n      expandIcon: props.expandIcon,\n    };\n\n    const haveRendered = this.haveRendered;\n    this.haveRendered = true;\n\n    this.haveOpened = this.haveOpened || !baseProps.hidden || baseProps.forceSubMenuRender;\n    // never rendered not planning to, don't render\n    if (!this.haveOpened) {\n      return <div />;\n    }\n\n    // don't show transition on first rendering (no animation for opened menu)\n    // show appear transition if it's hidden (not sure why)\n    // show appear transition if it's not inline mode\n    const transitionAppear = haveRendered || baseProps.hidden || !baseProps.mode === 'inline';\n\n    baseProps.className = ` ${baseProps.prefixCls}-sub`;\n    const animProps = {};\n\n    if (baseProps.openTransitionName) {\n      animProps.transitionName = baseProps.openTransitionName;\n    } else if (typeof baseProps.openAnimation === 'object') {\n      animProps.animation = { ...baseProps.openAnimation };\n      if (!transitionAppear) {\n        delete animProps.animation.appear;\n      }\n    }\n\n    return (\n      <Animate\n        {...animProps}\n        hiddenProp=\"hidden\"\n        component=\"\"\n        transitionAppear={transitionAppear}\n      >\n        <SubPopupMenu {...baseProps} id={this._menuId}>{children}</SubPopupMenu>\n      </Animate>\n    );\n  }\n\n  render() {\n    const props = { ...this.props };\n    const isOpen = props.isOpen;\n    const prefixCls = this.getPrefixCls();\n    const isInlineMode = props.mode === 'inline';\n    const className = classNames(prefixCls, `${prefixCls}-${props.mode}`, {\n      [props.className]: !!props.className,\n      [this.getOpenClassName()]: isOpen,\n      [this.getActiveClassName()]: props.active || (isOpen && !isInlineMode),\n      [this.getDisabledClassName()]: props.disabled,\n      [this.getSelectedClassName()]: this.isChildrenSelected(),\n    });\n\n    if (!this._menuId) {\n      if (props.eventKey) {\n        this._menuId = `${props.eventKey}$Menu`;\n      } else {\n        this._menuId = `$__$${++guid}$Menu`;\n      }\n    }\n\n    let mouseEvents = {};\n    let titleClickEvents = {};\n    let titleMouseEvents = {};\n    if (!props.disabled) {\n      mouseEvents = {\n        onMouseLeave: this.onMouseLeave,\n        onMouseEnter: this.onMouseEnter,\n      };\n\n      // only works in title, not outer li\n      titleClickEvents = {\n        onClick: this.onTitleClick,\n      };\n      titleMouseEvents = {\n        onMouseEnter: this.onTitleMouseEnter,\n        onMouseLeave: this.onTitleMouseLeave,\n      };\n    }\n\n    const style = {};\n    if (isInlineMode) {\n      style.paddingLeft = props.inlineIndent * props.level;\n    }\n\n    let ariaOwns = {};\n    // only set aria-owns when menu is open\n    // otherwise it would be an invalid aria-owns value\n    // since corresponding node cannot be found\n    if (this.props.isOpen) {\n      ariaOwns = {\n        'aria-owns': this._menuId,\n      };\n    }\n\n    // expand custom icon should NOT be displayed in menu with horizontal mode.\n    let icon = null;\n    if (props.mode !== 'horizontal') {\n      icon = this.props.expandIcon; // ReactNode\n      if (typeof this.props.expandIcon === 'function') {\n        icon = createElement(\n          this.props.expandIcon,\n          { ...this.props },\n        );\n      }\n    }\n\n    const title = (\n      <div\n        ref={this.saveSubMenuTitle}\n        style={style}\n        className={`${prefixCls}-title`}\n        {...titleMouseEvents}\n        {...titleClickEvents}\n        aria-expanded={isOpen}\n        {...ariaOwns}\n        aria-haspopup=\"true\"\n        title={typeof props.title === 'string' ? props.title : undefined}\n      >\n        {props.title}\n        {icon || <i className={`${prefixCls}-arrow`} />}\n      </div>\n    );\n    const children = this.renderChildren(props.children);\n\n    const getPopupContainer = props.parentMenu.isRootMenu ? props.parentMenu.props.getPopupContainer : triggerNode => triggerNode.parentNode;\n    const popupPlacement = popupPlacementMap[props.mode];\n    const popupAlign = props.popupOffset ? { offset: props.popupOffset } : {};\n    const popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\n    const {\n      disabled,\n      triggerSubMenuAction,\n      subMenuOpenDelay,\n      forceSubMenuRender,\n      subMenuCloseDelay,\n      builtinPlacements,\n    } = props;\n    menuAllProps.forEach(key => delete props[key]);\n    // Set onClick to null, to ignore propagated onClick event\n    delete props.onClick;\n\n    return (\n      <li\n        {...props}\n        {...mouseEvents}\n        className={className}\n        role=\"menuitem\"\n      >\n        {isInlineMode && title}\n        {isInlineMode && children}\n        {!isInlineMode && (\n          <Trigger\n            prefixCls={prefixCls}\n            popupClassName={`${prefixCls}-popup ${popupClassName}`}\n            getPopupContainer={getPopupContainer}\n            builtinPlacements={Object.assign({}, placements, builtinPlacements)}\n            popupPlacement={popupPlacement}\n            popupVisible={isOpen}\n            popupAlign={popupAlign}\n            popup={children}\n            action={disabled ? [] : [triggerSubMenuAction]}\n            mouseEnterDelay={subMenuOpenDelay}\n            mouseLeaveDelay={subMenuCloseDelay}\n            onPopupVisibleChange={this.onPopupVisibleChange}\n            forceRender={forceSubMenuRender}\n          >\n            {title}\n          </Trigger>\n        )}\n      </li>\n    );\n  }\n}\n\nconst connected = connect(({ openKeys, activeKey, selectedKeys }, { eventKey, subMenuKey }) => ({\n  isOpen: openKeys.indexOf(eventKey) > -1,\n  active: activeKey[subMenuKey] === eventKey,\n  selectedKeys,\n}))(SubMenu);\n\nconnected.isSubMenu = true;\n\nexport default connected;\n"]}