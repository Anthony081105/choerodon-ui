7f2ff41190bbb55e031422646cd1738c
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _ = _interopRequireDefault(require(".."));

var _dataSet = _interopRequireDefault(require("../../data-set"));

var _focusTest = _interopRequireDefault(require("../../../tests/shared/focusTest"));

(0, _focusTest["default"])(_["default"]);
describe('Select', function () {
  beforeEach(function () {
    jest.useFakeTimers();
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  var handleDataSetChange = jest.fn();
  var ds = new _dataSet["default"]({
    autoCreate: true,
    fields: [{
      name: 'email',
      type: 'email',
      defaultValue: '123@abc.com',
      required: true
    }],
    events: {
      update: handleDataSetChange
    }
  });
  it('dataset set Select value', function () {
    var dstest = new _dataSet["default"]({
      autoCreate: true,
      fields: [{
        name: 'email',
        type: 'email',
        defaultValue: '123@abc.com',
        required: true
      }],
      events: {
        update: handleDataSetChange
      }
    });
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      dataSet: dstest
    }));
    jest.runAllTimers();
    expect(wrapper.find('input').length).toBe(1);
  });
  it('change the Select value', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      dataSet: ds
    }));
    wrapper.find('input').at(0).simulate('change', {
      target: {
        value: '1234@abc.com'
      }
    });
    expect(wrapper.find('input').at(0).prop('value')).toBe('1234@abc.com');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsiRW1haWxGaWxlZCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImplc3QiLCJ1c2VGYWtlVGltZXJzIiwiYWZ0ZXJFYWNoIiwidXNlUmVhbFRpbWVycyIsImhhbmRsZURhdGFTZXRDaGFuZ2UiLCJmbiIsImRzIiwiRGF0YVNldCIsImF1dG9DcmVhdGUiLCJmaWVsZHMiLCJuYW1lIiwidHlwZSIsImRlZmF1bHRWYWx1ZSIsInJlcXVpcmVkIiwiZXZlbnRzIiwidXBkYXRlIiwiaXQiLCJkc3Rlc3QiLCJ3cmFwcGVyIiwicnVuQWxsVGltZXJzIiwiZXhwZWN0IiwiZmluZCIsImxlbmd0aCIsInRvQmUiLCJhdCIsInNpbXVsYXRlIiwidGFyZ2V0IiwidmFsdWUiLCJwcm9wIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUEsMkJBQVVBLFlBQVY7QUFFQUMsUUFBUSxDQUFDLFFBQUQsRUFBVyxZQUFNO0FBQ3ZCQyxFQUFBQSxVQUFVLENBQUMsWUFBTTtBQUNmQyxJQUFBQSxJQUFJLENBQUNDLGFBQUw7QUFDRCxHQUZTLENBQVY7QUFJQUMsRUFBQUEsU0FBUyxDQUFDLFlBQU07QUFDZEYsSUFBQUEsSUFBSSxDQUFDRyxhQUFMO0FBQ0QsR0FGUSxDQUFUO0FBR0EsTUFBTUMsbUJBQW1CLEdBQUdKLElBQUksQ0FBQ0ssRUFBTCxFQUE1QjtBQUVBLE1BQU1DLEVBQUUsR0FBRyxJQUFJQyxtQkFBSixDQUFZO0FBQ3JCQyxJQUFBQSxVQUFVLEVBQUUsSUFEUztBQUVyQkMsSUFBQUEsTUFBTSxFQUFFLENBQUM7QUFBRUMsTUFBQUEsSUFBSSxFQUFFLE9BQVI7QUFBaUJDLE1BQUFBLElBQUksRUFBRSxPQUF2QjtBQUFnQ0MsTUFBQUEsWUFBWSxFQUFFLGFBQTlDO0FBQTZEQyxNQUFBQSxRQUFRLEVBQUU7QUFBdkUsS0FBRCxDQUZhO0FBR3JCQyxJQUFBQSxNQUFNLEVBQUU7QUFDTkMsTUFBQUEsTUFBTSxFQUFFWDtBQURGO0FBSGEsR0FBWixDQUFYO0FBT0FZLEVBQUFBLEVBQUUsQ0FBQywwQkFBRCxFQUE2QixZQUFNO0FBQ25DLFFBQU1DLE1BQU0sR0FBRyxJQUFJVixtQkFBSixDQUFZO0FBQ3pCQyxNQUFBQSxVQUFVLEVBQUUsSUFEYTtBQUV6QkMsTUFBQUEsTUFBTSxFQUFFLENBQUM7QUFBRUMsUUFBQUEsSUFBSSxFQUFFLE9BQVI7QUFBaUJDLFFBQUFBLElBQUksRUFBRSxPQUF2QjtBQUFnQ0MsUUFBQUEsWUFBWSxFQUFFLGFBQTlDO0FBQTZEQyxRQUFBQSxRQUFRLEVBQUU7QUFBdkUsT0FBRCxDQUZpQjtBQUd6QkMsTUFBQUEsTUFBTSxFQUFFO0FBQ05DLFFBQUFBLE1BQU0sRUFBRVg7QUFERjtBQUhpQixLQUFaLENBQWY7QUFPQSxRQUFNYyxPQUFPLEdBQUcsbUJBQU0sZ0NBQUMsWUFBRDtBQUFZLE1BQUEsT0FBTyxFQUFFRDtBQUFyQixNQUFOLENBQWhCO0FBQ0FqQixJQUFBQSxJQUFJLENBQUNtQixZQUFMO0FBQ0FDLElBQUFBLE1BQU0sQ0FBQ0YsT0FBTyxDQUFDRyxJQUFSLENBQWEsT0FBYixFQUFzQkMsTUFBdkIsQ0FBTixDQUFxQ0MsSUFBckMsQ0FBMEMsQ0FBMUM7QUFDRCxHQVhDLENBQUY7QUFZQVAsRUFBQUEsRUFBRSxDQUFDLHlCQUFELEVBQTRCLFlBQU07QUFDbEMsUUFBTUUsT0FBTyxHQUFHLG1CQUFNLGdDQUFDLFlBQUQ7QUFBWSxNQUFBLE9BQU8sRUFBRVo7QUFBckIsTUFBTixDQUFoQjtBQUNBWSxJQUFBQSxPQUFPLENBQ0pHLElBREgsQ0FDUSxPQURSLEVBRUdHLEVBRkgsQ0FFTSxDQUZOLEVBR0dDLFFBSEgsQ0FHWSxRQUhaLEVBR3NCO0FBQ2xCQyxNQUFBQSxNQUFNLEVBQUU7QUFDTkMsUUFBQUEsS0FBSyxFQUFFO0FBREQ7QUFEVSxLQUh0QjtBQVFBUCxJQUFBQSxNQUFNLENBQ0pGLE9BQU8sQ0FDSkcsSUFESCxDQUNRLE9BRFIsRUFFR0csRUFGSCxDQUVNLENBRk4sRUFHR0ksSUFISCxDQUdRLE9BSFIsQ0FESSxDQUFOLENBS0VMLElBTEYsQ0FLTyxjQUxQO0FBTUQsR0FoQkMsQ0FBRjtBQWlCRCxDQTlDTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1vdW50IH0gZnJvbSAnZW56eW1lJztcbmltcG9ydCBFbWFpbEZpbGVkIGZyb20gJy4uJztcbmltcG9ydCBEYXRhU2V0IGZyb20gJy4uLy4uL2RhdGEtc2V0JztcbmltcG9ydCBmb2N1c1Rlc3QgZnJvbSAnLi4vLi4vLi4vdGVzdHMvc2hhcmVkL2ZvY3VzVGVzdCc7XG5cbmZvY3VzVGVzdChFbWFpbEZpbGVkKTtcblxuZGVzY3JpYmUoJ1NlbGVjdCcsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gIH0pO1xuICBjb25zdCBoYW5kbGVEYXRhU2V0Q2hhbmdlID0gamVzdC5mbigpO1xuXG4gIGNvbnN0IGRzID0gbmV3IERhdGFTZXQoe1xuICAgIGF1dG9DcmVhdGU6IHRydWUsXG4gICAgZmllbGRzOiBbeyBuYW1lOiAnZW1haWwnLCB0eXBlOiAnZW1haWwnLCBkZWZhdWx0VmFsdWU6ICcxMjNAYWJjLmNvbScsIHJlcXVpcmVkOiB0cnVlIH1dLFxuICAgIGV2ZW50czoge1xuICAgICAgdXBkYXRlOiBoYW5kbGVEYXRhU2V0Q2hhbmdlLFxuICAgIH0sXG4gIH0pO1xuICBpdCgnZGF0YXNldCBzZXQgU2VsZWN0IHZhbHVlJywgKCkgPT4ge1xuICAgIGNvbnN0IGRzdGVzdCA9IG5ldyBEYXRhU2V0KHtcbiAgICAgIGF1dG9DcmVhdGU6IHRydWUsXG4gICAgICBmaWVsZHM6IFt7IG5hbWU6ICdlbWFpbCcsIHR5cGU6ICdlbWFpbCcsIGRlZmF1bHRWYWx1ZTogJzEyM0BhYmMuY29tJywgcmVxdWlyZWQ6IHRydWUgfV0sXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgdXBkYXRlOiBoYW5kbGVEYXRhU2V0Q2hhbmdlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPEVtYWlsRmlsZWQgZGF0YVNldD17ZHN0ZXN0fSAvPik7XG4gICAgamVzdC5ydW5BbGxUaW1lcnMoKTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCdpbnB1dCcpLmxlbmd0aCkudG9CZSgxKTtcbiAgfSk7XG4gIGl0KCdjaGFuZ2UgdGhlIFNlbGVjdCB2YWx1ZScsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPEVtYWlsRmlsZWQgZGF0YVNldD17ZHN9IC8+KTtcbiAgICB3cmFwcGVyXG4gICAgICAuZmluZCgnaW5wdXQnKVxuICAgICAgLmF0KDApXG4gICAgICAuc2ltdWxhdGUoJ2NoYW5nZScsIHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgdmFsdWU6ICcxMjM0QGFiYy5jb20nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgZXhwZWN0KFxuICAgICAgd3JhcHBlclxuICAgICAgICAuZmluZCgnaW5wdXQnKVxuICAgICAgICAuYXQoMClcbiAgICAgICAgLnByb3AoJ3ZhbHVlJyksXG4gICAgKS50b0JlKCcxMjM0QGFiYy5jb20nKTtcbiAgfSk7XG59KTtcbiJdfQ==