775b9fad72cfbcc462a062a6ed02978d
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _ = _interopRequireDefault(require(".."));

var _dataSet = _interopRequireDefault(require("../../data-set"));

var Option = _["default"].Option;
describe('Select', function () {
  beforeEach(function () {
    jest.useFakeTimers();
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  it('dataset set Select value', function () {
    var handleDataSetChange = jest.fn();
    var lessTreeMock = [{
      expand: false,
      functionCode: 'EMPLOYEE_REACT',
      icon: 'record_test',
      id: 7,
      ischecked: true,
      score: 10,
      shortcutId: null,
      text: '员工管理(react)',
      url: 'hap-core/hr/employee',
      symbol: '1',
      parentId: 2
    }, {
      expand: false,
      functionCode: 'HR_UNIT',
      icon: 'fa fa-cube',
      id: 73,
      ischecked: true,
      score: 10,
      shortcutId: null,
      text: '组织管理',
      url: 'hr/org_unit.html',
      symbol: '0',
      parentId: 2
    }, {
      expand: false,
      functionCode: 'COMPANY_REACT',
      icon: 'mail_set',
      id: 12,
      ischecked: true,
      score: 10,
      shortcutId: null,
      text: '公司管理(react)',
      url: 'hap-core/hr/company',
      symbol: '1',
      parentId: 2
    }, {
      expand: false,
      functionCode: 'ORGUNIT_REACT',
      icon: 'authority',
      id: 5,
      ischecked: true,
      score: 10,
      shortcutId: null,
      text: '组织管理(react)',
      url: 'hap-core/hr/orgunit',
      symbol: '1',
      parentId: 2
    }, {
      expand: false,
      functionCode: 'POSITION_REACT',
      icon: 'agile_subtask',
      id: 6,
      ischecked: true,
      score: 10,
      shortcutId: null,
      text: '岗位管理(react)',
      url: 'hap-core/hr/position',
      symbol: '1',
      parentId: 2
    }, {
      expand: false,
      functionCode: 'HR_POSITION',
      icon: 'fa fa-user-secret',
      id: 75,
      ischecked: true,
      score: 20,
      shortcutId: null,
      text: '岗位管理',
      url: 'hr/position.html',
      symbol: '0',
      parentId: 2
    }, {
      expand: false,
      functionCode: 'HR_EMPLOYEE',
      icon: 'fa fa-user',
      id: 74,
      ischecked: true,
      score: 30,
      shortcutId: null,
      text: '员工管理',
      url: 'hr/employee.html',
      symbol: '0',
      parentId: 2
    }, {
      expand: true,
      functionCode: 'FND_COMPANY',
      icon: 'fa fa-cube',
      id: 76,
      ischecked: null,
      score: 40,
      shortcutId: null,
      text: '公司管理',
      url: 'fnd/company.html',
      symbol: '0',
      parentId: 2
    }, {
      expand: true,
      functionCode: 'HR',
      icon: 'fa fa-cubes',
      id: 2,
      ischecked: null,
      score: 10,
      shortcutId: null,
      text: '组织架构',
      url: null,
      symbol: '0'
    }, {
      expand: true,
      functionCode: 'SYS_REPORT_LIST',
      icon: 'fa fa-user',
      id: 25,
      ischecked: true,
      score: 10,
      shortcutId: null,
      text: '报表定义',
      url: 'rpt/report.html',
      symbol: '0',
      parentId: 24
    }, {
      expand: true,
      functionCode: 'SYS_REPORT_DESIGN',
      icon: 'fa fa-user',
      id: 26,
      ischecked: true,
      score: 10,
      shortcutId: null,
      text: '报表设计',
      url: 'ureport/designer',
      symbol: '0',
      parentId: 24
    }];
    var optionDs = new _dataSet["default"]({
      data: lessTreeMock,
      autoQuery: true,
      selection: 'mutiple',
      parentField: 'parentId',
      idField: 'id',
      fields: [{
        name: 'id',
        type: 'string'
      }, {
        name: 'expand',
        type: 'boolean'
      }, {
        name: 'parentId',
        type: 'string'
      }]
    });
    var ds = new _dataSet["default"]({
      autoCreate: true,
      fields: [{
        name: 'id',
        type: 'string',
        textField: 'text',
        defaultValue: ["2", "7"],
        valueField: 'id',
        label: '部门',
        options: optionDs
      }],
      events: {
        update: handleDataSetChange
      }
    });
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      dataSet: ds,
      name: "user"
    }, _react["default"].createElement(Option, {
      value: "jack"
    }, "Jack"), _react["default"].createElement(Option, {
      value: "lucy"
    }, "Lucy"), _react["default"].createElement(Option, {
      value: "wu"
    }, "Wu")));
    jest.runAllTimers();
    expect(wrapper.find('input').at(0).prop('value')).toBe('');
  });
  it('dataset set value render right number item', function () {
    var handleDataSetChange = jest.fn();
    var data = [{
      user: 'wu'
    }];
    var ds = new _dataSet["default"]({
      data: data,
      fields: [{
        name: 'user',
        type: 'string',
        textField: 'text',
        label: '用户'
      }],
      events: {
        update: handleDataSetChange
      }
    });
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      dataSet: ds,
      name: "user"
    }, _react["default"].createElement(Option, {
      value: "jack"
    }, "Jack"), _react["default"].createElement(Option, {
      value: "lucy"
    }, "Lucy"), _react["default"].createElement(Option, {
      value: "wu"
    }, "Wu")));
    wrapper.find('.c7n-pro-select').simulate('click');
    jest.runAllTimers();
    expect(wrapper.find('MenuItem').length).toBe(3);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsiT3B0aW9uIiwiU2VsZWN0IiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiamVzdCIsInVzZUZha2VUaW1lcnMiLCJhZnRlckVhY2giLCJ1c2VSZWFsVGltZXJzIiwiaXQiLCJoYW5kbGVEYXRhU2V0Q2hhbmdlIiwiZm4iLCJsZXNzVHJlZU1vY2siLCJleHBhbmQiLCJmdW5jdGlvbkNvZGUiLCJpY29uIiwiaWQiLCJpc2NoZWNrZWQiLCJzY29yZSIsInNob3J0Y3V0SWQiLCJ0ZXh0IiwidXJsIiwic3ltYm9sIiwicGFyZW50SWQiLCJvcHRpb25EcyIsIkRhdGFTZXQiLCJkYXRhIiwiYXV0b1F1ZXJ5Iiwic2VsZWN0aW9uIiwicGFyZW50RmllbGQiLCJpZEZpZWxkIiwiZmllbGRzIiwibmFtZSIsInR5cGUiLCJkcyIsImF1dG9DcmVhdGUiLCJ0ZXh0RmllbGQiLCJkZWZhdWx0VmFsdWUiLCJ2YWx1ZUZpZWxkIiwibGFiZWwiLCJvcHRpb25zIiwiZXZlbnRzIiwidXBkYXRlIiwid3JhcHBlciIsInJ1bkFsbFRpbWVycyIsImV4cGVjdCIsImZpbmQiLCJhdCIsInByb3AiLCJ0b0JlIiwidXNlciIsInNpbXVsYXRlIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0lBRVFBLE0sR0FBV0MsWSxDQUFYRCxNO0FBRVJFLFFBQVEsQ0FBQyxRQUFELEVBQVcsWUFBTTtBQUN2QkMsRUFBQUEsVUFBVSxDQUFDLFlBQU07QUFDZkMsSUFBQUEsSUFBSSxDQUFDQyxhQUFMO0FBQ0QsR0FGUyxDQUFWO0FBSUFDLEVBQUFBLFNBQVMsQ0FBQyxZQUFNO0FBQ2RGLElBQUFBLElBQUksQ0FBQ0csYUFBTDtBQUNELEdBRlEsQ0FBVDtBQUlBQyxFQUFBQSxFQUFFLENBQUMsMEJBQUQsRUFBNkIsWUFBTTtBQUNuQyxRQUFNQyxtQkFBbUIsR0FBR0wsSUFBSSxDQUFDTSxFQUFMLEVBQTVCO0FBQ0Es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QUNBOUMsSUFBQUEsSUFBSSxDQUFDdUMsWUFBTDtBQUNBQyxJQUFBQSxNQUFNLENBQUNGLE9BQU8sQ0FBQ0csSUFBUixDQUFhLFVBQWIsRUFBeUJNLE1BQTFCLENBQU4sQ0FBd0NILElBQXhDLENBQTZDLENBQTdDO0FBQ0QsR0F4QkMsQ0FBRjtBQXlCRCxDQWpPTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1vdW50IH0gZnJvbSAnZW56eW1lJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi4nO1xuaW1wb3J0IERhdGFTZXQgZnJvbSAnLi4vLi4vZGF0YS1zZXQnO1xuXG5jb25zdCB7IE9wdGlvbiB9ID0gU2VsZWN0O1xuXG5kZXNjcmliZSgnU2VsZWN0JywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ2RhdGFzZXQgc2V0IFNlbGVjdCB2YWx1ZScsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVEYXRhU2V0Q2hhbmdlID0gamVzdC5mbigpO1xuICAgIGNvbnN0IGxlc3NUcmVlTW9jayA9ICBbXG4gICAgICB7XG4gICAgICAgIGV4cGFuZDogZmFsc2UsXG4gICAgICAgIGZ1bmN0aW9uQ29kZTogJ0VNUExPWUVFX1JFQUNUJyxcbiAgICAgICAgaWNvbjogJ3JlY29yZF90ZXN0JyxcbiAgICAgICAgaWQ6IDcsXG4gICAgICAgIGlzY2hlY2tlZDogdHJ1ZSxcbiAgICAgICAgc2NvcmU6IDEwLFxuICAgICAgICBzaG9ydGN1dElkOiBudWxsLFxuICAgICAgICB0ZXh0OiAn5ZGY5bel566h55CGKHJlYWN0KScsXG4gICAgICAgIHVybDogJ2hhcC1jb3JlL2hyL2VtcGxveWVlJyxcbiAgICAgICAgc3ltYm9sOiAnMScsXG4gICAgICAgIHBhcmVudElkOiAyLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZXhwYW5kOiBmYWxzZSxcbiAgICAgICAgZnVuY3Rpb25Db2RlOiAnSFJfVU5JVCcsXG4gICAgICAgIGljb246ICdmYSBmYS1jdWJlJyxcbiAgICAgICAgaWQ6IDczLFxuICAgICAgICBpc2NoZWNrZWQ6IHRydWUsXG4gICAgICAgIHNjb3JlOiAxMCxcbiAgICAgICAgc2hvcnRjdXRJZDogbnVsbCxcbiAgICAgICAgdGV4dDogJ+e7hOe7h+euoeeQhicsXG4gICAgICAgIHVybDogJ2hyL29yZ191bml0Lmh0bWwnLFxuICAgICAgICBzeW1ib2w6ICcwJyxcbiAgICAgICAgcGFyZW50SWQ6IDIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBleHBhbmQ6IGZhbHNlLFxuICAgICAgICBmdW5jdGlvbkNvZGU6ICdDT01QQU5ZX1JFQUNUJyxcbiAgICAgICAgaWNvbjogJ21haWxfc2V0JyxcbiAgICAgICAgaWQ6IDEyLFxuICAgICAgICBpc2NoZWNrZWQ6IHRydWUsXG4gICAgICAgIHNjb3JlOiAxMCxcbiAgICAgICAgc2hvcnRjdXRJZDogbnVsbCxcbiAgICAgICAgdGV4dDogJ+WFrOWPuOeuoeeQhihyZWFjdCknLFxuICAgICAgICB1cmw6ICdoYXAtY29yZS9oci9jb21wYW55JyxcbiAgICAgICAgc3ltYm9sOiAnMScsXG4gICAgICAgIHBhcmVudElkOiAyLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZXhwYW5kOiBmYWxzZSxcbiAgICAgICAgZnVuY3Rpb25Db2RlOiAnT1JHVU5JVF9SRUFDVCcsXG4gICAgICAgIGljb246ICdhdXRob3JpdHknLFxuICAgICAgICBpZDogNSxcbiAgICAgICAgaXNjaGVja2VkOiB0cnVlLFxuICAgICAgICBzY29yZTogMTAsXG4gICAgICAgIHNob3J0Y3V0SWQ6IG51bGwsXG4gICAgICAgIHRleHQ6ICfnu4Tnu4fnrqHnkIYocmVhY3QpJyxcbiAgICAgICAgdXJsOiAnaGFwLWNvcmUvaHIvb3JndW5pdCcsXG4gICAgICAgIHN5bWJvbDogJzEnLFxuICAgICAgICBwYXJlbnRJZDogMixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGV4cGFuZDogZmFsc2UsXG4gICAgICAgIGZ1bmN0aW9uQ29kZTogJ1BPU0lUSU9OX1JFQUNUJyxcbiAgICAgICAgaWNvbjogJ2FnaWxlX3N1YnRhc2snLFxuICAgICAgICBpZDogNixcbiAgICAgICAgaXNjaGVja2VkOiB0cnVlLFxuICAgICAgICBzY29yZTogMTAsXG4gICAgICAgIHNob3J0Y3V0SWQ6IG51bGwsXG4gICAgICAgIHRleHQ6ICflspfkvY3nrqHnkIYocmVhY3QpJyxcbiAgICAgICAgdXJsOiAnaGFwLWNvcmUvaHIvcG9zaXRpb24nLFxuICAgICAgICBzeW1ib2w6ICcxJyxcbiAgICAgICAgcGFyZW50SWQ6IDIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBleHBhbmQ6IGZhbHNlLFxuICAgICAgICBmdW5jdGlvbkNvZGU6ICdIUl9QT1NJVElPTicsXG4gICAgICAgIGljb246ICdmYSBmYS11c2VyLXNlY3JldCcsXG4gICAgICAgIGlkOiA3NSxcbiAgICAgICAgaXNjaGVja2VkOiB0cnVlLFxuICAgICAgICBzY29yZTogMjAsXG4gICAgICAgIHNob3J0Y3V0SWQ6IG51bGwsXG4gICAgICAgIHRleHQ6ICflspfkvY3nrqHnkIYnLFxuICAgICAgICB1cmw6ICdoci9wb3NpdGlvbi5odG1sJyxcbiAgICAgICAgc3ltYm9sOiAnMCcsXG4gICAgICAgIHBhcmVudElkOiAyLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZXhwYW5kOiBmYWxzZSxcbiAgICAgICAgZnVuY3Rpb25Db2RlOiAnSFJfRU1QTE9ZRUUnLFxuICAgICAgICBpY29uOiAnZmEgZmEtdXNlcicsXG4gICAgICAgIGlkOiA3NCxcbiAgICAgICAgaXNjaGVja2VkOiB0cnVlLFxuICAgICAgICBzY29yZTogMzAsXG4gICAgICAgIHNob3J0Y3V0SWQ6IG51bGwsXG4gICAgICAgIHRleHQ6ICflkZjlt6XnrqHnkIYnLFxuICAgICAgICB1cmw6ICdoci9lbXBsb3llZS5odG1sJyxcbiAgICAgICAgc3ltYm9sOiAnMCcsXG4gICAgICAgIHBhcmVudElkOiAyLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZXhwYW5kOiB0cnVlLFxuICAgICAgICBmdW5jdGlvbkNvZGU6ICdGTkRfQ09NUEFOWScsXG4gICAgICAgIGljb246ICdmYSBmYS1jdWJlJyxcbiAgICAgICAgaWQ6IDc2LFxuICAgICAgICBpc2NoZWNrZWQ6IG51bGwsXG4gICAgICAgIHNjb3JlOiA0MCxcbiAgICAgICAgc2hvcnRjdXRJZDogbnVsbCxcbiAgICAgICAgdGV4dDogJ+WFrOWPuOeuoeeQhicsXG4gICAgICAgIHVybDogJ2ZuZC9jb21wYW55Lmh0bWwnLFxuICAgICAgICBzeW1ib2w6ICcwJyxcbiAgICAgICAgcGFyZW50SWQ6IDIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBleHBhbmQ6IHRydWUsXG4gICAgICAgIGZ1bmN0aW9uQ29kZTogJ0hSJyxcbiAgICAgICAgaWNvbjogJ2ZhIGZhLWN1YmVzJyxcbiAgICAgICAgaWQ6IDIsXG4gICAgICAgIGlzY2hlY2tlZDogbnVsbCxcbiAgICAgICAgc2NvcmU6IDEwLFxuICAgICAgICBzaG9ydGN1dElkOiBudWxsLFxuICAgICAgICB0ZXh0OiAn57uE57uH5p625p6EJyxcbiAgICAgICAgdXJsOiBudWxsLFxuICAgICAgICBzeW1ib2w6ICcwJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGV4cGFuZDogdHJ1ZSxcbiAgICAgICAgZnVuY3Rpb25Db2RlOiAnU1lTX1JFUE9SVF9MSVNUJyxcbiAgICAgICAgaWNvbjogJ2ZhIGZhLXVzZXInLFxuICAgICAgICBpZDogMjUsXG4gICAgICAgIGlzY2hlY2tlZDogdHJ1ZSxcbiAgICAgICAgc2NvcmU6IDEwLFxuICAgICAgICBzaG9ydGN1dElkOiBudWxsLFxuICAgICAgICB0ZXh0OiAn5oql6KGo5a6a5LmJJyxcbiAgICAgICAgdXJsOiAncnB0L3JlcG9ydC5odG1sJyxcbiAgICAgICAgc3ltYm9sOiAnMCcsXG4gICAgICAgIHBhcmVudElkOiAyNCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGV4cGFuZDogdHJ1ZSxcbiAgICAgICAgZnVuY3Rpb25Db2RlOiAnU1lTX1JFUE9SVF9ERVNJR04nLFxuICAgICAgICBpY29uOiAnZmEgZmEtdXNlcicsXG4gICAgICAgIGlkOiAyNixcbiAgICAgICAgaXNjaGVja2VkOiB0cnVlLFxuICAgICAgICBzY29yZTogMTAsXG4gICAgICAgIHNob3J0Y3V0SWQ6IG51bGwsXG4gICAgICAgIHRleHQ6ICfmiqXooajorr7orqEnLFxuICAgICAgICB1cmw6ICd1cmVwb3J0L2Rlc2lnbmVyJyxcbiAgICAgICAgc3ltYm9sOiAnMCcsXG4gICAgICAgIHBhcmVudElkOiAyNCxcbiAgICAgIH0sXG4gICAgXVxuICAgIGNvbnN0IG9wdGlvbkRzID0gbmV3IERhdGFTZXQoe1xuICAgICAgZGF0YTpsZXNzVHJlZU1vY2ssXG4gICAgICBhdXRvUXVlcnk6IHRydWUsXG4gICAgICBzZWxlY3Rpb246ICdtdXRpcGxlJyxcbiAgICAgIHBhcmVudEZpZWxkOiAncGFyZW50SWQnLFxuICAgICAgaWRGaWVsZDogJ2lkJyxcbiAgICAgIGZpZWxkczogW1xuICAgICAgICB7IG5hbWU6ICdpZCcsIHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgIHsgbmFtZTogJ2V4cGFuZCcsIHR5cGU6ICdib29sZWFuJyB9LFxuICAgICAgICB7IG5hbWU6ICdwYXJlbnRJZCcsIHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICBdLFxuICAgIH0pO1xuICBcbiAgICBjb25zdCBkcyA9IG5ldyBEYXRhU2V0KHtcbiAgICAgIGF1dG9DcmVhdGU6dHJ1ZSxcbiAgICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ2lkJyxcbiAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICB0ZXh0RmllbGQ6ICd0ZXh0JyxcbiAgICAgICAgICBkZWZhdWx0VmFsdWU6W1wiMlwiLCBcIjdcIl0sXG4gICAgICAgICAgdmFsdWVGaWVsZDogJ2lkJyxcbiAgICAgICAgICBsYWJlbDogJ+mDqOmXqCcsXG4gICAgICAgICAgb3B0aW9uczogb3B0aW9uRHMsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIHVwZGF0ZTogaGFuZGxlRGF0YVNldENoYW5nZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAgICAgPFNlbGVjdCBkYXRhU2V0PXtkc30gbmFtZT1cInVzZXJcIj5cbiAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImphY2tcIj5KYWNrPC9PcHRpb24+XG4gICAgICAgIDxPcHRpb24gdmFsdWU9XCJsdWN5XCI+THVjeTwvT3B0aW9uPlxuICAgICAgICA8T3B0aW9uIHZhbHVlPVwid3VcIj5XdTwvT3B0aW9uPlxuICAgICAgPC9TZWxlY3Q+LFxuICAgICk7XG4gICAgamVzdC5ydW5BbGxUaW1lcnMoKTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCdpbnB1dCcpXG4gICAgICAgIC5hdCgwKVxuICAgICAgICAucHJvcCgndmFsdWUnKSxcbiAgICApLnRvQmUoJycpO1xuICB9KTtcbiAgaXQoJ2RhdGFzZXQgc2V0IHZhbHVlIHJlbmRlciByaWdodCBudW1iZXIgaXRlbScsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVEYXRhU2V0Q2hhbmdlID0gamVzdC5mbigpO1xuICAgIGNvbnN0IGRhdGEgPSBbXG4gICAgICB7XG4gICAgICAgIHVzZXI6ICd3dScsXG4gICAgICB9LFxuICAgIF07XG4gICAgY29uc3QgZHMgPSBuZXcgRGF0YVNldCh7XG4gICAgICBkYXRhLFxuICAgICAgZmllbGRzOiBbeyBuYW1lOiAndXNlcicsIHR5cGU6ICdzdHJpbmcnLCB0ZXh0RmllbGQ6ICd0ZXh0JywgbGFiZWw6ICfnlKjmiLcnIH1dLFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIHVwZGF0ZTogaGFuZGxlRGF0YVNldENoYW5nZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAgICAgPFNlbGVjdCBkYXRhU2V0PXtkc30gbmFtZT1cInVzZXJcIj5cbiAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImphY2tcIj5KYWNrPC9PcHRpb24+XG4gICAgICAgIDxPcHRpb24gdmFsdWU9XCJsdWN5XCI+THVjeTwvT3B0aW9uPlxuICAgICAgICA8T3B0aW9uIHZhbHVlPVwid3VcIj5XdTwvT3B0aW9uPlxuICAgICAgPC9TZWxlY3Q+LFxuICAgICk7XG4gICAgd3JhcHBlci5maW5kKCcuYzduLXByby1zZWxlY3QnKS5zaW11bGF0ZSgnY2xpY2snKTtcbiAgICBqZXN0LnJ1bkFsbFRpbWVycygpO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJ01lbnVJdGVtJykubGVuZ3RoKS50b0JlKDMpO1xuICB9KTtcbn0pO1xuIl19