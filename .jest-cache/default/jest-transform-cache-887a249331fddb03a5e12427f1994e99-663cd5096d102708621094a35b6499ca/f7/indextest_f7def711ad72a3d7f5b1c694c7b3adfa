f303b15389de1022c570aba8923c299a
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _ = _interopRequireDefault(require(".."));

var _numberData = _interopRequireDefault(require("./numberData"));

var _focusTest = _interopRequireDefault(require("../../../tests/shared/focusTest"));

var _mountTest = _interopRequireDefault(require("../../../tests/shared/mountTest"));

(0, _mountTest["default"])(_["default"]);
(0, _focusTest["default"])(_["default"]);
describe('NumberField-pro', function () {
  beforeEach(function () {
    jest.useFakeTimers();
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  it('renders NumberField correctly', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], null));
    expect(wrapper).toMatchSnapshot();
  });
  it('step renders correctly', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], null));
    expect(wrapper.find('.c7n-pro-input-number-inner-button')).toHaveLength(0);
    wrapper.setProps({
      step: 1
    });
    wrapper.update();
    expect(wrapper.find('.c7n-pro-input-number-inner-button')).toHaveLength(1);
  });
  it('step should have different value', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      step: 0.1,
      min: 0.1
    }));
    wrapper.setProps({
      step: 0.01
    });
    wrapper.update();
    wrapper.setProps({
      min: -1
    });
    wrapper.update();
    wrapper.setProps({
      step: 1.1
    });
    wrapper.update();
    wrapper.setProps({
      min: null
    });
    wrapper.update();
    expect(wrapper).toMatchSnapshot();
  });
  it('{step,min} null renders correctly', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      step: null,
      min: null
    }));
    expect(wrapper).toMatchSnapshot();
    wrapper.setProps({
      step: 20
    });
    wrapper.update();
    wrapper.setProps({
      min: 20
    });
    wrapper.update();
    expect(wrapper).toMatchSnapshot();
  });
  it('step icon click renders correctly', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      value: 18
    }));
    expect(wrapper.find('input').at(0).prop('value')).toBe('18');
    wrapper.setProps({
      value: '198'
    });
    wrapper.update();
    expect(wrapper.find('input').at(0).prop('value')).toBe('198');
    wrapper.setProps({
      value: '-1'
    });
    wrapper.update();
    expect(wrapper.find('input').at(0).prop('value')).toBe('-1');
    wrapper.setProps({
      value: '1'
    });
    wrapper.update();
    expect(wrapper.find('input').at(0).prop('value')).toBe('1');
    wrapper.setProps({
      value: '12'
    });
    wrapper.update();
    expect(wrapper.find('input').at(0).prop('value')).toBe('12');
    wrapper.setProps({
      value: null
    });
    wrapper.update();
    expect(wrapper.find('input').at(0).prop('value')).toBe('');
  });
  it('step multiple renders correctly', function () {
    var handleChange = jest.fn();
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      onChange: handleChange,
      step: 1,
      multiple: true,
      max: 10,
      min: 5
    }));
    expect(wrapper).toMatchSnapshot();
  });
  it('the range value should render correctly', function () {
    var handleChange = jest.fn();
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      range: ['start', 'end'],
      defaultValue: {
        start: 0,
        end: 4
      },
      placeholder: ['Range Start', 'Range End'],
      onChange: handleChange
    })); // expect(wrapper).toMatchSnapshot();

    expect(wrapper.find('.c7n-pro-input-number-range-start').at(0).prop('value')).toBe('0');
    expect(wrapper.find('.c7n-pro-input-number-range-end').at(0).prop('value')).toBe('4');
  });
  it('input should render readOnly correctly', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], null));
    expect(wrapper.prop('readOnly')).toBe(false);
    wrapper.setProps({
      readOnly: true
    });
    wrapper.update();
    expect(wrapper.prop('readOnly')).toBe(true);
  });
  it('the input number should add when the {plus} icon clicked', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      step: 1,
      min: 0,
      max: 10
    }));
    wrapper.find('.c7n-pro-input-number-plus').at(0).simulate('mousedown');
    jest.runOnlyPendingTimers();
    wrapper.update();
    expect(wrapper).toMatchSnapshot();
  });
  it('the input number should reduce when the {minus} icon clicked', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      step: 1,
      min: -10,
      max: 0
    }));
    wrapper.find('.c7n-pro-input-number-minus').at(0).simulate('mousedown');
    jest.runOnlyPendingTimers();
    wrapper.update();
    expect(wrapper).toMatchSnapshot();
  });
  it('{min,step} should control the input value', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      step: 1.1,
      min: -0.3
    }));
    expect(wrapper.find('.c7n-pro-input-number').prop('value')).toBe('');
    wrapper.find('.c7n-pro-input-number-minus').at(0).simulate('mousedown');
    jest.runOnlyPendingTimers();
    wrapper.update();
    expect(wrapper.find('.c7n-pro-input-number').prop('value')).toBe('-0.3');
  });
  it('the restrictInput method render correctly', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      step: 1.1,
      min: 0.3,
      max: 9
    }));
    wrapper.instance().restrictInput('8');
    jest.runOnlyPendingTimers();
    wrapper.update();
    expect(wrapper.find('.c7n-pro-input-number').prop('value')).toBe('');
    wrapper.instance().step(true);
    jest.runOnlyPendingTimers();
    wrapper.update();
  });
  it('the keydown event should render keyCode { up, down } correctly', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      step: 1
    }));
    wrapper.find('input').simulate('keydown', {
      keyCode: 38
    });
    jest.runOnlyPendingTimers();
    wrapper.find('input').simulate('keydown', {
      keyCode: 40
    });
    jest.runOnlyPendingTimers();
    wrapper.update();
    wrapper.find('input').simulate('keydown', {
      keyCode: 13
    });
    jest.runOnlyPendingTimers();
    wrapper.update();
    expect(wrapper).toMatchSnapshot();
  });
  it('the dataset value should render correctly', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_numberData["default"], null));
    expect(wrapper.find('NumberField').props().name).toEqual('age');
    expect(wrapper.find('input').props().value).toEqual('10,000,000');
    expect(wrapper).toMatchSnapshot();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsiTnVtYmVyRmllbGQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJqZXN0IiwidXNlRmFrZVRpbWVycyIsImFmdGVyRWFjaCIsInVzZVJlYWxUaW1lcnMiLCJpdCIsIndyYXBwZXIiLCJleHBlY3QiLCJ0b01hdGNoU25hcHNob3QiLCJmaW5kIiwidG9IYXZlTGVuZ3RoIiwic2V0UHJvcHMiLCJzdGVwIiwidXBkYXRlIiwibWluIiwiYXQiLCJwcm9wIiwidG9CZSIsInZhbHVlIiwiaGFuZGxlQ2hhbmdlIiwiZm4iLCJzdGFydCIsImVuZCIsInJlYWRPbmx5Iiwic2ltdWxhdGUiLCJydW5Pbmx5UGVuZGluZ1RpbWVycyIsImluc3RhbmNlIiwicmVzdHJpY3RJbnB1dCIsImtleUNvZGUiLCJwcm9wcyIsIm5hbWUiLCJ0b0VxdWFsIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUEsMkJBQVVBLFlBQVY7QUFDQSwyQkFBVUEsWUFBVjtBQUVBQyxRQUFRLENBQUMsaUJBQUQsRUFBb0IsWUFBTTtBQUNoQ0MsRUFBQUEsVUFBVSxDQUFDLFlBQU07QUFDZkMsSUFBQUEsSUFBSSxDQUFDQyxhQUFMO0FBQ0QsR0FGUyxDQUFWO0FBSUFDLEVBQUFBLFNBQVMsQ0FBQyxZQUFNO0FBQ2RGLElBQUFBLElBQUksQ0FBQ0csYUFBTDtBQUNELEdBRlEsQ0FBVDtBQUlBQyxFQUFBQSxFQUFFLENBQUMsK0JBQUQsRUFBa0MsWUFBTTtBQUN4QyxRQUFNQyxPQUFPLEdBQUcsbUJBQU0sZ0NBQUMsWUFBRCxPQUFOLENBQWhCO0FBQ0FDLElBQUFBLE1BQU0sQ0FBQ0QsT0FBRCxDQUFOLENBQWdCRSxlQUFoQjtBQUNELEdBSEMsQ0FBRjtBQUtBSCxFQUFBQSxFQUFFLENBQUMsd0JBQUQsRUFBMkIsWUFBTTtBQUNqQyxRQUFNQyxPQUFPLEdBQUcsbUJBQU0sZ0NBQUMsWUFBRCxPQUFOLENB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QSxPQUFPLENBQUNPLE1BQVI7QUFDQU4sSUFBQUEsTUFBTSxDQUFDRCxPQUFELENBQU4sQ0FBZ0JFLGVBQWhCO0FBQ0QsR0FYQyxDQUFGO0FBYUFILEVBQUFBLEVBQUUsQ0FBQywyQ0FBRCxFQUE4QyxZQUFNO0FBQ3BELFFBQU1DLE9BQU8sR0FBRyxtQkFBTSxnQ0FBQyxzQkFBRCxPQUFOLENBQWhCO0FBQ0FDLElBQUFBLE1BQU0sQ0FBQ0QsT0FBTyxDQUFDRyxJQUFSLENBQWEsYUFBYixFQUE0Qm9CLEtBQTVCLEdBQW9DQyxJQUFyQyxDQUFOLENBQWlEQyxPQUFqRCxDQUF5RCxLQUF6RDtBQUNBeEIsSUFBQUEsTUFBTSxDQUFDRCxPQUFPLENBQUNHLElBQVIsQ0FBYSxPQUFiLEVBQXNCb0IsS0FBdEIsR0FBOEJYLEtBQS9CLENBQU4sQ0FBNENhLE9BQTVDLENBQW9ELFlBQXBEO0FBQ0F4QixJQUFBQSxNQUFNLENBQUNELE9BQUQsQ0FBTixDQUFnQkUsZUFBaEI7QUFDRCxHQUxDLENBQUY7QUFNRCxDQXZNTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1vdW50IH0gZnJvbSAnZW56eW1lJztcbmltcG9ydCBOdW1iZXJGaWVsZCBmcm9tICcuLic7XG5pbXBvcnQgTnVtYmVyRGF0YVRlc3QgZnJvbSAnLi9udW1iZXJEYXRhJztcbmltcG9ydCBmb2N1c1Rlc3QgZnJvbSAnLi4vLi4vLi4vdGVzdHMvc2hhcmVkL2ZvY3VzVGVzdCc7XG5pbXBvcnQgbW91bnRUZXN0IGZyb20gJy4uLy4uLy4uL3Rlc3RzL3NoYXJlZC9tb3VudFRlc3QnO1xuXG5tb3VudFRlc3QoTnVtYmVyRmllbGQpO1xuZm9jdXNUZXN0KE51bWJlckZpZWxkKTtcblxuZGVzY3JpYmUoJ051bWJlckZpZWxkLXBybycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGl0KCdyZW5kZXJzIE51bWJlckZpZWxkIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPE51bWJlckZpZWxkIC8+KTtcbiAgICBleHBlY3Qod3JhcHBlcikudG9NYXRjaFNuYXBzaG90KCk7XG4gIH0pO1xuXG4gIGl0KCdzdGVwIHJlbmRlcnMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudCg8TnVtYmVyRmllbGQgLz4pO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tcHJvLWlucHV0LW51bWJlci1pbm5lci1idXR0b24nKSkudG9IYXZlTGVuZ3RoKDApO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBzdGVwOiAxIH0pO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnLmM3bi1wcm8taW5wdXQtbnVtYmVyLWlubmVyLWJ1dHRvbicpKS50b0hhdmVMZW5ndGgoMSk7XG4gIH0pO1xuXG4gIGl0KCdzdGVwIHNob3VsZCBoYXZlIGRpZmZlcmVudCB2YWx1ZScsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPE51bWJlckZpZWxkIHN0ZXA9ezAuMX0gbWluPXswLjF9IC8+KTtcbiAgICB3cmFwcGVyLnNldFByb3BzKHsgc3RlcDogMC4wMSB9KTtcbiAgICB3cmFwcGVyLnVwZGF0ZSgpO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBtaW46IC0xIH0pO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IHN0ZXA6IDEuMSB9KTtcbiAgICB3cmFwcGVyLnVwZGF0ZSgpO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBtaW46IG51bGwgfSk7XG4gICAgd3JhcHBlci51cGRhdGUoKTtcbiAgICBleHBlY3Qod3JhcHBlcikudG9NYXRjaFNuYXBzaG90KCk7XG4gIH0pO1xuXG4gIGl0KCd7c3RlcCxtaW59IG51bGwgcmVuZGVycyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KDxOdW1iZXJGaWVsZCBzdGVwPXtudWxsfSBtaW49e251bGx9IC8+KTtcbiAgICBleHBlY3Qod3JhcHBlcikudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IHN0ZXA6IDIwIH0pO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IG1pbjogMjAgfSk7XG4gICAgd3JhcHBlci51cGRhdGUoKTtcbiAgICBleHBlY3Qod3JhcHBlcikudG9NYXRjaFNuYXBzaG90KCk7XG4gIH0pO1xuXG4gIGl0KCdzdGVwIGljb24gY2xpY2sgcmVuZGVycyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KDxOdW1iZXJGaWVsZCB2YWx1ZT17MTh9IC8+KTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCdpbnB1dCcpXG4gICAgICAgIC5hdCgwKVxuICAgICAgICAucHJvcCgndmFsdWUnKSxcbiAgICApLnRvQmUoJzE4Jyk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IHZhbHVlOiAnMTk4JyB9KTtcbiAgICB3cmFwcGVyLnVwZGF0ZSgpO1xuICAgIGV4cGVjdChcbiAgICAgIHdyYXBwZXJcbiAgICAgICAgLmZpbmQoJ2lucHV0JylcbiAgICAgICAgLmF0KDApXG4gICAgICAgIC5wcm9wKCd2YWx1ZScpLFxuICAgICkudG9CZSgnMTk4Jyk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IHZhbHVlOiAnLTEnIH0pO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgZXhwZWN0KFxuICAgICAgd3JhcHBlclxuICAgICAgICAuZmluZCgnaW5wdXQnKVxuICAgICAgICAuYXQoMClcbiAgICAgICAgLnByb3AoJ3ZhbHVlJyksXG4gICAgKS50b0JlKCctMScpO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyB2YWx1ZTogJzEnIH0pO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgZXhwZWN0KFxuICAgICAgd3JhcHBlclxuICAgICAgICAuZmluZCgnaW5wdXQnKVxuICAgICAgICAuYXQoMClcbiAgICAgICAgLnByb3AoJ3ZhbHVlJyksXG4gICAgKS50b0JlKCcxJyk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IHZhbHVlOiAnMTInIH0pO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgZXhwZWN0KFxuICAgICAgd3JhcHBlclxuICAgICAgICAuZmluZCgnaW5wdXQnKVxuICAgICAgICAuYXQoMClcbiAgICAgICAgLnByb3AoJ3ZhbHVlJyksXG4gICAgKS50b0JlKCcxMicpO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyB2YWx1ZTogbnVsbCB9KTtcbiAgICB3cmFwcGVyLnVwZGF0ZSgpO1xuICAgIGV4cGVjdChcbiAgICAgIHdyYXBwZXJcbiAgICAgICAgLmZpbmQoJ2lucHV0JylcbiAgICAgICAgLmF0KDApXG4gICAgICAgIC5wcm9wKCd2YWx1ZScpLFxuICAgICkudG9CZSgnJyk7XG4gIH0pO1xuXG4gIGl0KCdzdGVwIG11bHRpcGxlIHJlbmRlcnMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoXG4gICAgICA8TnVtYmVyRmllbGQgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gc3RlcD17MX0gbXVsdGlwbGUgbWF4PXsxMH0gbWluPXs1fSAvPixcbiAgICApO1xuICAgIGV4cGVjdCh3cmFwcGVyKS50b01hdGNoU25hcHNob3QoKTtcbiAgfSk7XG5cbiAgaXQoJ3RoZSByYW5nZSB2YWx1ZSBzaG91bGQgcmVuZGVyIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAgICAgPE51bWJlckZpZWxkXG4gICAgICAgIHJhbmdlPXtbJ3N0YXJ0JywgJ2VuZCddfVxuICAgICAgICBkZWZhdWx0VmFsdWU9e3sgc3RhcnQ6IDAsIGVuZDogNCB9fVxuICAgICAgICBwbGFjZWhvbGRlcj17WydSYW5nZSBTdGFydCcsICdSYW5nZSBFbmQnXX1cbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgIC8+LFxuICAgICk7XG4gICAgLy8gZXhwZWN0KHdyYXBwZXIpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIGV4cGVjdChcbiAgICAgIHdyYXBwZXJcbiAgICAgICAgLmZpbmQoJy5jN24tcHJvLWlucHV0LW51bWJlci1yYW5nZS1zdGFydCcpXG4gICAgICAgIC5hdCgwKVxuICAgICAgICAucHJvcCgndmFsdWUnKSxcbiAgICApLnRvQmUoJzAnKTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCcuYzduLXByby1pbnB1dC1udW1iZXItcmFuZ2UtZW5kJylcbiAgICAgICAgLmF0KDApXG4gICAgICAgIC5wcm9wKCd2YWx1ZScpLFxuICAgICkudG9CZSgnNCcpO1xuICB9KTtcblxuICBpdCgnaW5wdXQgc2hvdWxkIHJlbmRlciByZWFkT25seSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KDxOdW1iZXJGaWVsZCAvPik7XG4gICAgZXhwZWN0KHdyYXBwZXIucHJvcCgncmVhZE9ubHknKSkudG9CZShmYWxzZSk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IHJlYWRPbmx5OiB0cnVlIH0pO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgZXhwZWN0KHdyYXBwZXIucHJvcCgncmVhZE9ubHknKSkudG9CZSh0cnVlKTtcbiAgfSk7XG5cbiAgaXQoJ3RoZSBpbnB1dCBudW1iZXIgc2hvdWxkIGFkZCB3aGVuIHRoZSB7cGx1c30gaWNvbiBjbGlja2VkJywgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudCg8TnVtYmVyRmllbGQgc3RlcD17MX0gbWluPXswfSBtYXg9ezEwfSAvPik7XG4gICAgd3JhcHBlclxuICAgICAgLmZpbmQoJy5jN24tcHJvLWlucHV0LW51bWJlci1wbHVzJylcbiAgICAgIC5hdCgwKVxuICAgICAgLnNpbXVsYXRlKCdtb3VzZWRvd24nKTtcbiAgICBqZXN0LnJ1bk9ubHlQZW5kaW5nVGltZXJzKCk7XG4gICAgd3JhcHBlci51cGRhdGUoKTtcbiAgICBleHBlY3Qod3JhcHBlcikudG9NYXRjaFNuYXBzaG90KCk7XG4gIH0pO1xuXG4gIGl0KCd0aGUgaW5wdXQgbnVtYmVyIHNob3VsZCByZWR1Y2Ugd2hlbiB0aGUge21pbnVzfSBpY29uIGNsaWNrZWQnLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KDxOdW1iZXJGaWVsZCBzdGVwPXsxfSBtaW49ey0xMH0gbWF4PXswfSAvPik7XG4gICAgd3JhcHBlclxuICAgICAgLmZpbmQoJy5jN24tcHJvLWlucHV0LW51bWJlci1taW51cycpXG4gICAgICAuYXQoMClcbiAgICAgIC5zaW11bGF0ZSgnbW91c2Vkb3duJyk7XG4gICAgamVzdC5ydW5Pbmx5UGVuZGluZ1RpbWVycygpO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgZXhwZWN0KHdyYXBwZXIpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICB9KTtcblxuICBpdCgne21pbixzdGVwfSBzaG91bGQgY29udHJvbCB0aGUgaW5wdXQgdmFsdWUnLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KDxOdW1iZXJGaWVsZCBzdGVwPXsxLjF9IG1pbj17LTAuM30gLz4pO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tcHJvLWlucHV0LW51bWJlcicpLnByb3AoJ3ZhbHVlJykpLnRvQmUoJycpO1xuICAgIHdyYXBwZXJcbiAgICAgIC5maW5kKCcuYzduLXByby1pbnB1dC1udW1iZXItbWludXMnKVxuICAgICAgLmF0KDApXG4gICAgICAuc2ltdWxhdGUoJ21vdXNlZG93bicpO1xuICAgIGplc3QucnVuT25seVBlbmRpbmdUaW1lcnMoKTtcbiAgICB3cmFwcGVyLnVwZGF0ZSgpO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tcHJvLWlucHV0LW51bWJlcicpLnByb3AoJ3ZhbHVlJykpLnRvQmUoJy0wLjMnKTtcbiAgfSk7XG4gIGl0KCd0aGUgcmVzdHJpY3RJbnB1dCBtZXRob2QgcmVuZGVyIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPE51bWJlckZpZWxkIHN0ZXA9ezEuMX0gbWluPXswLjN9IG1heD17OX0gLz4pO1xuICAgIHdyYXBwZXIuaW5zdGFuY2UoKS5yZXN0cmljdElucHV0KCc4Jyk7XG4gICAgamVzdC5ydW5Pbmx5UGVuZGluZ1RpbWVycygpO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnLmM3bi1wcm8taW5wdXQtbnVtYmVyJykucHJvcCgndmFsdWUnKSkudG9CZSgnJyk7XG4gICAgd3JhcHBlci5pbnN0YW5jZSgpLnN0ZXAodHJ1ZSk7XG4gICAgamVzdC5ydW5Pbmx5UGVuZGluZ1RpbWVycygpO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gIH0pO1xuXG4gIGl0KCd0aGUga2V5ZG93biBldmVudCBzaG91bGQgcmVuZGVyIGtleUNvZGUgeyB1cCwgZG93biB9IGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPE51bWJlckZpZWxkIHN0ZXA9ezF9IC8+KTtcbiAgICB3cmFwcGVyLmZpbmQoJ2lucHV0Jykuc2ltdWxhdGUoJ2tleWRvd24nLCB7IGtleUNvZGU6IDM4IH0pO1xuICAgIGplc3QucnVuT25seVBlbmRpbmdUaW1lcnMoKTtcbiAgICB3cmFwcGVyLmZpbmQoJ2lucHV0Jykuc2ltdWxhdGUoJ2tleWRvd24nLCB7IGtleUNvZGU6IDQwIH0pO1xuICAgIGplc3QucnVuT25seVBlbmRpbmdUaW1lcnMoKTtcbiAgICB3cmFwcGVyLnVwZGF0ZSgpO1xuICAgIHdyYXBwZXIuZmluZCgnaW5wdXQnKS5zaW11bGF0ZSgna2V5ZG93bicsIHsga2V5Q29kZTogMTMgfSk7XG4gICAgamVzdC5ydW5Pbmx5UGVuZGluZ1RpbWVycygpO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgZXhwZWN0KHdyYXBwZXIpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICB9KTtcblxuICBpdCgndGhlIGRhdGFzZXQgdmFsdWUgc2hvdWxkIHJlbmRlciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KDxOdW1iZXJEYXRhVGVzdCAvPik7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnTnVtYmVyRmllbGQnKS5wcm9wcygpLm5hbWUpLnRvRXF1YWwoJ2FnZScpO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJ2lucHV0JykucHJvcHMoKS52YWx1ZSkudG9FcXVhbCgnMTAsMDAwLDAwMCcpO1xuICAgIGV4cGVjdCh3cmFwcGVyKS50b01hdGNoU25hcHNob3QoKTtcbiAgfSk7XG59KTtcbiJdfQ==