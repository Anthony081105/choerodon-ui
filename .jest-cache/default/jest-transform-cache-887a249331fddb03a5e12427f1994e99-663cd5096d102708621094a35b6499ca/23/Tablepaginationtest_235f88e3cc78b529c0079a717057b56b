d3995f02c32b994a496a5bea8b6af070
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _noop = _interopRequireDefault(require("lodash/noop"));

var _ = _interopRequireDefault(require(".."));

describe('Table.pagination', function () {
  var columns = [{
    title: 'Name',
    dataIndex: 'name'
  }];
  var data = [{
    key: 0,
    name: 'Jack'
  }, {
    key: 1,
    name: 'Lucy'
  }, {
    key: 2,
    name: 'Tom'
  }, {
    key: 3,
    name: 'Jerry'
  }];
  var pagination = {
    className: 'my-page',
    pageSize: 2
  };

  function createTable(props) {
    return _react["default"].createElement(_["default"], (0, _extends2["default"])({
      columns: columns,
      dataSource: data,
      pagination: pagination
    }, props));
  }

  function renderedNames(wrapper) {
    return wrapper.find('TableRow').map(function (row) {
      return row.props().record.name;
    });
  }

  it('renders pagination correctly', function () {
    var wrapper = (0, _enzyme.render)(createTable());
    expect(wrapper).toMatchSnapshot();
  });
  it('should not show pager if pagination.hideOnSinglePage is true and only 1 page', function () {
    var wrapper = (0, _enzyme.mount)(createTable({
      pagination: {
        pageSize: 3,
        hideOnSinglePage: true
      }
    }));
    expect(wrapper.find('.c7n-pagination')).toHaveLength(1);
    wrapper.setProps({
      pagination: {
        pageSize: 3,
        hideOnSinglePage: false
      }
    });
    expect(wrapper.find('.c7n-pagination')).toHaveLength(1);
    wrapper.setProps({
      pagination: {
        pageSize: 4,
        hideOnSinglePage: true
      }
    });
    expect(wrapper.find('.c7n-pagination')).toHaveLength(0);
    wrapper.setProps({
      pagination: {
        pageSize: 4,
        hideOnSinglePage: false
      }
    });
    expect(wrapper.find('.c7n-pagination')).toHaveLength(1);
    wrapper.setProps({
      pagination: {
        pageSize: 5,
        hideOnSinglePage: true
      }
    });
    expect(wrapper.find('.c7n-pagination')).toHaveLength(0);
    wrapper.setProps({
      pagination: {
        pageSize: 5,
        hideOnSinglePage: false
      }
    });
    expect(wrapper.find('.c7n-pagination')).toHaveLength(1);
  });
  it('paginate data', function () {
    var wrapper = (0, _enzyme.mount)(createTable());
    expect(renderedNames(wrapper)).toEqual(['Jack', 'Lucy']);
    wrapper.find('.c7n-pagination-next').simulate('click');
    expect(renderedNames(wrapper)).toEqual(['Tom', 'Jerry']);
  });
  it('repaginates when pageSize change', function () {
    var wrapper = (0, _enzyme.mount)(createTable());
    wrapper.setProps({
      pagination: {
        pageSize: 1
      }
    });
    expect(renderedNames(wrapper)).toEqual(['Jack']);
  });
  it('fires change event', function () {
    var handleChange = jest.fn();
    var handlePaginationChange = jest.fn();
    var wrapper = (0, _enzyme.mount)(createTable({
      pagination: (0, _objectSpread2["default"])({}, pagination, {
        onChange: handlePaginationChange,
        onShowSizeChange: _noop["default"]
      }),
      onChange: handleChange
    }));
    wrapper.find('.c7n-pagination-next').simulate('click');
    expect(handleChange).toHaveBeenCalledWith({
      className: 'my-page',
      current: 2,
      pageSize: 2,
      size: 'default'
    }, {}, {}, []);
    expect(handlePaginationChange).toHaveBeenCalledWith(2, 2);
  }); // https://codepen.io/afc163/pen/dVeNoP?editors=001

  it('should have pager when change pagination from false to undefined', function () {
    var wrapper = (0, _enzyme.mount)(createTable({
      pagination: false
    }));
    expect(wrapper.find('.c7n-pagination')).toHaveLength(0);
    wrapper.setProps({
      pagination: undefined
    });
    expect(wrapper.find('.c7n-pagination')).toHaveLength(1);
    expect(wrapper.find('.c7n-pagination-total-text').at(0).text()).toEqual('1 - 4 / 4');
  }); // https://codepen.io/afc163/pen/pWVRJV?editors=001

  it('should display pagination as prop pagination change between true and false', function () {
    var wrapper = (0, _enzyme.mount)(createTable());
    expect(wrapper.find('.c7n-pagination')).toHaveLength(1);
    expect(wrapper.find('.c7n-pagination-total-text').at(0).text()).toEqual('1 - 2 / 4');
    wrapper.setProps({
      pagination: false
    });
    expect(wrapper.find('.c7n-pagination')).toHaveLength(0);
    wrapper.setProps({
      pagination: pagination
    });
    wrapper.update();
    expect(wrapper.find('.c7n-pagination')).toHaveLength(1);
    expect(wrapper.find('.c7n-pagination-total-text').at(0).text()).toEqual('1 - 2 / 4');
    wrapper.find('.c7n-pagination-next').simulate('click');
    expect(renderedNames(wrapper)).toEqual(['Tom', 'Jerry']);
    wrapper.setProps({
      pagination: false
    });
    expect(wrapper.find('.c7n-pagination')).toHaveLength(0);
    wrapper.setProps({
      pagination: true
    });
    expect(wrapper.find('.c7n-pagination')).toHaveLength(1);
    expect(wrapper.find('.c7n-pagination-total-text').at(0).text()).toEqual('1 - 4 / 4'); // pageSize will be 10

    expect(renderedNames(wrapper)).toEqual(['Jack', 'Lucy', 'Tom', 'Jerry']);
  });
  it('change to correct page when data source changes', function () {
    var wrapper = (0, _enzyme.mount)(createTable({
      pagination: {
        pageSize: 1
      }
    }));
    wrapper.find('.c7n-pagination-next').simulate('click');
    wrapper.setProps({
      dataSource: [data[0]]
    });
    expect(wrapper.find('.c7n-pagination-total-text').at(0).text()).toEqual('1 - 1 / 1');
  });
  it('specify the position of pagination', function () {
    var wrapper = (0, _enzyme.mount)(createTable({
      pagination: {
        position: 'top'
      }
    }));
    expect(wrapper.find('.c7n-spin-container').children()).toHaveLength(2);
    expect(wrapper.find('.c7n-spin-container').childAt(0).find('.c7n-pagination')).toHaveLength(1);
    wrapper.setProps({
      pagination: {
        position: 'bottom'
      }
    });
    expect(wrapper.find('.c7n-spin-container').children()).toHaveLength(2);
    expect(wrapper.find('.c7n-spin-container').childAt(1).find('.c7n-pagination')).toHaveLength(1);
    wrapper.setProps({
      pagination: {
        position: 'both'
      }
    });
    expect(wrapper.find('.c7n-spin-container').children()).toHaveLength(3);
    expect(wrapper.find('.c7n-spin-container').childAt(0).find('.c7n-pagination')).toHaveLength(1);
    expect(wrapper.find('.c7n-spin-container').childAt(2).find('.c7n-pagination')).toHaveLength(1);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRhYmxlLnBhZ2luYXRpb24udGVzdC5qcyJdLCJuYW1lcyI6WyJkZXNjcmliZSIsImNvbHVtbnMiLCJ0aXRsZSIsImRhdGFJbmRleCIsImRhdGEiLCJrZXkiLCJuYW1lIiwicGFnaW5hdGlvbiIsImNsYXNzTmFtZSIsInBhZ2VTaXplIiwiY3JlYXRlVGFibGUiLCJwcm9wcyIsInJlbmRlcmVkTmFtZXMiLCJ3cmFwcGVyIiwiZmluZCIsIm1hcCIsInJvdyIsInJlY29yZCIsIml0IiwiZXhwZWN0IiwidG9NYXRjaFNuYXBzaG90IiwiaGlkZU9uU2luZ2xlUGFnZSIsInRvSGF2ZUxlbmd0aCIsInNldFByb3BzIiwidG9FcXVhbCIsInNpbXVsYXRlIiwiaGFuZGxlQ2hhbmdlIiwiamVzdCIsImZuIiwiaGFuZGxlUGFnaW5hdGlvbkNoYW5nZSIsIm9uQ2hhbmdlIiwib25TaG93U2l6ZUNoYW5nZSIsIm5vb3AiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImN1cnJlbnQiLCJzaXplIiwidW5kZWZpbmVkIiwiYXQiLCJ0ZXh0IiwidXBkYXRlIiwiZGF0YVNvdXJjZSIsInBvc2l0aW9uIiwiY2hpbGRyZW4iLCJjaGlsZEF0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBQSxRQUFRLENBQUMsa0JBQUQsRUFBcUIsWUFBTTtBQUNqQyxNQUFNQyxPQUFPLEdBQUcsQ0FDZDtBQUNFQyxJQUFBQSxLQUFLLEVBQUUsTUFEVDtBQUVFQyxJQUFBQSxTQUFTLEVBQUU7QUFGYixHQURjLENBQWhCO0FBT0EsTUFBTUMsSUFBSSxHQUFHLENBQ1g7QUFBRUMsSUFBQUEsR0FBRyxFQUFFLENBQVA7QUFBVUMsSUFBQUEsSUFBSSxFQUFFO0FBQWhCLEdBRFcsRUFFWDtBQUFFRCxJQUFBQSxHQUFHLEVBQUUsQ0FBUDtBQUFVQyxJQUFBQSxJQUFJLEVBQUU7QUFBaEIsR0FGVyxFQUdYO0FBQUVELElBQUFBLEdBQUcsRUFBRSxDQUFQO0FBQVVDLElBQUFBLElBQUksRUFBRTtBQUFoQixHQUhXLEVBSVg7QUFBRUQsSUFBQUEsR0FBRyxFQUFFLENBQVA7QUFBVUMsSUFBQUEsSUFBSSxFQUFFO0FBQWhCLEdBSlcsQ0FBYjtBQU9BLE1BQU1DLFVBQVUsR0FBRztBQUFFQyxJQUFBQSxTQUFTLEVBQUUsU0FBYjtBQUF3QkMsSUFBQUEsUUFBUSxFQUFFO0FBQWxDLEdBQW5COztBQUVBLFdBQVNDLFdBQVQsQ0FBcUJDLEtBQXJCLEVBQTRCO0FBQzFCLFdBQU8sZ0NBQUMsWUFBRDtBQUFPLE1BQUEsT0FBTyxFQUFFVixPQUFoQjtBQUF5QixNQUFBLFVBQVUsRUFBRUcsSUFBckM7QUFBMkMsTUFBQSxVQUFVLEVBQUVHO0FBQXZELE9BQXVFSSxLQUF2RSxFQUFQO0FBQ0Q7O0FBRUQsV0FBU0MsYUFBVCxDQUF1QkMsT0FBdkIsRUFBZ0M7QUFDOUIsV0FBT0EsT0FBTyxDQUFDQyxJQUFSLENBQWEsVUFBYixFQUF5QkMsR0FBekIsQ0FBNkIsVUFBQUMsR0FBRztBQUFBLGFBQUlBLEdBQUcsQ0FBQ0wsS0FBSixHQUFZTSxNQUFaLENBQW1CWCxJQUF2QjtBQUFBLEtBQWhDLENBQVA7QUFDRDs7QUFFRFksRUFBQUEsRUFBRSxDQUFDLDhCQUFELEVBQWlDLFlBQU07QUFDdkMsUUFBTUwsT0FBTyxHQUFHLG9CQUFPSCxXQUFXLEVBQWxCLENBQWhCO0FBQ0FTLElBQUFBLE1BQU0sQ0FBQ04sT0FBRCxDQUFOLENBQWdCTyxlQUFoQjtBQUNELEdBSEMsQ0FBRjtBQUtBRixFQUFBQSxFQUFFLENBQUMsOEVBQUQsRUFBaUYsWUFBTTtBQUN2RixRQUFNTCxPQUFPLEdBQUcsbUJBQU1ILFdBQVcsQ0FBQztBQUFFSCxNQUFBQSxVQUFVLEVBQUU7QUFBRUUsUUFBQUEsUUFBUSxFQUFFLENBQVo7QUFBZVksUUFBQUEsZ0JBQWdCLEVBQUU7QUFBakM7QUFBZCxLQUFELENBQWpCLENBQWhCO0FBQ0FGLElBQUFBLE1BQU0sQ0FBQ04sT0FBTyxDQUFDQyxJQUFSLENBQWEsaUJBQWIsQ0FBRCxDQUFOLENBQXdDUSxZQUF4QyxDQUFxRCxDQUFyRDtBQUNBVCxJQUFBQSxPQUFPLENBQUNVLFFBQVIsQ0FBaUI7QUFBRWhCLE1BQUFBLFVBQVUsRUFBRTtBQUFFRSxRQUFBQSxRQUFRLEVBQUUsQ0FBWjtBQUFlWSxRQUFBQSxnQkFBZ0IsRUFBRTtBQUFqQztBQUFkLEtBQWpCO0FBQ0FGLElBQUFBLE1BQU0sQ0FBQ04sT0FBTyxDQUFDQyxJQUFSLENBQWEsaUJBQWIsQ0FBRCxDQUFOLENBQXdDUSxZQUF4QyxDQUFxRCxDQUFyRDtBQUNBVCxJQUFBQSxPQUFPLENBQUNVLFFBQVIsQ0FBaUI7QUFBRWhCLE1BQUFBLFVBQVUsRUFBRTtBQUFFRSxRQUFBQSxRQUFRLEVBQUUsQ0FBWjtBQUFlWSxRQUFBQSxnQkFBZ0IsRUFBRTtBQUFqQztBQUFkLEtBQWpCO0FBQ0FGLElBQUFBLE1BQU0sQ0FBQ04sT0FBTyxDQUFDQyxJQUFSLENBQWEsaUJBQWIsQ0FBRCxDQUFOLENBQXdDUSxZQUF4QyxDQUFxRCxDQUFyRDtBQUNBVCxJQUFBQSxPQUFPLENBQUNVLFFBQVIsQ0FBaUI7QUFBRWhCLE1BQUFBLFVBQVUsRUFBRTtBQUFFRSxRQUFBQSxRQUFRLEVBQUUsQ0FBWjtBQUFlWSxRQUFBQSxnQkFBZ0IsRUFBRTtBQUFqQztBQUFkLEtBQWpCO0FBQ0FGLElBQUFBLE1BQU0sQ0FBQ04sT0FBTyxDQUFDQyxJQUFSLENBQWEsaUJBQWIsQ0FBRCxDQUFOLENBQXdDUSxZQUF4QyxDQUFxRCxDQUFyRDtBQUNBVCxJQUFBQSxPQUFPLENBQUNVLFFBQVIsQ0FBaUI7QUFBRWhCLE1BQUFBLFVBQVUsRUFBRTtBQUFFRSxRQUFBQSxRQUFRLEVBQUUsQ0FBWjtBQUFlWSxRQUFBQSxnQkFBZ0IsRUFBRTtBQUFqQztBQUFkLEtBQWpCO0FBQ0FGLElBQUFBLE1BQU0sQ0FBQ04sT0FBTyxDQUFDQyxJQUFSLENBQWEsaUJBQWIsQ0FBRCxDQUFOLENBQXdDUSxZQUF4QyxDQUFxRCxDQUFyRDtBQUNBVCxJQUFBQSxPQUFPLENBQUNVLFFBQVIsQ0FB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Q0FDSk4sT0FBTyxDQUNKQyxJQURILENBQ1EscUJBRFIsRUFFRzZCLE9BRkgsQ0FFVyxDQUZYLEVBR0c3QixJQUhILENBR1EsaUJBSFIsQ0FESSxDQUFOLENBS0VRLFlBTEYsQ0FLZSxDQUxmO0FBTUFULElBQUFBLE9BQU8sQ0FBQ1UsUUFBUixDQUFpQjtBQUFFaEIsTUFBQUEsVUFBVSxFQUFFO0FBQUVrQyxRQUFBQSxRQUFRLEVBQUU7QUFBWjtBQUFkLEtBQWpCO0FBQ0F0QixJQUFBQSxNQUFNLENBQUNOLE9BQU8sQ0FBQ0MsSUFBUixDQUFhLHFCQUFiLEVBQW9DNEIsUUFBcEMsRUFBRCxDQUFOLENBQXVEcEIsWUFBdkQsQ0FBb0UsQ0FBcEU7QUFDQUgsSUFBQUEsTUFBTSxDQUNKTixPQUFPLENBQ0pDLElBREgsQ0FDUSxxQkFEUixFQUVHNkIsT0FGSCxDQUVXLENBRlgsRUFHRzdCLElBSEgsQ0FHUSxpQkFIUixDQURJLENBQU4sQ0FLRVEsWUFMRixDQUtlLENBTGY7QUFNQUgsSUFBQUEsTUFBTSxDQUNKTixPQUFPLENBQ0pDLElBREgsQ0FDUSxxQkFEUixFQUVHNkIsT0FGSCxDQUVXLENBRlgsRUFHRzdCLElBSEgsQ0FHUSxpQkFIUixDQURJLENBQU4sQ0FLRVEsWUFMRixDQUtlLENBTGY7QUFNRCxHQS9CQyxDQUFGO0FBZ0NELENBckxPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbW91bnQsIHJlbmRlciB9IGZyb20gJ2VuenltZSc7XG5pbXBvcnQgbm9vcCBmcm9tICdsb2Rhc2gvbm9vcCc7XG5pbXBvcnQgVGFibGUgZnJvbSAnLi4nO1xuXG5kZXNjcmliZSgnVGFibGUucGFnaW5hdGlvbicsICgpID0+IHtcbiAgY29uc3QgY29sdW1ucyA9IFtcbiAgICB7XG4gICAgICB0aXRsZTogJ05hbWUnLFxuICAgICAgZGF0YUluZGV4OiAnbmFtZScsXG4gICAgfSxcbiAgXTtcblxuICBjb25zdCBkYXRhID0gW1xuICAgIHsga2V5OiAwLCBuYW1lOiAnSmFjaycgfSxcbiAgICB7IGtleTogMSwgbmFtZTogJ0x1Y3knIH0sXG4gICAgeyBrZXk6IDIsIG5hbWU6ICdUb20nIH0sXG4gICAgeyBrZXk6IDMsIG5hbWU6ICdKZXJyeScgfSxcbiAgXTtcblxuICBjb25zdCBwYWdpbmF0aW9uID0geyBjbGFzc05hbWU6ICdteS1wYWdlJywgcGFnZVNpemU6IDIgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVUYWJsZShwcm9wcykge1xuICAgIHJldHVybiA8VGFibGUgY29sdW1ucz17Y29sdW1uc30gZGF0YVNvdXJjZT17ZGF0YX0gcGFnaW5hdGlvbj17cGFnaW5hdGlvbn0gey4uLnByb3BzfSAvPjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlcmVkTmFtZXMod3JhcHBlcikge1xuICAgIHJldHVybiB3cmFwcGVyLmZpbmQoJ1RhYmxlUm93JykubWFwKHJvdyA9PiByb3cucHJvcHMoKS5yZWNvcmQubmFtZSk7XG4gIH1cblxuICBpdCgncmVuZGVycyBwYWdpbmF0aW9uIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gcmVuZGVyKGNyZWF0ZVRhYmxlKCkpO1xuICAgIGV4cGVjdCh3cmFwcGVyKS50b01hdGNoU25hcHNob3QoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBub3Qgc2hvdyBwYWdlciBpZiBwYWdpbmF0aW9uLmhpZGVPblNpbmdsZVBhZ2UgaXMgdHJ1ZSBhbmQgb25seSAxIHBhZ2UnLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KGNyZWF0ZVRhYmxlKHsgcGFnaW5hdGlvbjogeyBwYWdlU2l6ZTogMywgaGlkZU9uU2luZ2xlUGFnZTogdHJ1ZSB9IH0pKTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCcuYzduLXBhZ2luYXRpb24nKSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBwYWdpbmF0aW9uOiB7IHBhZ2VTaXplOiAzLCBoaWRlT25TaW5nbGVQYWdlOiBmYWxzZSB9IH0pO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tcGFnaW5hdGlvbicpKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IHBhZ2luYXRpb246IHsgcGFnZVNpemU6IDQsIGhpZGVPblNpbmdsZVBhZ2U6IHRydWUgfSB9KTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCcuYzduLXBhZ2luYXRpb24nKSkudG9IYXZlTGVuZ3RoKDApO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBwYWdpbmF0aW9uOiB7IHBhZ2VTaXplOiA0LCBoaWRlT25TaW5nbGVQYWdlOiBmYWxzZSB9IH0pO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tcGFnaW5hdGlvbicpKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IHBhZ2luYXRpb246IHsgcGFnZVNpemU6IDUsIGhpZGVPblNpbmdsZVBhZ2U6IHRydWUgfSB9KTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCcuYzduLXBhZ2luYXRpb24nKSkudG9IYXZlTGVuZ3RoKDApO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBwYWdpbmF0aW9uOiB7IHBhZ2VTaXplOiA1LCBoaWRlT25TaW5nbGVQYWdlOiBmYWxzZSB9IH0pO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tcGFnaW5hdGlvbicpKS50b0hhdmVMZW5ndGgoMSk7XG4gIH0pO1xuXG4gIGl0KCdwYWdpbmF0ZSBkYXRhJywgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChjcmVhdGVUYWJsZSgpKTtcblxuICAgIGV4cGVjdChyZW5kZXJlZE5hbWVzKHdyYXBwZXIpKS50b0VxdWFsKFsnSmFjaycsICdMdWN5J10pO1xuICAgIHdyYXBwZXIuZmluZCgnLmM3bi1wYWdpbmF0aW9uLW5leHQnKS5zaW11bGF0ZSgnY2xpY2snKTtcbiAgICBleHBlY3QocmVuZGVyZWROYW1lcyh3cmFwcGVyKSkudG9FcXVhbChbJ1RvbScsICdKZXJyeSddKTtcbiAgfSk7XG5cbiAgaXQoJ3JlcGFnaW5hdGVzIHdoZW4gcGFnZVNpemUgY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChjcmVhdGVUYWJsZSgpKTtcblxuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBwYWdpbmF0aW9uOiB7IHBhZ2VTaXplOiAxIH0gfSk7XG4gICAgZXhwZWN0KHJlbmRlcmVkTmFtZXMod3JhcHBlcikpLnRvRXF1YWwoWydKYWNrJ10pO1xuICB9KTtcblxuICBpdCgnZmlyZXMgY2hhbmdlIGV2ZW50JywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICBjb25zdCBoYW5kbGVQYWdpbmF0aW9uQ2hhbmdlID0gamVzdC5mbigpO1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChcbiAgICAgIGNyZWF0ZVRhYmxlKHtcbiAgICAgICAgcGFnaW5hdGlvbjogeyAuLi5wYWdpbmF0aW9uLCBvbkNoYW5nZTogaGFuZGxlUGFnaW5hdGlvbkNoYW5nZSwgb25TaG93U2l6ZUNoYW5nZTogbm9vcCB9LFxuICAgICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHdyYXBwZXIuZmluZCgnLmM3bi1wYWdpbmF0aW9uLW5leHQnKS5zaW11bGF0ZSgnY2xpY2snKTtcblxuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6ICdteS1wYWdlJyxcbiAgICAgICAgY3VycmVudDogMixcbiAgICAgICAgcGFnZVNpemU6IDIsXG4gICAgICAgIHNpemU6ICdkZWZhdWx0JyxcbiAgICAgIH0sXG4gICAgICB7fSxcbiAgICAgIHt9LFxuICAgICAgW10sXG4gICAgKTtcblxuICAgIGV4cGVjdChoYW5kbGVQYWdpbmF0aW9uQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgyLCAyKTtcbiAgfSk7XG5cbiAgLy8gaHR0cHM6Ly9jb2RlcGVuLmlvL2FmYzE2My9wZW4vZFZlTm9QP2VkaXRvcnM9MDAxXG4gIGl0KCdzaG91bGQgaGF2ZSBwYWdlciB3aGVuIGNoYW5nZSBwYWdpbmF0aW9uIGZyb20gZmFsc2UgdG8gdW5kZWZpbmVkJywgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChjcmVhdGVUYWJsZSh7IHBhZ2luYXRpb246IGZhbHNlIH0pKTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCcuYzduLXBhZ2luYXRpb24nKSkudG9IYXZlTGVuZ3RoKDApO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBwYWdpbmF0aW9uOiB1bmRlZmluZWQgfSk7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnLmM3bi1wYWdpbmF0aW9uJykpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCcuYzduLXBhZ2luYXRpb24tdG90YWwtdGV4dCcpXG4gICAgICAgIC5hdCgwKVxuICAgICAgICAudGV4dCgpLFxuICAgICkudG9FcXVhbCgnMSAtIDQgLyA0Jyk7XG4gIH0pO1xuXG4gIC8vIGh0dHBzOi8vY29kZXBlbi5pby9hZmMxNjMvcGVuL3BXVlJKVj9lZGl0b3JzPTAwMVxuICBpdCgnc2hvdWxkIGRpc3BsYXkgcGFnaW5hdGlvbiBhcyBwcm9wIHBhZ2luYXRpb24gY2hhbmdlIGJldHdlZW4gdHJ1ZSBhbmQgZmFsc2UnLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KGNyZWF0ZVRhYmxlKCkpO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tcGFnaW5hdGlvbicpKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgZXhwZWN0KFxuICAgICAgd3JhcHBlclxuICAgICAgICAuZmluZCgnLmM3bi1wYWdpbmF0aW9uLXRvdGFsLXRleHQnKVxuICAgICAgICAuYXQoMClcbiAgICAgICAgLnRleHQoKSxcbiAgICApLnRvRXF1YWwoJzEgLSAyIC8gNCcpO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBwYWdpbmF0aW9uOiBmYWxzZSB9KTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCcuYzduLXBhZ2luYXRpb24nKSkudG9IYXZlTGVuZ3RoKDApO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBwYWdpbmF0aW9uIH0pO1xuICAgIHdyYXBwZXIudXBkYXRlKCk7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnLmM3bi1wYWdpbmF0aW9uJykpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCcuYzduLXBhZ2luYXRpb24tdG90YWwtdGV4dCcpXG4gICAgICAgIC5hdCgwKVxuICAgICAgICAudGV4dCgpLFxuICAgICkudG9FcXVhbCgnMSAtIDIgLyA0Jyk7XG4gICAgd3JhcHBlci5maW5kKCcuYzduLXBhZ2luYXRpb24tbmV4dCcpLnNpbXVsYXRlKCdjbGljaycpO1xuICAgIGV4cGVjdChyZW5kZXJlZE5hbWVzKHdyYXBwZXIpKS50b0VxdWFsKFsnVG9tJywgJ0plcnJ5J10pO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBwYWdpbmF0aW9uOiBmYWxzZSB9KTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCcuYzduLXBhZ2luYXRpb24nKSkudG9IYXZlTGVuZ3RoKDApO1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyBwYWdpbmF0aW9uOiB0cnVlIH0pO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tcGFnaW5hdGlvbicpKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgZXhwZWN0KFxuICAgICAgd3JhcHBlclxuICAgICAgICAuZmluZCgnLmM3bi1wYWdpbmF0aW9uLXRvdGFsLXRleHQnKVxuICAgICAgICAuYXQoMClcbiAgICAgICAgLnRleHQoKSxcbiAgICApLnRvRXF1YWwoJzEgLSA0IC8gNCcpOyAvLyBwYWdlU2l6ZSB3aWxsIGJlIDEwXG4gICAgZXhwZWN0KHJlbmRlcmVkTmFtZXMod3JhcHBlcikpLnRvRXF1YWwoWydKYWNrJywgJ0x1Y3knLCAnVG9tJywgJ0plcnJ5J10pO1xuICB9KTtcblxuICBpdCgnY2hhbmdlIHRvIGNvcnJlY3QgcGFnZSB3aGVuIGRhdGEgc291cmNlIGNoYW5nZXMnLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KGNyZWF0ZVRhYmxlKHsgcGFnaW5hdGlvbjogeyBwYWdlU2l6ZTogMSB9IH0pKTtcbiAgICB3cmFwcGVyLmZpbmQoJy5jN24tcGFnaW5hdGlvbi1uZXh0Jykuc2ltdWxhdGUoJ2NsaWNrJyk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IGRhdGFTb3VyY2U6IFtkYXRhWzBdXSB9KTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCcuYzduLXBhZ2luYXRpb24tdG90YWwtdGV4dCcpXG4gICAgICAgIC5hdCgwKVxuICAgICAgICAudGV4dCgpLFxuICAgICkudG9FcXVhbCgnMSAtIDEgLyAxJyk7XG4gIH0pO1xuXG4gIGl0KCdzcGVjaWZ5IHRoZSBwb3NpdGlvbiBvZiBwYWdpbmF0aW9uJywgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChjcmVhdGVUYWJsZSh7IHBhZ2luYXRpb246IHsgcG9zaXRpb246ICd0b3AnIH0gfSkpO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tc3Bpbi1jb250YWluZXInKS5jaGlsZHJlbigpKS50b0hhdmVMZW5ndGgoMik7XG4gICAgZXhwZWN0KFxuICAgICAgd3JhcHBlclxuICAgICAgICAuZmluZCgnLmM3bi1zcGluLWNvbnRhaW5lcicpXG4gICAgICAgIC5jaGlsZEF0KDApXG4gICAgICAgIC5maW5kKCcuYzduLXBhZ2luYXRpb24nKSxcbiAgICApLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICB3cmFwcGVyLnNldFByb3BzKHsgcGFnaW5hdGlvbjogeyBwb3NpdGlvbjogJ2JvdHRvbScgfSB9KTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCcuYzduLXNwaW4tY29udGFpbmVyJykuY2hpbGRyZW4oKSkudG9IYXZlTGVuZ3RoKDIpO1xuICAgIGV4cGVjdChcbiAgICAgIHdyYXBwZXJcbiAgICAgICAgLmZpbmQoJy5jN24tc3Bpbi1jb250YWluZXInKVxuICAgICAgICAuY2hpbGRBdCgxKVxuICAgICAgICAuZmluZCgnLmM3bi1wYWdpbmF0aW9uJyksXG4gICAgKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgd3JhcHBlci5zZXRQcm9wcyh7IHBhZ2luYXRpb246IHsgcG9zaXRpb246ICdib3RoJyB9IH0pO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tc3Bpbi1jb250YWluZXInKS5jaGlsZHJlbigpKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgZXhwZWN0KFxuICAgICAgd3JhcHBlclxuICAgICAgICAuZmluZCgnLmM3bi1zcGluLWNvbnRhaW5lcicpXG4gICAgICAgIC5jaGlsZEF0KDApXG4gICAgICAgIC5maW5kKCcuYzduLXBhZ2luYXRpb24nKSxcbiAgICApLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICBleHBlY3QoXG4gICAgICB3cmFwcGVyXG4gICAgICAgIC5maW5kKCcuYzduLXNwaW4tY29udGFpbmVyJylcbiAgICAgICAgLmNoaWxkQXQoMilcbiAgICAgICAgLmZpbmQoJy5jN24tcGFnaW5hdGlvbicpLFxuICAgICkudG9IYXZlTGVuZ3RoKDEpO1xuICB9KTtcbn0pO1xuIl19