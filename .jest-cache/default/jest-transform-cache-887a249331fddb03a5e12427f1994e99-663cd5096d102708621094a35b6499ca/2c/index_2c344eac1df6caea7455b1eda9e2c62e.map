{"version":3,"sources":["tag/index.js"],"names":["Tag","Component","closing","closed","onClose","e","dom","afterClose","color","customizePrefixCls","closable","className","children","style","otherProps","prefixCls","closeIcon","Icon","type","onClick","close","isPresetColor","classString","divProps","tagStyle","tag","hidden","Animate","component","hiddenProp","transitionName","transitionAppear","onEnd","animationEnd","CheckableTag"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,MAAA,GAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AACA,IAAA,WAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AACA,IAAA,KAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CAAA;;AACA,IAAA,KAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA;;AACA,IAAA,aAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;AACA,IAAA,QAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AACA,IAAA,UAAA,GAAA,OAAA,CAAA,cAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IACqBA,G;;;;;;;AACjB,WAAA,GAAA,GAAc;AAAA,QAAA,KAAA;;AAAA,KAAA,GAAA,gBAAA,CAAA,SAAA,CAAA,EAAA,IAAA,EAAA,GAAA;AACV,IAAA,KAAA,GAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA;AACA,IAAA,KAAA,CAAA,KAAA,GAAa;AACTE,MAAAA,OAAO,EADE,KAAA;AAETC,MAAAA,MAAM,EAAE;AAFC,KAAb;;AAIA,IAAA,KAAA,CAAA,KAAA,GAAa,UAAA,CAAA,EAAK;AAAA,UACNC,OADM,GACM,KAAA,CADN,KACM,CADN,OAAA;;AAEd,UAAA,OAAA,EAAa;AACTA,QAAAA,OAAO,CAAPA,CAAO,CAAPA;AACH;;AACD,UAAIC,CAAC,CAAL,gBAAA,EAAwB;AACpB;AACH;;AACD,UAAMC,GAAG,GAAG,CAAA,GAAA,SAAA,CAAA,WAAA,EAAA,CAAA,GAAA,uBAAA,CAAA,SAAA,CAAA,EAAZ,KAAY,CAAA,CAAZ;AACAA,MAAAA,GAAG,CAAHA,KAAAA,CAAAA,KAAAA,GAAAA,GAAAA,MAAAA,CAAqBA,GAAG,CAAHA,qBAAAA,GAArBA,KAAAA,EATc,IASdA,CAAAA,CATc,CAUd;;AACAA,MAAAA,GAAG,CAAHA,KAAAA,CAAAA,KAAAA,GAAAA,GAAAA,MAAAA,CAAqBA,GAAG,CAAHA,qBAAAA,GAArBA,KAAAA,EAAAA,IAAAA,CAAAA;;AACA,MAAA,KAAA,CAAA,QAAA,CAAc;AACVJ,QAAAA,OAAO,EAAE;AADC,OAAd;AAZJ,KAAA;;AAgBA,IAAA,KAAA,CAAA,YAAA,GAAoB,UAAA,CAAA,EAAA,OAAA,EAAgB;AAAA,UACxBC,MADwB,GACb,KAAA,CADa,KACb,CADa,MAAA;;AAEhC,UAAI,CAAA,OAAA,IAAY,CAAhB,MAAA,EAAyB;AACrB,QAAA,KAAA,CAAA,QAAA,CAAc;AACVA,UAAAA,MAAM,EADI,IAAA;AAEVD,UAAAA,OAAO,EAAE;AAFC,SAAd;;AADqB,YAKbK,UALa,GAKE,KAAA,CALF,KAKE,CALF,UAAA;;AAMrB,YAAA,UAAA,EAAgB;AACZA,UAAAA,UAAU;AACb;AACJ;AAXL,KAAA;;AAtBU,WAAA,KAAA;AAmCb;;;;kCACaC,K,EAAO;AACjB,UAAI,CAAJ,KAAA,EAAY;AACR,eAAA,KAAA;AACH;;AACD,aAAO,kGAAA,IAAA,CAAP,KAAO,CAAP;AACH;;;6BACQ;AAAA,UAAA,WAAA;;AAAA,UAAA,WAAA,GACiG,KADjG,KAAA;AAAA,UACcC,kBADd,GAAA,WAAA,CAAA,SAAA;AAAA,UACkCC,QADlC,GAAA,WAAA,CAAA,QAAA;AAAA,UAC4CF,KAD5C,GAAA,WAAA,CAAA,KAAA;AAAA,UACmDG,SADnD,GAAA,WAAA,CAAA,SAAA;AAAA,UAC8DC,QAD9D,GAAA,WAAA,CAAA,QAAA;AAAA,UACwEC,KADxE,GAAA,WAAA,CAAA,KAAA;AAAA,UACkFC,UADlF,GAAA,CAAA,GAAA,yBAAA,CAAA,SAAA,CAAA,EAAA,WAAA,EAAA,CAAA,WAAA,EAAA,UAAA,EAAA,OAAA,EAAA,WAAA,EAAA,UAAA,EAAA,OAAA,CAAA,CAAA;AAEL,UAAMC,SAAS,GAAG,CAAA,GAAA,UAAA,CAAA,YAAA,EAAA,KAAA,EAAlB,kBAAkB,CAAlB;AAFK,UAAA,WAAA,GAGuB,KAHvB,KAAA;AAAA,UAGGb,OAHH,GAAA,WAAA,CAAA,OAAA;AAAA,UAGYC,MAHZ,GAAA,WAAA,CAAA,MAAA;AAIL,UAAMa,SAAS,GAAGN,QAAQ,GAAG,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAoBO,KAAAA,CAApB,SAAoBA,CAApB,EAA0B;AAAEC,QAAAA,IAAI,EAAN,OAAA;AAAiBC,QAAAA,OAAO,EAAE,KAAKC;AAA/B,OAA1B,CAAH,GAA1B,EAAA;AACA,UAAMC,aAAa,GAAG,KAAA,aAAA,CAAtB,KAAsB,CAAtB;AACA,UAAMC,WAAW,GAAG,CAAA,GAAA,WAAA,CAAA,SAAA,CAAA,EAAA,SAAA,GAAA,WAAA,GAAA,EAAA,EAAA,CAAA,GAAA,gBAAA,CAAA,SAAA,CAAA,EAAA,WAAA,EAAA,GAAA,MAAA,CAAA,SAAA,EAAA,GAAA,EAAA,MAAA,CAAA,KAAA,CAAA,EAAA,aAAA,CAAA,EAAA,CAAA,GAAA,gBAAA,CAAA,SAAA,CAAA,EAAA,WAAA,EAAA,GAAA,MAAA,CAAA,SAAA,EAAA,YAAA,CAAA,EAEYd,KAAK,IAAI,CAFrB,aAAA,CAAA,EAAA,CAAA,GAAA,gBAAA,CAAA,SAAA,CAAA,EAAA,WAAA,EAAA,GAAA,MAAA,CAAA,SAAA,EAAA,QAAA,CAAA,EAAA,OAAA,CAAA,EAAA,WAAA,GANf,SAMe,CAApB,CANK,CAWL;;AACA,UAAMe,QAAQ,GAAG,CAAA,GAAA,KAAA,CAAA,SAAA,CAAA,EAAA,UAAA,EAAiB,CAAA,SAAA,EAAlC,YAAkC,CAAjB,CAAjB;AACA,UAAMC,QAAQ,GAAA,CAAA,GAAA,cAAA,CAAA,SAAA,CAAA,EAAA,EAAA,EAAd,KAAc,CAAd;;AAGA,UAAIhB,KAAK,IAAI,CAAb,aAAA,EAA6B;AACzBgB,QAAAA,QAAQ,CAARA,eAAAA,GAAAA,KAAAA;AACH;;AACD,UAAMC,GAAG,GAAGtB,MAAM,GAAA,IAAA,GAAW,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAA,KAAA,EAA2B,CAAA,GAAA,SAAA,CAAA,SAAA,CAAA,EAAc;AAAEuB,QAAAA,MAAM,EAAExB;AAAV,OAAd,EAAA,QAAA,EAA6C;AAAES,QAAAA,SAAS,EAAX,WAAA;AAA0BE,QAAAA,KAAK,EAAEW;AAAjC,OAA7C,CAA3B,EAAA,QAAA,EAA7B,SAA6B,CAA7B;AAGA,aAAQ,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAoBG,QAAAA,CAApB,SAAoBA,CAApB,EAA6B;AAAEC,QAAAA,SAAS,EAAX,EAAA;AAAiBC,QAAAA,UAAU,EAA3B,QAAA;AAAuCC,QAAAA,cAAc,EAAA,GAAA,MAAA,CAAA,SAAA,EAArD,OAAqD,CAArD;AAA4EC,QAAAA,gBAAgB,EAA5F,IAAA;AAAoGC,QAAAA,KAAK,EAAE,KAAKC;AAAhH,OAA7B,EAAR,GAAQ,CAAR;AACH;;;EAlE4BhC,MAAAA,CAAAA,S;;;AAoEjCD,GAAG,CAAHA,WAAAA,GAAAA,KAAAA;AACAA,GAAG,CAAHA,YAAAA,GAAmBkC,aAAAA,CAAnBlC,SAAmBkC,CAAnBlC;AACAA,GAAG,CAAHA,YAAAA,GAAmB;AACfU,EAAAA,QAAQ,EAAE;AADK,CAAnBV","sourcesContent":["import React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport classNames from 'classnames';\nimport omit from 'lodash/omit';\nimport Icon from '../icon';\nimport CheckableTag from './CheckableTag';\nimport Animate from '../animate';\nimport { getPrefixCls } from '../configure';\nexport default class Tag extends Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            closing: false,\n            closed: false,\n        };\n        this.close = e => {\n            const { onClose } = this.props;\n            if (onClose) {\n                onClose(e);\n            }\n            if (e.defaultPrevented) {\n                return;\n            }\n            const dom = findDOMNode(this);\n            dom.style.width = `${dom.getBoundingClientRect().width}px`;\n            // It's Magic Code, don't know why\n            dom.style.width = `${dom.getBoundingClientRect().width}px`;\n            this.setState({\n                closing: true,\n            });\n        };\n        this.animationEnd = (_, existed) => {\n            const { closed } = this.state;\n            if (!existed && !closed) {\n                this.setState({\n                    closed: true,\n                    closing: false,\n                });\n                const { afterClose } = this.props;\n                if (afterClose) {\n                    afterClose();\n                }\n            }\n        };\n    }\n    isPresetColor(color) {\n        if (!color) {\n            return false;\n        }\n        return /^(pink|red|yellow|orange|cyan|green|blue|purple|geekblue|magenta|volcano|gold|lime)(-inverse)?$/.test(color);\n    }\n    render() {\n        const { prefixCls: customizePrefixCls, closable, color, className, children, style, ...otherProps } = this.props;\n        const prefixCls = getPrefixCls('tag', customizePrefixCls);\n        const { closing, closed } = this.state;\n        const closeIcon = closable ? React.createElement(Icon, { type: \"close\", onClick: this.close }) : '';\n        const isPresetColor = this.isPresetColor(color);\n        const classString = classNames(prefixCls, {\n            [`${prefixCls}-${color}`]: isPresetColor,\n            [`${prefixCls}-has-color`]: color && !isPresetColor,\n            [`${prefixCls}-close`]: closing,\n        }, className);\n        // fix https://fb.me/react-unknown-prop\n        const divProps = omit(otherProps, ['onClose', 'afterClose']);\n        const tagStyle = {\n            ...style,\n        };\n        if (color && !isPresetColor) {\n            tagStyle.backgroundColor = color;\n        }\n        const tag = closed ? null : (React.createElement(\"div\", Object.assign({ hidden: closing }, divProps, { className: classString, style: tagStyle }),\n            children,\n            closeIcon));\n        return (React.createElement(Animate, { component: \"\", hiddenProp: \"hidden\", transitionName: `${prefixCls}-zoom`, transitionAppear: true, onEnd: this.animationEnd }, tag));\n    }\n}\nTag.displayName = 'Tag';\nTag.CheckableTag = CheckableTag;\nTag.defaultProps = {\n    closable: false,\n};\n"]}