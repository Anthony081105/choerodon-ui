{"version":3,"sources":["Cascader.jsx"],"names":["BUILT_IN_PLACEMENTS","bottomLeft","points","offset","overflow","adjustX","adjustY","topLeft","bottomRight","topRight","Cascader","props","popupVisible","setState","state","visible","activeValue","value","onPopupVisibleChange","options","setProps","e","type","keyCode","KeyCode","ENTER","onChange","map","o","setPopupVisible","targetOption","menuIndex","isTabSelected","triggerNode","trigger","getRootDomNode","focus","changeOnSelect","loadData","expandTrigger","disabled","slice","activeOptions","getActiveOptions","isLeaf","children","handleChange","newState","length","onKeyDown","currentLevel","currentOptions","getCurrentLevelOptions","currentIndex","indexOf","DOWN","UP","LEFT","RIGHT","BACKSPACE","ESC","nextIndex","splice","push","handleMenuSelect","node","initialValue","defaultValue","nextProps","newValues","getPopupDomNode","result","level","filter","prefixCls","transitionName","popupClassName","builtinPlacements","popupPlacement","locale","menuMode","singleMenuStyle","singleMenuItemStyle","restProps","menus","emptyMenuClassName","Error","saveTrigger","handlePopupVisibleChange","handleKeyDown","tabIndex","undefined","Component","expandIcon","Locale","PropTypes","array","isRequired","func","bool","string","dropdownMenuColumnStyle","object","singlePleaseRender","singleMenuItemRender"],"mappings":"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","sourcesContent":["import React, { cloneElement, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport arrayTreeFilter from 'array-tree-filter';\nimport isEqual from 'lodash/isEqual';\nimport Trigger from '../trigger';\nimport Icon from '../../icon';\nimport Menus from './Menus';\nimport MenusSingle from './MenusSingle';\nimport KeyCode from '../../_util/KeyCode';\nimport Locale from './locale/en_US';\n\nconst BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1,\n    },\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1,\n    },\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1,\n    },\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1,\n    },\n  },\n};\n\nexport default class Cascader extends Component {\n  static defaultProps = {\n    options: [],\n    onChange() {},\n    onPopupVisibleChange() {},\n    disabled: false,\n    transitionName: '',\n    prefixCls: 'rc-cascader',\n    popupClassName: '',\n    popupPlacement: 'bottomLeft',\n    builtinPlacements: BUILT_IN_PLACEMENTS,\n    expandTrigger: 'click',\n    expandIcon: <Icon type=\"navigate_next\" />,\n    menuMode:'multiple',\n    locale:Locale,\n  };\n\n  static propTypes = {\n    value: PropTypes.array,\n    defaultValue: PropTypes.array,\n    options: PropTypes.array.isRequired,\n    onChange: PropTypes.func,\n    onPopupVisibleChange: PropTypes.func,\n    popupVisible: PropTypes.bool,\n    disabled: PropTypes.bool,\n    transitionName: PropTypes.string,\n    popupClassName: PropTypes.string,\n    popupPlacement: PropTypes.string,\n    prefixCls: PropTypes.string,\n    dropdownMenuColumnStyle: PropTypes.object,\n    builtinPlacements: PropTypes.object,\n    loadData: PropTypes.func,\n    changeOnSelect: PropTypes.bool,\n    children: PropTypes.node,\n    onKeyDown: PropTypes.func,\n    expandTrigger: PropTypes.string,\n    expandIcon: PropTypes.node,\n    menuMode: PropTypes.string,\n    locale: PropTypes.object,\n    singleMenuStyle: PropTypes.object,\n    singleMenuItemStyle: PropTypes.object,\n    singlePleaseRender: PropTypes.func,\n    singleMenuItemRender: PropTypes.func,\n  };\n\n  constructor(props) {\n    super(props);\n    let initialValue = [];\n    if ('value' in props) {\n      initialValue = props.value || [];\n    } else if ('defaultValue' in props) {\n      initialValue = props.defaultValue || [];\n    }\n\n    this.state = {\n      popupVisible: props.popupVisible,\n      activeValue: initialValue,\n      value: initialValue,\n      isTabSelected: false,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if ('value' in nextProps && !isEqual(this.props.value, nextProps.value)) {\n      const newValues = {\n        value: nextProps.value || [],\n        activeValue: nextProps.value || [],\n      };\n      // allow activeValue diff from value\n      if ('loadData' in nextProps) {\n        delete newValues.activeValue;\n      }\n      this.setState(newValues);\n    }\n    if ('popupVisible' in nextProps) {\n      this.setState({\n        popupVisible: nextProps.popupVisible,\n      });\n    }\n  }\n\n  getPopupDOMNode() {\n    return this.trigger.getPopupDomNode();\n  }\n\n  getCurrentLevelOptions() {\n    const { options } = this.props;\n    const { activeValue = [] } = this.state;\n    const result = arrayTreeFilter(options, (o, level) => o.value === activeValue[level]);\n    if (result[result.length - 2]) {\n      return result[result.length - 2].children;\n    }\n    return [...options].filter(o => !o.disabled);\n  }\n\n  getActiveOptions(activeValue) {\n    return arrayTreeFilter(this.props.options, (o, level) => o.value === activeValue[level]);\n  }\n\n  setPopupVisible = popupVisible => {\n    if (!('popupVisible' in this.props)) {\n      this.setState({ popupVisible });\n    }\n    // sync activeValue with value when panel open\n    if (popupVisible && !this.state.visible) {\n      this.setState({\n        activeValue: this.state.value,\n      });\n    }\n    this.props.onPopupVisibleChange(popupVisible);\n  };\n  handleChange = (options, setProps, e) => {\n    if (e.type !== 'keydown' || e.keyCode === KeyCode.ENTER) {\n      this.props.onChange(options.map(o => o.value), options);\n      this.setPopupVisible(setProps.visible);\n    }\n  };\n  handlePopupVisibleChange = popupVisible => {\n    this.setPopupVisible(popupVisible);\n  };\n  handleMenuSelect = (targetOption, menuIndex,isTabSelected = false,e) => {\n    // Keep focused state for keyboard support\n    const triggerNode = this.trigger.getRootDomNode();\n    if (triggerNode && triggerNode.focus) {\n      triggerNode.focus();\n    }\n    const { changeOnSelect, loadData, expandTrigger } = this.props;\n    if (!targetOption || targetOption.disabled) {\n      return;\n    }\n    let { activeValue } = this.state;\n    activeValue = activeValue.slice(0, menuIndex + 1);\n    activeValue[menuIndex] = targetOption.value;\n    const activeOptions = this.getActiveOptions(activeValue);\n    if (targetOption.isLeaf === false && !targetOption.children && loadData) {\n      if (changeOnSelect) {\n        this.handleChange(activeOptions, { visible: true }, e);\n      }\n      this.setState({ activeValue,isTabSelected });\n      loadData(activeOptions);\n      return;\n    }\n    const newState = {};\n    if (!targetOption.children || !targetOption.children.length) {\n      this.handleChange(activeOptions, { visible: false }, e);\n      // set value to activeValue when select leaf option\n      newState.value = activeValue;\n      // add e.type judgement to prevent `onChange` being triggered by mouseEnter\n    } else if (changeOnSelect && (e.type === 'click' || e.type === 'keydown')) {\n      if (expandTrigger === 'hover') {\n        this.handleChange(activeOptions, { visible: false }, e);\n      } else {\n        this.handleChange(activeOptions, { visible: true }, e);\n      }\n      // set value to activeValue on every select\n      newState.value = activeValue;\n    }\n    newState.activeValue = activeValue;\n    //  not change the value by keyboard\n    if ('value' in this.props || (e.type === 'keydown' && e.keyCode !== KeyCode.ENTER)) {\n      delete newState.value;\n    }\n    newState.isTabSelected = isTabSelected\n    this.setState(newState);\n  };\n  handleKeyDown = e => {\n    const { children } = this.props;\n    // Don't bind keyboard support when children specify the onKeyDown\n    if (children && children.props.onKeyDown) {\n      children.props.onKeyDown(e);\n      return;\n    }\n    const activeValue = [...this.state.activeValue];\n    const currentLevel = activeValue.length - 1 < 0 ? 0 : activeValue.length - 1;\n    const currentOptions = this.getCurrentLevelOptions();\n    const currentIndex = currentOptions.map(o => o.value).indexOf(activeValue[currentLevel]);\n    if (\n      e.keyCode !== KeyCode.DOWN &&\n      e.keyCode !== KeyCode.UP &&\n      e.keyCode !== KeyCode.LEFT &&\n      e.keyCode !== KeyCode.RIGHT &&\n      e.keyCode !== KeyCode.ENTER &&\n      e.keyCode !== KeyCode.BACKSPACE &&\n      e.keyCode !== KeyCode.ESC\n    ) {\n      return;\n    }\n    // Press any keys above to reopen menu\n    if (\n      !this.state.popupVisible &&\n      e.keyCode !== KeyCode.BACKSPACE &&\n      e.keyCode !== KeyCode.LEFT &&\n      e.keyCode !== KeyCode.RIGHT &&\n      e.keyCode !== KeyCode.ESC\n    ) {\n      this.setPopupVisible(true);\n      return;\n    }\n    if (e.keyCode === KeyCode.DOWN || e.keyCode === KeyCode.UP) {\n      let nextIndex = currentIndex;\n      if (nextIndex !== -1) {\n        if (e.keyCode === KeyCode.DOWN) {\n          nextIndex += 1;\n          nextIndex = nextIndex >= currentOptions.length ? 0 : nextIndex;\n        } else {\n          nextIndex -= 1;\n          nextIndex = nextIndex < 0 ? currentOptions.length - 1 : nextIndex;\n        }\n      } else {\n        nextIndex = 0;\n      }\n      activeValue[currentLevel] = currentOptions[nextIndex].value;\n    } else if (e.keyCode === KeyCode.LEFT || e.keyCode === KeyCode.BACKSPACE) {\n      activeValue.splice(activeValue.length - 1, 1);\n    } else if (e.keyCode === KeyCode.RIGHT) {\n      if (currentOptions[currentIndex] && currentOptions[currentIndex].children) {\n        activeValue.push(currentOptions[currentIndex].children[0].value);\n      }\n    } else if (e.keyCode === KeyCode.ESC) {\n      this.setPopupVisible(false);\n      return;\n    }\n    if (!activeValue || activeValue.length === 0) {\n      this.setPopupVisible(false);\n    }\n    const activeOptions = this.getActiveOptions(activeValue);\n    const targetOption = activeOptions[activeOptions.length - 1];\n    this.handleMenuSelect(targetOption, activeOptions.length - 1, false , e);\n\n    if (this.props.onKeyDown) {\n      this.props.onKeyDown(e);\n    }\n  };\n\n  saveTrigger = node => {\n    this.trigger = node;\n  };\n\n  render() {\n    const {\n      prefixCls,\n      transitionName,\n      popupClassName,\n      options,\n      disabled,\n      builtinPlacements,\n      popupPlacement,\n      children,\n      locale,\n      menuMode,\n      singleMenuStyle,\n      singleMenuItemStyle,\n      ...restProps\n    } = this.props;\n    // Did not show popup when there is no options\n    let menus = <div />;\n    let emptyMenuClassName = '';\n    if (options && options.length > 0) {\n      if( menuMode === \"multiple\") {\n        menus = (\n          <Menus\n            {...this.props}\n            value={this.state.value}\n            activeValue={this.state.activeValue}\n            onSelect={this.handleMenuSelect}\n            visible={this.state.popupVisible}\n          />)\n      }else if (menuMode === \"single\" ){\n        menus = (\n          <MenusSingle\n            {...this.props}\n            isTabSelected={this.state.isTabSelected}\n            value={this.state.value}\n            activeValue={this.state.activeValue}\n            onSelect={this.handleMenuSelect}\n            visible={this.state.popupVisible}\n            locale={locale}\n            singleMenuStyle={singleMenuStyle}\n            singleMenuItemStyle={singleMenuItemStyle}\n          />)\n\n      } else {\n        throw new Error('please use correct mode for menu ex \"single\" and \"multiple\"')\n      }\n    } else {\n      emptyMenuClassName = ` ${prefixCls}-menus-empty`;\n    }\n    return (\n      <Trigger\n        ref={this.saveTrigger}\n        {...restProps}\n        options={options}\n        disabled={disabled}\n        popupPlacement={popupPlacement}\n        builtinPlacements={builtinPlacements}\n        popupTransitionName={transitionName}\n        action={disabled ? [] : ['click']}\n        popupVisible={disabled ? false : this.state.popupVisible}\n        onPopupVisibleChange={this.handlePopupVisibleChange}\n        prefixCls={`${prefixCls}-menus`}\n        popupClassName={popupClassName + emptyMenuClassName}\n        popup={menus}\n      >\n        {cloneElement(children, {\n          onKeyDown: this.handleKeyDown,\n          tabIndex: disabled ? undefined : 0,\n        })}\n      </Trigger>\n    );\n  }\n}\n"]}