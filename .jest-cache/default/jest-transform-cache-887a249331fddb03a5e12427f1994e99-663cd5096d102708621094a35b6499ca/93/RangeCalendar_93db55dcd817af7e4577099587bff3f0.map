{"version":3,"sources":["RangeCalendar.jsx"],"names":["isEmptyArray","arr","Array","isArray","length","every","i","isArraysEqual","a","b","getValueFromSelectedValue","selectedValue","start","end","newEnd","isSame","clone","add","normalizeAnchor","props","init","defaultSelectedValue","value","defaultValue","normalizedValue","generateOptions","extraOptionGen","concat","indexOf","push","onInputSelect","direction","originalValue","state","index","compare","showTimePicker","undefined","fireSelectValueChange","RangeCalendar","propTypes","prefixCls","PropTypes","string","dateInputPlaceholder","any","hoverValue","mode","arrayOf","oneOf","showDateInput","bool","timePicker","showOk","showToday","array","onOk","func","showClear","locale","object","onChange","onSelect","onValueChange","onHoverChange","onPanelChange","format","oneOfType","onClear","type","disabledDate","disabledTime","mixins","CommonMixin","getDefaultProps","noop","getInitialState","prevSelectedValue","firstSelectedValue","componentWillReceiveProps","nextProps","newState","setState","onDatePanelEnter","hasSelectedValue","fireHoverValueChange","onDatePanelLeave","nextSelectedValue","endValue","startValue","onDayHover","onToday","onOpenTimePicker","onCloseTimePicker","isAllowedDateAndTime","onStartInputSelect","oargs","args","apply","onEndInputSelect","onStartValueChange","leftValue","fireValueChange","onEndValueChange","rightValue","onStartPanelChange","newMode","newValue","onEndPanelChange","getStartValue","getEndValue","getEndDisableTime","userSettingDisabledTime","hours","hour","minutes","minute","second","disabledHours","disabledMinutes","disabledSeconds","oldDisabledMinutes","olddisabledSeconds","disabledStartTime","disabledEndTime","isMonthYearPanelShow","v1","v2","diff","direct","timePickerDefaultValue","clear","time","disabledStartMonth","month","isSameOrAfter","disabledEndMonth","isSameOrBefore","render","className","visible","showWeekNumber","classes","newProps","placeholder1","placeholder2","showOkButton","cls","todayTime","thisMonth","thisYear","year","isTodayInView","nextMonthOfStart","isClosestMonths","saveRoot","style","renderSidebar","getFormat","renderFooter","backToToday"],"mappings":"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","sourcesContent":["import React from 'react';\nimport createReactClass from 'create-react-class';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport classnames from 'classnames';\nimport noop from 'lodash/noop';\nimport CalendarPart from './range-calendar/CalendarPart';\nimport TodayButton from './calendar/TodayButton';\nimport OkButton from './calendar/OkButton';\nimport TimePickerButton from './calendar/TimePickerButton';\nimport CommonMixin from './mixin/CommonMixin';\nimport { getTodayTime, isAllowedDate, syncTime } from './util';\n\nfunction isEmptyArray(arr) {\n  return Array.isArray(arr) && (arr.length === 0 || arr.every(i => !i));\n}\n\nfunction isArraysEqual(a, b) {\n  if (a === b) return true;\n  if (a === null || typeof a === 'undefined' || b === null || typeof b === 'undefined') {\n    return false;\n  }\n  if (a.length !== b.length) return false;\n\n  for (let i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n}\n\nfunction getValueFromSelectedValue(selectedValue) {\n  const [start, end] = selectedValue;\n  const newEnd = end && end.isSame(start, 'month') ? end.clone().add(1, 'month') : end;\n  return [start, newEnd];\n}\n\nfunction normalizeAnchor(props, init) {\n  const selectedValue = props.selectedValue || init && props.defaultSelectedValue;\n  const value = props.value || init && props.defaultValue;\n  const normalizedValue = value ?\n          getValueFromSelectedValue(value) :\n          getValueFromSelectedValue(selectedValue);\n  return !isEmptyArray(normalizedValue) ?\n    normalizedValue : init && [moment(), moment().add(1, 'months')];\n}\n\nfunction generateOptions(length, extraOptionGen) {\n  const arr = extraOptionGen ? extraOptionGen().concat() : [];\n  for (let value = 0; value < length; value++) {\n    if (arr.indexOf(value) === -1) {\n      arr.push(value);\n    }\n  }\n  return arr;\n}\n\nfunction onInputSelect(direction, value) {\n  if (!value) {\n    return;\n  }\n  const originalValue = this.state.selectedValue;\n  const selectedValue = originalValue.concat();\n  const index = direction === 'left' ? 0 : 1;\n  selectedValue[index] = value;\n  if (selectedValue[0] && this.compare(selectedValue[0], selectedValue[1]) > 0) {\n    selectedValue[1 - index] = this.state.showTimePicker ? selectedValue[index] : undefined;\n  }\n  this.props.onInputSelect(selectedValue);\n  this.fireSelectValueChange(selectedValue);\n}\n\nconst RangeCalendar = createReactClass({\n  propTypes: {\n    prefixCls: PropTypes.string,\n    dateInputPlaceholder: PropTypes.any,\n    defaultValue: PropTypes.any,\n    value: PropTypes.any,\n    hoverValue: PropTypes.any,\n    mode: PropTypes.arrayOf(PropTypes.oneOf(['date', 'month', 'year', 'decade'])),\n    showDateInput: PropTypes.bool,\n    timePicker: PropTypes.any,\n    showOk: PropTypes.bool,\n    showToday: PropTypes.bool,\n    defaultSelectedValue: PropTypes.array,\n    selectedValue: PropTypes.array,\n    onOk: PropTypes.func,\n    showClear: PropTypes.bool,\n    locale: PropTypes.object,\n    onChange: PropTypes.func,\n    onSelect: PropTypes.func,\n    onValueChange: PropTypes.func,\n    onHoverChange: PropTypes.func,\n    onPanelChange: PropTypes.func,\n    format: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n    onClear: PropTypes.func,\n    type: PropTypes.any,\n    disabledDate: PropTypes.func,\n    disabledTime: PropTypes.func,\n  },\n\n  mixins: [CommonMixin],\n\n  getDefaultProps() {\n    return {\n      type: 'both',\n      defaultSelectedValue: [],\n      onValueChange: noop,\n      onHoverChange: noop,\n      onPanelChange: noop,\n      disabledTime: noop,\n      onInputSelect: noop,\n      showToday: true,\n      showDateInput: true,\n    };\n  },\n\n  getInitialState() {\n    const props = this.props;\n    const selectedValue = props.selectedValue || props.defaultSelectedValue;\n    const value = normalizeAnchor(props, 1);\n    return {\n      selectedValue,\n      prevSelectedValue: selectedValue,\n      firstSelectedValue: null,\n      hoverValue: props.hoverValue || [],\n      value,\n      showTimePicker: false,\n      mode: props.mode || ['date', 'date'],\n    };\n  },\n\n  componentWillReceiveProps(nextProps) {\n    const { state } = this;\n    const newState = {};\n    if ('value' in nextProps) {\n      newState.value = normalizeAnchor(nextProps, 0);\n      this.setState(newState);\n    }\n    if ('hoverValue' in nextProps && !isArraysEqual(state.hoverValue, nextProps.hoverValue)) {\n      this.setState({ hoverValue: nextProps.hoverValue });\n    }\n    if ('selectedValue' in nextProps) {\n      newState.selectedValue = nextProps.selectedValue;\n      newState.prevSelectedValue = nextProps.selectedValue;\n      this.setState(newState);\n    }\n    if ('mode' in nextProps && !isArraysEqual(state.mode, nextProps.mode)) {\n      this.setState({ mode: nextProps.mode });\n    }\n  },\n\n  onDatePanelEnter() {\n    if (this.hasSelectedValue()) {\n      this.fireHoverValueChange(this.state.selectedValue.concat());\n    }\n  },\n\n  onDatePanelLeave() {\n    if (this.hasSelectedValue()) {\n      this.fireHoverValueChange([]);\n    }\n  },\n\n  onSelect(value) {\n    const { type } = this.props;\n    const { selectedValue, prevSelectedValue, firstSelectedValue } = this.state;\n    let nextSelectedValue;\n    if (type === 'both') {\n      if (!firstSelectedValue) {\n        syncTime(prevSelectedValue[0], value);\n        nextSelectedValue = [value];\n      } else if (this.compare(firstSelectedValue, value) < 0) {\n        syncTime(prevSelectedValue[1], value);\n        nextSelectedValue = [firstSelectedValue, value];\n      } else {\n        syncTime(prevSelectedValue[0], value);\n        syncTime(prevSelectedValue[1], firstSelectedValue);\n        nextSelectedValue = [value, firstSelectedValue];\n      }\n    } else if (type === 'start') {\n      syncTime(prevSelectedValue[0], value);\n      const endValue = selectedValue[1];\n      nextSelectedValue = endValue && this.compare(endValue, value) > 0 ?\n        [value, endValue] : [value];\n    } else { // type === 'end'\n      const startValue = selectedValue[0];\n      if (startValue && this.compare(startValue, value) <= 0) {\n        syncTime(prevSelectedValue[1], value);\n        nextSelectedValue = [startValue, value];\n      } else {\n        syncTime(prevSelectedValue[0], value);\n        nextSelectedValue = [value];\n      }\n    }\n\n    this.fireSelectValueChange(nextSelectedValue);\n  },\n\n  onDayHover(value) {\n    let hoverValue = [];\n    const { selectedValue, firstSelectedValue } = this.state;\n    const { type } = this.props;\n    if (type === 'start' && selectedValue[1]) {\n      hoverValue = this.compare(value, selectedValue[1]) < 0 ?\n        [value, selectedValue[1]] : [value];\n    } else if (type === 'end' && selectedValue[0]) {\n      hoverValue = this.compare(value, selectedValue[0]) > 0 ?\n        [selectedValue[0], value] : [];\n    } else {\n      if (!firstSelectedValue) {\n        return;\n      }\n      hoverValue = this.compare(value, firstSelectedValue) < 0 ?\n        [value, firstSelectedValue] : [firstSelectedValue, value];\n    }\n    this.fireHoverValueChange(hoverValue);\n  },\n\n  onToday() {\n    const startValue = getTodayTime(this.state.value[0]);\n    const endValue = startValue.clone().add(1, 'months');\n    this.setState({ value: [startValue, endValue] });\n  },\n\n  onOpenTimePicker() {\n    this.setState({\n      showTimePicker: true,\n    });\n  },\n  onCloseTimePicker() {\n    this.setState({\n      showTimePicker: false,\n    });\n  },\n\n  onOk() {\n    const { selectedValue } = this.state;\n    if (this.isAllowedDateAndTime(selectedValue)) {\n      this.props.onOk(this.state.selectedValue);\n    }\n  },\n\n  onStartInputSelect(...oargs) {\n    const args = ['left'].concat(oargs);\n    return onInputSelect.apply(this, args);\n  },\n\n  onEndInputSelect(...oargs) {\n    const args = ['right'].concat(oargs);\n    return onInputSelect.apply(this, args);\n  },\n\n  onStartValueChange(leftValue) {\n    const value = [...this.state.value];\n    value[0] = leftValue;\n    return this.fireValueChange(value);\n  },\n\n  onEndValueChange(rightValue) {\n    const value = [...this.state.value];\n    value[1] = rightValue;\n    return this.fireValueChange(value);\n  },\n\n  onStartPanelChange(value, mode) {\n    const { props, state } = this;\n    const newMode = [mode, state.mode[1]];\n    if (!('mode' in props)) {\n      this.setState({\n        mode: newMode,\n      });\n    }\n    const newValue = [value || state.value[0], state.value[1]];\n    props.onPanelChange(newValue, newMode);\n  },\n\n  onEndPanelChange(value, mode) {\n    const { props, state } = this;\n    const newMode = [state.mode[0], mode];\n    if (!('mode' in props)) {\n      this.setState({\n        mode: newMode,\n      });\n    }\n    const newValue = [state.value[0], value || state.value[1]];\n    props.onPanelChange(newValue, newMode);\n  },\n\n  getStartValue() {\n    let value = this.state.value[0];\n    const selectedValue = this.state.selectedValue;\n    // keep selectedTime when select date\n    if (selectedValue[0] && this.props.timePicker) {\n      value = value.clone();\n      syncTime(selectedValue[0], value);\n    }\n    if (this.state.showTimePicker && selectedValue[0]) {\n      return selectedValue[0];\n    }\n    return value;\n  },\n\n  getEndValue() {\n    const { value, selectedValue, showTimePicker } = this.state;\n    const endValue = value[1] ? value[1].clone() : value[0].clone().add(1, 'month');\n    // keep selectedTime when select date\n    if (selectedValue[1] && this.props.timePicker) {\n      syncTime(selectedValue[1], endValue);\n    }\n    if (showTimePicker) {\n      return selectedValue[1] ? selectedValue[1] : this.getStartValue();\n    }\n    return endValue;\n  },\n  // get disabled hours for second picker\n  getEndDisableTime() {\n    const { selectedValue, value } = this.state;\n    const { disabledTime } = this.props;\n    const userSettingDisabledTime = disabledTime(selectedValue, 'end') || {};\n    const startValue = selectedValue && selectedValue[0] || value[0].clone();\n    // if startTime and endTime is same day..\n    // the second time picker will not able to pick time before first time picker\n    if (!selectedValue[1] || startValue.isSame(selectedValue[1], 'day')) {\n      const hours = startValue.hour();\n      const minutes = startValue.minute();\n      const second = startValue.second();\n      let { disabledHours, disabledMinutes, disabledSeconds } = userSettingDisabledTime;\n      const oldDisabledMinutes = disabledMinutes ? disabledMinutes() : [];\n      const olddisabledSeconds = disabledSeconds ? disabledSeconds() : [];\n      disabledHours = generateOptions(hours, disabledHours);\n      disabledMinutes = generateOptions(minutes, disabledMinutes);\n      disabledSeconds = generateOptions(second, disabledSeconds);\n      return {\n        disabledHours() {\n          return disabledHours;\n        },\n        disabledMinutes(hour) {\n          if (hour === hours) {\n            return disabledMinutes;\n          }\n          return oldDisabledMinutes;\n        },\n        disabledSeconds(hour, minute) {\n          if (hour === hours && minute === minutes) {\n            return disabledSeconds;\n          }\n          return olddisabledSeconds;\n        },\n      };\n    }\n    return userSettingDisabledTime;\n  },\n\n  isAllowedDateAndTime(selectedValue) {\n    return isAllowedDate(selectedValue[0], this.props.disabledDate, this.disabledStartTime) &&\n    isAllowedDate(selectedValue[1], this.props.disabledDate, this.disabledEndTime);\n  },\n\n  isMonthYearPanelShow(mode) {\n    return ['month', 'year', 'decade'].indexOf(mode) > -1;\n  },\n\n  hasSelectedValue() {\n    const { selectedValue } = this.state;\n    return !!selectedValue[1] && !!selectedValue[0];\n  },\n\n  compare(v1, v2) {\n    if (this.props.timePicker) {\n      return v1.diff(v2);\n    }\n    return v1.diff(v2, 'days');\n  },\n\n  fireSelectValueChange(selectedValue, direct) {\n    const { timePicker } = this.props;\n    const { prevSelectedValue } = this.state;\n    if (timePicker && timePicker.props.defaultValue) {\n      const timePickerDefaultValue = timePicker.props.defaultValue;\n      if (!prevSelectedValue[0] && selectedValue[0]) {\n        syncTime(timePickerDefaultValue[0], selectedValue[0]);\n      }\n      if (!prevSelectedValue[1] && selectedValue[1]) {\n        syncTime(timePickerDefaultValue[1], selectedValue[1]);\n      }\n    }\n\n    if (!('selectedValue' in this.props)) {\n      this.setState({\n        selectedValue,\n      });\n    }\n\n    // 尚未选择过时间，直接输入的话\n    if (!this.state.selectedValue[0] || !this.state.selectedValue[1]) {\n      const startValue = selectedValue[0] || moment();\n      const endValue = selectedValue[1] || startValue.clone().add(1, 'months');\n      this.setState({\n        selectedValue,\n        value: getValueFromSelectedValue([startValue, endValue]),\n      });\n    }\n\n    if (selectedValue[0] && !selectedValue[1]) {\n      this.setState({ firstSelectedValue: selectedValue[0] });\n      this.fireHoverValueChange(selectedValue.concat());\n    }\n    this.props.onChange(selectedValue);\n    if (direct || selectedValue[0] && selectedValue[1]) {\n      this.setState({\n        prevSelectedValue: selectedValue,\n        firstSelectedValue: null,\n      });\n      this.fireHoverValueChange([]);\n      this.props.onSelect(selectedValue);\n    }\n  },\n\n  fireValueChange(value) {\n    const props = this.props;\n    if (!('value' in props)) {\n      this.setState({\n        value,\n      });\n    }\n    props.onValueChange(value);\n  },\n\n  fireHoverValueChange(hoverValue) {\n    const props = this.props;\n    if (!('hoverValue' in props)) {\n      this.setState({ hoverValue });\n    }\n    props.onHoverChange(hoverValue);\n  },\n\n  clear() {\n    this.fireSelectValueChange([], true);\n    this.props.onClear();\n  },\n\n  disabledStartTime(time) {\n    return this.props.disabledTime(time, 'start');\n  },\n\n  disabledEndTime(time) {\n    return this.props.disabledTime(time, 'end');\n  },\n\n  disabledStartMonth(month) {\n    const { value } = this.state;\n    return month.isSameOrAfter(value[1], 'month');\n  },\n\n  disabledEndMonth(month) {\n    const { value } = this.state;\n    return month.isSameOrBefore(value[0], 'month');\n  },\n\n  render() {\n    const { props, state } = this;\n    const {\n      prefixCls, dateInputPlaceholder,\n      timePicker, showOk, locale, showClear,\n      showToday, type,\n    } = props;\n    const {\n      hoverValue,\n      selectedValue,\n      mode,\n      showTimePicker,\n    } = state;\n    const className = {\n      [props.className]: !!props.className,\n      [prefixCls]: 1,\n      [`${prefixCls}-hidden`]: !props.visible,\n      [`${prefixCls}-range`]: 1,\n      [`${prefixCls}-show-time-picker`]: showTimePicker,\n      [`${prefixCls}-week-number`]: props.showWeekNumber,\n    };\n    const classes = classnames(className);\n    const newProps = {\n      selectedValue: state.selectedValue,\n      onSelect: this.onSelect,\n      onDayHover: type === 'start' && selectedValue[1] ||\n      type === 'end' && selectedValue[0] || !!hoverValue.length ?\n        this.onDayHover : undefined,\n    };\n\n    let placeholder1;\n    let placeholder2;\n\n    if (dateInputPlaceholder) {\n      if (Array.isArray(dateInputPlaceholder)) {\n        [placeholder1, placeholder2] = dateInputPlaceholder;\n      } else {\n        placeholder1 = placeholder2 = dateInputPlaceholder;\n      }\n    }\n    const showOkButton = showOk === true || showOk !== false && !!timePicker;\n    const cls = classnames({\n      [`${prefixCls}-footer`]: true,\n      [`${prefixCls}-range-bottom`]: true,\n      [`${prefixCls}-footer-show-ok`]: showOkButton,\n    });\n\n    const startValue = this.getStartValue();\n    const endValue = this.getEndValue();\n    const todayTime = getTodayTime(startValue);\n    const thisMonth = todayTime.month();\n    const thisYear = todayTime.year();\n    const isTodayInView =\n            startValue.year() === thisYear && startValue.month() === thisMonth ||\n            endValue.year() === thisYear && endValue.month() === thisMonth;\n    const nextMonthOfStart = startValue.clone().add(1, 'months');\n    const isClosestMonths = nextMonthOfStart.year() === endValue.year() &&\n            nextMonthOfStart.month() === endValue.month();\n    return (\n      <div\n        ref={this.saveRoot}\n        className={classes}\n        style={props.style}\n        tabIndex=\"0\"\n      >\n        {props.renderSidebar()}\n        <div className={`${prefixCls}-panel`}>\n          {showClear && selectedValue[0] && selectedValue[1] ?\n            <a\n              className={`${prefixCls}-clear-btn`}\n              role=\"button\"\n              title={locale.clear}\n              onClick={this.clear}\n            /> : null}\n          <div\n            className={`${prefixCls}-date-panel`}\n            onMouseLeave={type !== 'both' ? this.onDatePanelLeave : undefined}\n            onMouseEnter={type !== 'both' ? this.onDatePanelEnter : undefined}\n          >\n            <CalendarPart\n              {...props}\n              {...newProps}\n              hoverValue={hoverValue}\n              direction=\"left\"\n              disabledTime={this.disabledStartTime}\n              disabledMonth={this.disabledStartMonth}\n              format={this.getFormat()}\n              value={startValue}\n              mode={mode[0]}\n              placeholder={placeholder1}\n              onInputSelect={this.onStartInputSelect}\n              onValueChange={this.onStartValueChange}\n              onPanelChange={this.onStartPanelChange}\n              showDateInput={this.props.showDateInput}\n              timePicker={timePicker}\n              showTimePicker={showTimePicker}\n              enablePrev\n              enableNext={!isClosestMonths || this.isMonthYearPanelShow(mode[1])}\n            />\n            <span className={`${prefixCls}-range-middle`}>~</span>\n            <CalendarPart\n              {...props}\n              {...newProps}\n              hoverValue={hoverValue}\n              direction=\"right\"\n              format={this.getFormat()}\n              timePickerDisabledTime={this.getEndDisableTime()}\n              placeholder={placeholder2}\n              value={endValue}\n              mode={mode[1]}\n              onInputSelect={this.onEndInputSelect}\n              onValueChange={this.onEndValueChange}\n              onPanelChange={this.onEndPanelChange}\n              showDateInput={this.props.showDateInput}\n              timePicker={timePicker}\n              showTimePicker={showTimePicker}\n              disabledTime={this.disabledEndTime}\n              disabledMonth={this.disabledEndMonth}\n              enablePrev={!isClosestMonths || this.isMonthYearPanelShow(mode[0])}\n              enableNext\n            />\n          </div>\n          <div className={cls}>\n            {props.renderFooter()}\n            {showToday || props.timePicker || showOkButton ? (\n              <div className={`${prefixCls}-footer-btn`}>\n                {showToday ? (\n                  <TodayButton\n                    {...props}\n                    disabled={isTodayInView}\n                    value={state.value[0]}\n                    onToday={this.onToday}\n                    text={locale.backToToday}\n                  />\n                ) : null}\n                {props.timePicker ?\n                  <TimePickerButton\n                    {...props}\n                    showTimePicker={showTimePicker}\n                    onOpenTimePicker={this.onOpenTimePicker}\n                    onCloseTimePicker={this.onCloseTimePicker}\n                    timePickerDisabled={!this.hasSelectedValue() || hoverValue.length}\n                  /> : null}\n                {showOkButton ?\n                  <OkButton\n                    {...props}\n                    onOk={this.onOk}\n                    okDisabled={!this.isAllowedDateAndTime(selectedValue) ||\n                      !this.hasSelectedValue() || hoverValue.length\n                    }\n                  /> : null}\n              </div>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    );\n  },\n});\n\nexport default RangeCalendar;\n"]}