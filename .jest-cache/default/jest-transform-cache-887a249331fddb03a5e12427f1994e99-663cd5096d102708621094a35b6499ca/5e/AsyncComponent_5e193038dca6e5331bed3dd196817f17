99834532d8d1dda01e950d381f865164
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _react = _interopRequireWildcard(require("react"));

var _spin = _interopRequireDefault(require("../spin"));

var _exception = _interopRequireDefault(require("./exception"));

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var asyncComponent = function asyncComponent(importComponent) {
  var AsyncComponent =
  /*#__PURE__*/
  function (_Component) {
    (0, _inherits2["default"])(AsyncComponent, _Component);

    var _super = _createSuper(AsyncComponent);

    function AsyncComponent() {
      var _this;

      (0, _classCallCheck2["default"])(this, AsyncComponent);
      _this = _super.apply(this, arguments);
      _this.state = {};
      return _this;
    }

    (0, _createClass2["default"])(AsyncComponent, [{
      key: "componentDidMount",
      value: function componentDidMount() {
        var _this2 = this;

        importComponent().then(function (_ref) {
          var component = _ref["default"];

          _this2.setState({
            component: component
          });
        }, _exception["default"]);
      }
    }, {
      key: "render",
      value: function render() {
        var Cmp = this.state.component;
        return Cmp ? _react["default"].createElement(Cmp, (0, _extends2["default"])({}, this.props)) : _react["default"].createElement(_spin["default"], null);
      }
    }]);
    return AsyncComponent;
  }(_react.Component);

  return AsyncComponent;
};

var _default = asyncComponent;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9odWlodWF3ay9Eb2N1bWVudHMvb3B0L2Nob2Vyb2Rvbi11aS9jb21wb25lbnRzLXByby9fdXRpbC9Bc3luY0NvbXBvbmVudC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBLElBQU0sY0FBYyxHQUFHLFNBQWpCLGNBQWlCLENBQUMsZUFBRCxFQUFrRDtBQUFBLE1BQ2pFLGNBRGlFO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUN2RSw4QkFBQTtBQUFBOztBQUFBOztBQUNFLFlBQUEsS0FBQSxHQUE2QixFQUE3QjtBQURGO0FBaUJDOztBQWxCc0U7QUFBQTtBQUFBLDBDQUlwRDtBQUFBOztBQUNmLFFBQUEsZUFBZSxHQUFHLElBQWxCLENBQXVCLGdCQUEyQjtBQUFBLGNBQWYsU0FBZTs7QUFDaEQsVUFBQSxNQUFJLENBQUMsUUFBTCxDQUFjO0FBQUUsWUFBQSxTQUFTLEVBQVQ7QUFBRixXQUFkO0FBQ0QsU0FGRCxFQUVHLHFCQUZIO0FBR0Q7QUFSb0U7QUFBQTtBQUFBLCtCQVUvRDtBQUFBLFlBQ2UsR0FEZixHQUN1QixLQUFLLEtBRDVCLENBQ0ksU0FESjtBQUdKLGVBQU8sR0FBRyxHQUNOLGtCQUFBLGFBQUEsQ0FBQyxHQUFELEVBQUksMEJBQUEsRUFBQSxFQUFLLEtBQUssS0FBVixDQUFKLENBRE0sR0FFTixrQkFBQSxhQUFBLENBQUMsZ0JBQUQsRUFBSyxJQUFMLENBRko7QUFHRDtBQWhCb0U7QUFBQTtBQUFBLElBQzFDLGdCQUQwQzs7QUFvQnZFLFNBQU8sY0FBUDtBQUNELENBckJEOztlQXVCZSxjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgQ29tcG9uZW50VHlwZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTcGluIGZyb20gJy4uL3NwaW4nO1xuaW1wb3J0IGV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5cbmludGVyZmFjZSBBc3luY0NvbXBvbmVudFN0YXRlIHtcbiAgY29tcG9uZW50PzogQ29tcG9uZW50VHlwZTtcbn1cblxuZXhwb3J0IHR5cGUgQXN5bmNDbXBMb2FkaW5nRnVuY3Rpb24gPSAoKSA9PiBQcm9taXNlPHsgZGVmYXVsdDogQ29tcG9uZW50VHlwZSB9PjtcblxuY29uc3QgYXN5bmNDb21wb25lbnQgPSAoaW1wb3J0Q29tcG9uZW50OiBBc3luY0NtcExvYWRpbmdGdW5jdGlvbik6IGFueSA9PiB7XG4gIGNsYXNzIEFzeW5jQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50PGFueT4ge1xuICAgIHN0YXRlOiBBc3luY0NvbXBvbmVudFN0YXRlID0ge307XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGltcG9ydENvbXBvbmVudCgpLnRoZW4oKHsgZGVmYXVsdDogY29tcG9uZW50IH0pID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbXBvbmVudCB9KTtcbiAgICAgIH0sIGV4Y2VwdGlvbik7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgY29uc3QgeyBjb21wb25lbnQ6IENtcCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgcmV0dXJuIENtcFxuICAgICAgICA/IDxDbXAgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgIDogPFNwaW4gLz47XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gQXN5bmNDb21wb25lbnQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luY0NvbXBvbmVudDtcbiJdfQ==