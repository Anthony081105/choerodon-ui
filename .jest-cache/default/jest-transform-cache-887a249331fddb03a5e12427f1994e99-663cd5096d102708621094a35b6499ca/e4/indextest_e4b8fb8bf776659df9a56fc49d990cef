ea434e5f3319d22d962db2e9cb98e496
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _mobxReact = require("mobx-react");

var _propTypes = _interopRequireDefault(require("prop-types"));

var _ = _interopRequireDefault(require(".."));

var _class;

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

var TestFiledForm = (0, _mobxReact.observer)(_class =
/*#__PURE__*/
function (_ObserverFormField) {
  (0, _inherits2["default"])(TestFiledForm, _ObserverFormField);

  var _super = _createSuper(TestFiledForm);

  function TestFiledForm() {
    (0, _classCallCheck2["default"])(this, TestFiledForm);
    return _super.apply(this, arguments);
  }

  (0, _createClass2["default"])(TestFiledForm, [{
    key: "renderWrapper",
    value: function renderWrapper() {
      return _react["default"].createElement("div", null, _react["default"].createElement("input", null));
    }
  }]);
  return TestFiledForm;
}(_["default"])) || _class;

describe('Select', function () {
  beforeEach(function () {
    jest.useFakeTimers();
  });
  afterEach(function () {
    jest.useRealTimers();
  });
  it('observer component reder right', function () {
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(TestFiledForm, null));
    jest.runAllTimers();
    expect(wrapper.exists('input')).toMatchSnapshot();
  });
  it('onclick should tobe call', function () {
    var _class2, _class3, _temp;

    var mockFn = jest.fn();

    var TestFiledForm1 = (0, _mobxReact.observer)(_class2 = (_temp = _class3 =
    /*#__PURE__*/
    function (_ObserverFormField2) {
      (0, _inherits2["default"])(TestFiledForm1, _ObserverFormField2);

      var _super2 = _createSuper(TestFiledForm1);

      function TestFiledForm1() {
        (0, _classCallCheck2["default"])(this, TestFiledForm1);
        return _super2.apply(this, arguments);
      }

      (0, _createClass2["default"])(TestFiledForm1, [{
        key: "renderWrapper",
        value: function renderWrapper() {
          return _react["default"].createElement("div", {
            onClick: this.props.onClick
          }, _react["default"].createElement("input", null));
        }
      }]);
      return TestFiledForm1;
    }(_["default"]), (0, _defineProperty2["default"])(_class3, "propTypes", {
      onClick: _propTypes["default"].func
    }), _temp)) || _class2;

    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(TestFiledForm1, {
      onClick: mockFn
    }));
    wrapper.simulate('click');
    jest.runAllTimers();
    expect(mockFn).toHaveBeenCalled();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsiVGVzdEZpbGVkRm9ybSIsIm9ic2VydmVyIiwiT2JzZXJ2ZXJGb3JtRmllbGQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJqZXN0IiwidXNlRmFrZVRpbWVycyIsImFmdGVyRWFjaCIsInVzZVJlYWxUaW1lcnMiLCJpdCIsIndyYXBwZXIiLCJydW5BbGxUaW1lcnMiLCJleHBlY3QiLCJleGlzdHMiLCJ0b01hdGNoU25hcHNob3QiLCJtb2NrRm4iLCJmbiIsIlRlc3RGaWxlZEZvcm0xIiwicHJvcHMiLCJvbkNsaWNrIiwiUHJvcFR5cGVzIiwiZnVuYyIsInNpbXVsYXRlIiwidG9IYXZlQmVlbkNhbGxlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFHTUEsYSxPQURMQyxtQjs7Ozs7Ozs7Ozs7Ozs7b0NBRWlCO0FBQ2QsYUFDRSw2Q0FDRSw4Q0FERixDQURGO0FBS0Q7OztFQVB5QkMsWTs7QUFVNUJDLFFBQVEsQ0FBQyxRQUFELEVBQVcsWUFBTTtBQUN2QkMsRUFBQUEsVUFBVSxDQUFDLFlBQU07QUFDZkMsSUFBQUEsSUFBSSxDQUFDQyxhQUFMO0FBQ0QsR0FGUyxDQUFWO0FBSUFDLEVBQUFBLFNBQVMsQ0FBQyxZQUFNO0FBQ2RGLElBQUFBLElBQUksQ0FBQ0csYUFBTDtBQUNELEdBRlEsQ0FBVDtBQUlBQyxFQUFBQSxFQUFFLENBQUMsZ0NBQUQsRUFBbUMsWUFBTTtBQUN6QyxRQUFNQyxPQUFPLEdBQUcsbUJBQU0sZ0NBQUMsYUFBRCxPQUFOLENBQWhCO0FBQ0FMLElBQUFBLElBQUksQ0FBQ00sWUFBTDtBQUNBQyxJQUFBQSxNQUFNLENBQUNGLE9BQU8sQ0FBQ0csTUFBUixDQUFlLE9BQWYsQ0FBRCxDQUFOLENBQWdDQyxlQUFoQztBQUNELEdBSkMsQ0FBRjtBQUtBTCxFQUFBQSxFQUFFLENBQUMsMEJBQUQsRUFBNkIsWUFBTTtBQUFBOztBQUNuQyxRQUFNTSxNQUFNLEdBQUdWLElBQUksQ0FBQ1csRUFBTCxFQUFmOztBQURtQyxRQUc3QkMsY0FINkIsT0FFbENoQixtQkFGa0M7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBLHdDQVFqQjtBQUNkLGlCQUNFO0FBQUssWUFBQSxPQUFPLEVBQUUsS0FBS2lCLEtBQUwsQ0FBV0M7QUFBekIsYUFDRSw4Q0FERixDQURGO0FBS0Q7QUFkZ0M7QUFBQTtBQUFBLE1BR05qQixZQUhNLDBEQUlkO0FBQ2pCaUIsTUFBQUEsT0FBTyxFQUFFQyxzQkFBVUM7QUFERixLQUpjOztBQWdCbkMsUUFBTVgsT0FBTyxHQUFHLG1CQUFNLGdDQUFDLGNBQUQ7QUFBZ0IsTUFBQSxPQUFPLEVBQUVLO0FBQXpCLE1BQU4sQ0FBaEI7QUFDQUwsSUFBQUEsT0FBTyxDQUFDWSxRQUFSLENBQWlCLE9BQWpCO0FBQ0FqQixJQUFBQSxJQUFJLENBQUNNLFlBQUw7QUFDQUMsSUFBQUEsTUFBTSxDQUFDRyxNQUFELENBQU4sQ0FBZVEsZ0JBQWY7QUFDRCxHQXBCQyxDQUFGO0FBcUJELENBbkNPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbW91bnQgfSBmcm9tICdlbnp5bWUnO1xuaW1wb3J0IHsgb2JzZXJ2ZXIgfSBmcm9tICdtb2J4LXJlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgT2JzZXJ2ZXJGb3JtRmllbGQgZnJvbSAnLi4nO1xuXG5Ab2JzZXJ2ZXJcbmNsYXNzIFRlc3RGaWxlZEZvcm0gZXh0ZW5kcyBPYnNlcnZlckZvcm1GaWVsZCB7XG4gIHJlbmRlcldyYXBwZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxpbnB1dCAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5kZXNjcmliZSgnU2VsZWN0JywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ29ic2VydmVyIGNvbXBvbmVudCByZWRlciByaWdodCcsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPFRlc3RGaWxlZEZvcm0gLz4pO1xuICAgIGplc3QucnVuQWxsVGltZXJzKCk7XG4gICAgZXhwZWN0KHdyYXBwZXIuZXhpc3RzKCdpbnB1dCcpKS50b01hdGNoU25hcHNob3QoKTtcbiAgfSk7XG4gIGl0KCdvbmNsaWNrIHNob3VsZCB0b2JlIGNhbGwnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja0ZuID0gamVzdC5mbigpO1xuICAgIEBvYnNlcnZlclxuICAgIGNsYXNzIFRlc3RGaWxlZEZvcm0xIGV4dGVuZHMgT2JzZXJ2ZXJGb3JtRmllbGQge1xuICAgICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICB9O1xuXG4gICAgICByZW5kZXJXcmFwcGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIDxpbnB1dCAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPFRlc3RGaWxlZEZvcm0xIG9uQ2xpY2s9e21vY2tGbn0gLz4pO1xuICAgIHdyYXBwZXIuc2ltdWxhdGUoJ2NsaWNrJyk7XG4gICAgamVzdC5ydW5BbGxUaW1lcnMoKTtcbiAgICBleHBlY3QobW9ja0ZuKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xufSk7XG4iXX0=