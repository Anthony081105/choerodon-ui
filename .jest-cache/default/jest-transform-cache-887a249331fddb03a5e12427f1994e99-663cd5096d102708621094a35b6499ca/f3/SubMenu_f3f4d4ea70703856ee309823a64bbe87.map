{"version":3,"sources":["SubMenu.jsx"],"names":["guid","popupPlacementMap","horizontal","vertical","updateDefaultActiveFirst","store","eventKey","defaultActiveFirst","menuId","state","getState","setState","SubMenu","props","key","onDestroy","e","keyCode","menu","menuInstance","isOpen","KeyCode","ENTER","onTitleClick","RIGHT","onKeyDown","triggerOpenChange","LEFT","handled","undefined","UP","DOWN","onOpenChange","visible","onMouseEnter","domEvent","parentMenu","onMouseLeave","subMenuInstance","onItemHover","onTitleMouseEnter","hover","onTitleMouseLeave","triggerSubMenuAction","info","onClick","addKeyPath","onSelect","onDeselect","rootPrefixCls","getPrefixCls","c","keyPath","concat","open","type","openChange","item","trigger","mouseenterTimeout","setTimeout","ret","find","children","selectedKeys","openKeys","indexOf","subMenuTitle","popupMenu","offsetWidth","style","minWidth","isRootMenu","value","componentDidUpdate","mode","manualRef","minWidthTimeout","adjustWidth","clearTimeout","baseProps","hidden","level","inlineIndent","focusable","onSubMenuClick","openTransitionName","openAnimation","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","multiple","prefixCls","id","_menuId","saveMenuInstance","itemIcon","expandIcon","haveRendered","haveOpened","transitionAppear","className","animProps","transitionName","animation","appear","isInlineMode","getOpenClassName","getActiveClassName","active","getDisabledClassName","disabled","getSelectedClassName","isChildrenSelected","mouseEvents","titleClickEvents","titleMouseEvents","paddingLeft","ariaOwns","icon","title","saveSubMenuTitle","renderChildren","getPopupContainer","triggerNode","parentNode","popupPlacement","popupAlign","popupOffset","offset","popupClassName","menuAllProps","forEach","placements","onPopupVisibleChange","Component","PropTypes","object","node","any","array","func","string","bool","oneOf","oneOfType","noop","connected","activeKey","subMenuKey","isSubMenu"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAIA,IAAI,GAAG,CAAX;AAEA,IAAMC,iBAAiB,GAAG;AACxBC,EAAAA,UAAU,EAAE,YADY;AAExBC,EAAAA,QAAQ,EAAE,UAFc;AAGxB,mBAAiB,UAHO;AAIxB,oBAAkB;AAJM,CAA1B;;AAOA,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,CAACC,KAAD,EAAQC,QAAR,EAAkBC,kBAAlB,EAAyC;AACxE,MAAMC,MAAM,GAAG,wCAA6BF,QAA7B,CAAf;AACA,MAAMG,KAAK,GAAGJ,KAAK,CAACK,QAAN,EAAd;AACAL,EAAAA,KAAK,CAACM,QAAN,CAAe;AACbJ,IAAAA,kBAAkB,qCACbE,KAAK,CAACF,kBADO,uCAEfC,MAFe,EAEND,kBAFM;AADL,GAAf;AAMD,CATD;;IAWaK,O;;;;;;;AA2CX,mBAAYC,MAAZ,EAAmB;AAAA;;AAAA;AACjB,8BAAMA,MAAN;AADiB,kGAqDP,UAACC,GAAD,EAAS;AACnB,YAAKD,KAAL,CAAWE,SAAX,CAAqBD,GAArB;AACD,KAvDkB;AAAA,kGAyDP,UAACE,CAAD,EAAO;AACjB,UAAMC,OAAO,GAAGD,CAAC,CAACC,OAAlB;AACA,UAAMC,IAAI,GAAG,MAAKC,YAAlB;AAFiB,wBAMb,MAAKN,KANQ;AAAA,UAIfO,MAJe,eAIfA,MAJe;AAAA,UAKff,KALe,eAKfA,KALe;;AAQjB,UAAIY,OAAO,KAAKI,oBAAQC,KAAxB,EAA+B;AAC7B,cAAKC,YAAL,CAAkBP,CAAlB;;AACAZ,QAAAA,wBAAwB,CAACC,KAAD,EAAQ,MAAKQ,KAAL,CAAWP,QAAnB,EAA6B,IAA7B,CAAxB;AACA,eAAO,IAAP;AACD;;AAED,UAAIW,OAAO,KAAKI,oBAAQG,KAAxB,EAA+B;AAC7B,YAAIJ,MAAJ,EAAY;AACVF,UAAAA,IAAI,CAACO,SAAL,CAAeT,CAAf;AACD,SAFD,MAEO;AACL,gBAAKU,iBAAL,CAAuB,IAAvB,EADK,CAEL;;;AACAtB,UAAAA,wBAAwB,CAACC,KAAD,EAAQ,MAAKQ,KAAL,CAAWP,QAAnB,EAA6B,IAA7B,CAAxB;AACD;;AACD,eAAO,IAAP;AACD;;AACD,UAAIW,OAAO,KAAKI,oBAAQM,IAAxB,EAA8B;AAC5B,YAAIC,OAAJ;;AACA,YAAIR,MAAJ,EAAY;AACVQ,UAAAA,OAAO,GAAGV,IAAI,CAACO,SAAL,CAAeT,CAAf,CAAV;AACD,SAFD,MAEO;AACL,iBAAOa,SAAP;AACD;;AACD,YAAI,CAACD,OAAL,EAAc;AACZ,gBAAKF,iBAAL,CAAuB,KAAvB;;AACAE,UAAAA,OAAO,GAAG,IAAV;AACD;;AACD,eAAOA,OAAP;AACD;;AAED,UAAIR,MAAM,KAAKH,OAAO,KAAKI,oBAAQS,EAApB,IAA0Bb,OAAO,KAAKI,oBAAQU,IAAnD,CAAV,EAAoE;AAClE,eAAOb,IAAI,CAACO,SAAL,CAAeT,CAAf,CAAP;AACD;AACF,KAlGkB;AAAA,qGAoGJ,UAACA,CAAD,EAAO;AACpB,YAAKH,KAAL,CAAWmB,YAAX,CAAwBhB,CAAxB;AACD,KAtGkB;AAAA,6GAwGI,UAACiB,OAAD,EAAa;AAClC,YAAKP,iBAAL,CAAuBO,OAAvB,EAAgCA,OAAO,GAAG,YAAH,GAAkB,YAAzD;AACD,KA1GkB;AAAA,qGA4GJ,UAACjB,CAAD,EAAO;AAAA,yBAC2B,MAAKH,KADhC;AAAA,UACFC,GADE,gBACZR,QADY;AAAA,UACG4B,YADH,gBACGA,YADH;AAAA,UACiB7B,KADjB,gBACiBA,KADjB;AAEpBD,MAAAA,wBAAwB,CAACC,KAAD,EAAQ,MAAKQ,KAAL,CAAWP,QAAnB,EAA6B,KAA7B,CAAxB;AACA4B,MAAAA,YAAY,CAAC;AACXpB,QAAAA,GAAG,EAAHA,GADW;AAEXqB,QAAAA,QAAQ,EAAEnB;AAFC,OAAD,CAAZ;AAID,KAnHkB;AAAA,qGAqHJ,UAACA,CAAD,EAAO;AAAA,yBAKhB,MAAKH,KALW;AAAA,UAElBuB,UAFkB,gBAElBA,UAFkB;AAAA,UAGlB9B,QAHkB,gBAGlBA,QAHkB;AAAA,UAIlB+B,YAJkB,gBAIlBA,YAJkB;AAMpBD,MAAAA,UAAU,CAACE,eAAX;AACAD,MAAAA,YAAY,CAAC;AACXvB,QAAAA,GAAG,EAAER,QADM;AAEX6B,QAAAA,QAAQ,EAAEnB;AAFC,OAAD,CAAZ;AAID,KAhIkB;AAAA,0GAkIC,UAACmB,QAAD,EAAc;AAAA,yBAC0B,MAAKtB,KAD/B;AAAA,UACdC,GADc,gBACxBR,QADwB;AAAA,UACTiC,WADS,gBACTA,WADS;AAAA,UACIC,iBADJ,gBACIA,iBADJ;AAEhCD,MAAAA,WAAW,CAAC;AACVzB,QAAAA,GAAG,EAAHA,GADU;AAEV2B,QAAAA,KAAK,EAAE;AAFG,OAAD,CAAX;AAIAD,MAAAA,iBAAiB,CAAC;AAChB1B,QAAAA,GAAG,EAAHA,GADgB;AAEhBqB,QAAAA,QAAQ,EAARA;AAFgB,OAAD,CAAjB;AAID,KA5IkB;AAAA,0GA8IC,UAACnB,CAAD,EAAO;AAAA,yBACwC,MAAKH,KAD7C;AAAA,UACjBuB,UADiB,gBACjBA,UADiB;AAAA,UACL9B,QADK,gBACLA,QADK;AAAA,UACKiC,WADL,gBACKA,WADL;AAAA,UACkBG,iBADlB,gBACkBA,iBADlB;AAEzBN,MAAAA,UAAU,CAACE,eAAX;AACAC,MAAAA,WAAW,CAAC;AACVzB,QAAAA,GAAG,EAAER,QADK;AAEVmC,QAAAA,KAAK,EAAE;AAFG,OAAD,CAAX;AAIAC,MAAAA,iBAAiB,CAAC;AAChB5B,QAAAA,GAAG,EAAER,QADW;AAEhB6B,QAAAA,QAAQ,EAAEnB;AAFM,OAAD,CAAjB;AAID,KAzJkB;AAAA,qGA2JJ,UAACA,CAAD,EAAO;AAAA;AAAA,UACZH,KADY,yBACZA,KADY;;AAEpBA,MAAAA,KAAK,CAACU,YAAN,CAAmB;AACjBT,QAAAA,GAAG,EAAED,KAAK,CAACP,QADM;AAEjB6B,QAAAA,QAAQ,EAAEnB;AAFO,OAAnB;;AAIA,UAAIH,KAAK,CAAC8B,oBAAN,KAA+B,OAAnC,EAA4C;AAC1C;AACD;;AACD,YAAKjB,iBAAL,CAAuB,CAACb,KAAK,CAACO,MAA9B,EAAsC,OAAtC;;AACAhB,MAAAA,wBAAwB,CAACS,KAAK,CAACR,KAAP,EAAc,MAAKQ,KAAL,CAAWP,QAAzB,EAAmC,KAAnC,CAAxB;AACD,KAtKkB;AAAA,uGAwKF,UAACsC,IAAD,EAAU;AACzB;AACA;AACA,UAAI,OAAO,MAAK/B,KAAL,CAAWgC,OAAlB,KAA8B,UAAlC,EAA8C;AAC5C,cAAKhC,KAAL,CAAWgC,OAAX,CAAmB,MAAKC,UAAL,CAAgBF,IAAhB,CAAnB;AACD;AACF,KA9KkB;AAAA,iGAgLR,UAACA,IAAD,EAAU;AACnB,YAAK/B,KAAL,CAAWkC,QAAX,CAAoBH,IAApB;AACD,KAlLkB;AAAA,mGAoLN,UAACA,IAAD,EAAU;AACrB,YAAK/B,KAAL,CAAWmC,UAAX,CAAsBJ,IAAtB;AACD,KAtLkB;AAAA,qGAwLJ,YAAM;AACnB,uBAAU,MAAK/B,KAAL,CAAWoC,aAArB;AACD,KA1LkB;AAAA,2GA4LE,YAAM;AACzB,uBAAU,MAAKC,YAAL,EAAV;AACD,KA9LkB;AAAA,6GAgMI,YAAM;AAC3B,uBAAU,MAAKA,YAAL,EAAV;AACD,KAlMkB;AAAA,6GAoMI,YAAM;AAC3B,uBAAU,MAAKA,YAAL,EAAV;AACD,KAtMkB;AAAA,yGAwMA,YAAM;AACvB,uBAAU,MAAKrC,KAAL,CAAWoC,aAArB;AACD,KA1MkB;AAAA,yGA4MA,UAACE,CAAD,EAAO;AACxB;AACA,YAAKhC,YAAL,GAAoBgC,CAApB;AACD,KA/MkB;AAAA,mGAiNN,UAACP,IAAD,EAAU;AACrB,gDACKA,IADL;AAEEQ,QAAAA,OAAO,EAAE,CAACR,IAAI,CAACQ,OAAL,IAAgB,EAAjB,EAAqBC,MAArB,CAA4B,MAAKxC,KAAL,CAAWP,QAAvC;AAFX;AAID,KAtNkB;AAAA,0GAwNC,UAACgD,IAAD,EAAOC,IAAP,EAAgB;AAClC,UAAMzC,GAAG,GAAG,MAAKD,KAAL,CAAWP,QAAvB;;AACA,UAAMkD,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,cAAKxB,YAAL,CAAkB;AAChBlB,UAAAA,GAAG,EAAHA,GADgB;AAEhB2C,UAAAA,IAAI,gDAFY;AAGhBC,UAAAA,OAAO,EAAEH,IAHO;AAIhBD,UAAAA,IAAI,EAAJA;AAJgB,SAAlB;AAMD,OAPD;;AAQA,UAAIC,IAAI,KAAK,YAAb,EAA2B;AACzB;AACA,cAAKI,iBAAL,GAAyBC,UAAU,CAAC,YAAM;AACxCJ,UAAAA,UAAU;AACX,SAFkC,EAEhC,CAFgC,CAAnC;AAGD,OALD,MAKO;AACLA,QAAAA,UAAU;AACX;AACF,KA1OkB;AAAA,2GA4OE,YAAM;AACzB,UAAMK,GAAG,GAAG;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACA,yCAAwB,MAAKjD,KAAL,CAAWkD,QAAnC,EAA6C,MAAKlD,KAAL,CAAWmD,YAAxD,EAAsEH,GAAtE;AACA,aAAOA,GAAG,CAACC,IAAX;AACD,KAhPkB;AAAA,+FAkPV,YAAM;AACb,aAAO,MAAKjD,KAAL,CAAWoD,QAAX,CAAoBC,OAApB,CAA4B,MAAKrD,KAAL,CAAWP,QAAvC,MAAqD,CAAC,CAA7D;AACD,KApPkB;AAAA,oGAsPL,YAAM;AAClB;AACA,UAAI,CAAC,MAAK6D,YAAN,IAAsB,CAAC,MAAKhD,YAAhC,EAA8C;AAC5C;AACD;;AACD,UAAMiD,SAAS,GAAG,2BAAY,MAAKjD,YAAjB,CAAlB;;AACA,UAAIiD,SAAS,CAACC,WAAV,IAAyB,MAAKF,YAAL,CAAkBE,WAA/C,EAA4D;AAC1D;AACD;AAED;;;AACAD,MAAAA,SAAS,CAACE,KAAV,CAAgBC,QAAhB,aAA8B,MAAKJ,YAAL,CAAkBE,WAAhD;AACD,KAlQkB;AAAA,yGAoQA,UAACF,YAAD,EAAkB;AACnC,YAAKA,YAAL,GAAoBA,YAApB;AACD,KAtQkB;AAEjB,QAAM9D,MAAK,GAAGQ,MAAK,CAACR,KAApB;AACA,QAAMC,SAAQ,GAAGO,MAAK,CAACP,QAAvB;;AACA,QAAMC,kBAAkB,GAAGF,MAAK,CAACK,QAAN,GAAiBH,kBAA5C;;AAEA,UAAKiE,UAAL,GAAkB,KAAlB;AAEA,QAAIC,KAAK,GAAG,KAAZ;;AAEA,QAAIlE,kBAAJ,EAAwB;AACtBkE,MAAAA,KAAK,GAAGlE,kBAAkB,CAACD,SAAD,CAA1B;AACD;;AAEDF,IAAAA,wBAAwB,CAACC,MAAD,EAAQC,SAAR,EAAkBmE,KAAlB,CAAxB;AAdiB;AAelB;;;;wCAEmB;AAClB,WAAKC,kBAAL;AACD;;;yCAEoB;AAAA;;AAAA,yBACqB,KAAK7D,KAD1B;AAAA,UACX8D,IADW,gBACXA,IADW;AAAA,UACLvC,UADK,gBACLA,UADK;AAAA,UACOwC,SADP,gBACOA,SADP,EAGnB;;AACA,UAAIA,SAAJ,EAAe;AACbA,QAAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AAED,UAAID,IAAI,KAAK,YAAT,IAAyB,CAACvC,UAAU,CAACoC,UAArC,IAAmD,CAAC,KAAK3D,KAAL,CAAWO,MAAnE,EAA2E;AACzE;AACD;;AAED,WAAKyD,eAAL,GAAuBjB,UAAU,CAAC;AAAA,eAAM,MAAI,CAACkB,WAAL,EAAN;AAAA,OAAD,EAA2B,CAA3B,CAAjC;AACD;;;2CAEsB;AAAA,yBACW,KAAKjE,KADhB;AAAA,UACbE,SADa,gBACbA,SADa;AAAA,UACFT,QADE,gBACFA,QADE;;AAErB,UAAIS,SAAJ,EAAe;AACbA,QAAAA,SAAS,CAACT,QAAD,CAAT;AACD;AAED;;;AACA,UAAI,KAAKuE,eAAT,EAA0B;AACxBE,QAAAA,YAAY,CAAC,KAAKF,eAAN,CAAZ;AACD;AAED;;;AACA,UAAI,KAAKlB,iBAAT,EAA4B;AAC1BoB,QAAAA,YAAY,CAAC,KAAKpB,iBAAN,CAAZ;AACD;AACF;;;mCAqNcI,Q,EAAU;AACvB,UAAMlD,KAAK,GAAG,KAAKA,KAAnB;AACA,UAAMmE,SAAS,GAAG;AAChBL,QAAAA,IAAI,EAAE9D,KAAK,CAAC8D,IAAN,KAAe,YAAf,GAA8B,UAA9B,GAA2C9D,KAAK,CAAC8D,IADvC;AAEhBM,QAAAA,MAAM,EAAE,CAAC,KAAKpE,KAAL,CAAWO,MAFJ;AAGhB8D,QAAAA,KAAK,EAAErE,KAAK,CAACqE,KAAN,GAAc,CAHL;AAIhBC,QAAAA,YAAY,EAAEtE,KAAK,CAACsE,YAJJ;AAKhBC,QAAAA,SAAS,EAAE,KALK;AAMhBvC,QAAAA,OAAO,EAAE,KAAKwC,cANE;AAOhBtC,QAAAA,QAAQ,EAAE,KAAKA,QAPC;AAQhBC,QAAAA,UAAU,EAAE,KAAKA,UARD;AAShBjC,QAAAA,SAAS,EAAE,KAAKA,SATA;AAUhBiD,QAAAA,YAAY,EAAEnD,KAAK,CAACmD,YAVJ;AAWhB1D,QAAAA,QAAQ,YAAKO,KAAK,CAACP,QAAX,WAXQ;AAYhB2D,QAAAA,QAAQ,EAAEpD,KAAK,CAACoD,QAZA;AAahBqB,QAAAA,kBAAkB,EAAEzE,KAAK,CAACyE,kBAbV;AAchBC,QAAAA,aAAa,EAAE1E,KAAK,CAAC0E,aAdL;AAehBvD,QAAAA,YAAY,EAAE,KAAKA,YAfH;AAgBhBwD,QAAAA,gBAAgB,EAAE3E,KAAK,CAAC2E,gBAhBR;AAiBhBpD,QAAAA,UAAU,EAAE,IAjBI;AAkBhBqD,QAAAA,iBAAiB,EAAE5E,KAAK,CAAC4E,iBAlBT;AAmBhBC,QAAAA,kBAAkB,EAAE7E,KAAK,CAAC6E,kBAnBV;AAoBhB/C,QAAAA,oBAAoB,EAAE9B,KAAK,CAAC8B,oBApBZ;AAqBhBgD,QAAAA,iBAAiB,EAAE9E,KAAK,CAAC8E,iBArBT;AAsBhBpF,QAAAA,kBAAkB,EAAEM,KAAK,CAACR,KAAN,CAAYK,QAAZ,GACjBH,kBADiB,CACE,wCAA6BM,KAAK,CAACP,QAAnC,CADF,CAtBJ;AAwBhBsF,QAAAA,QAAQ,EAAE/E,KAAK,CAAC+E,QAxBA;AAyBhBC,QAAAA,SAAS,EAAEhF,KAAK,CAACoC,aAzBD;AA0BhB6C,QAAAA,EAAE,EAAE,KAAKC,OA1BO;AA2BhBnB,QAAAA,SAAS,EAAE,KAAKoB,gBA3BA;AA4BhBC,QAAAA,QAAQ,EAAEpF,KAAK,CAACoF,QA5BA;AA6BhBC,QAAAA,UAAU,EAAErF,KAAK,CAACqF;AA7BF,OAAlB;AAgCA,UAAMC,YAAY,GAAG,KAAKA,YAA1B;AACA,WAAKA,YAAL,GAAoB,IAApB;AAEA,WAAKC,UAAL,GAAkB,KAAKA,UAAL,IAAmB,CAACpB,SAAS,CAACC,MAA9B,IAAwCD,SAAS,CAACU,kBAApE,CArCuB,CAsCvB;;AACA,UAAI,CAAC,KAAKU,UAAV,EAAsB;AACpB,eAAO,4CAAP;AACD,OAzCsB,CA2CvB;AACA;AACA;;;AACA,UAAMC,gBAAgB,GAAGF,YAAY,IAAInB,SAAS,CAACC,MAA1B,IAAoC,CAACD,SAAS,CAACL,IAAX,KAAoB,QAAjF;AAEAK,MAAAA,SAAS,CAACsB,SAAV,cAA0BtB,SAAS,CAACa,SAApC;AACA,UAAMU,SAAS,GAAG,EAAlB;;AAEA,UAAIvB,SAAS,CAACM,kBAAd,EAAkC;AAChCiB,QAAAA,SAAS,CAACC,cAAV,GAA2BxB,SAAS,CAACM,kBAArC;AACD,OAFD,MAEO,IAAI,yBAAON,SAAS,CAACO,aAAjB,MAAmC,QAAvC,EAAiD;AACtDgB,QAAAA,SAAS,CAACE,SAAV,sCAA2BzB,SAAS,CAACO,aAArC;;AACA,YAAI,CAACc,gBAAL,EAAuB;AACrB,iBAAOE,SAAS,CAACE,SAAV,CAAoBC,MAA3B;AACD;AACF;;AAED,aACE,gCAAC,mBAAD,gCACMH,SADN;AAEE,QAAA,UAAU,EAAC,QAFb;AAGE,QAAA,SAAS,EAAC,EAHZ;AAIE,QAAA,gBAAgB,EAAEF;AAJpB,UAME,gCAAC,wBAAD,gCAAkBrB,SAAlB;AAA6B,QAAA,EAAE,EAAE,KAAKe;AAAtC,UAAgDhC,QAAhD,CANF,CADF;AAUD;;;6BAEQ;AAAA;;AACP,UAAMlD,KAAK,sCAAQ,KAAKA,KAAb,CAAX;AACA,UAAMO,MAAM,GAAGP,KAAK,CAACO,MAArB;AACA,UAAMyE,SAAS,GAAG,KAAK3C,YAAL,EAAlB;AACA,UAAMyD,YAAY,GAAG9F,KAAK,CAAC8D,IAAN,KAAe,QAApC;AACA,UAAM2B,SAAS,GAAG,4BAAWT,SAAX,YAAyBA,SAAzB,cAAsChF,KAAK,CAAC8D,IAA5C,oEACf9D,KAAK,CAACyF,SADS,EACG,CAAC,CAACzF,KAAK,CAACyF,SADX,iDAEf,KAAKM,gBAAL,EAFe,EAEWxF,MAFX,iDAGf,KAAKyF,kBAAL,EAHe,EAGahG,KAAK,CAACiG,MAAN,IAAiB1F,MAAM,IAAI,CAACuF,YAHzC,iDAIf,KAAKI,oBAAL,EAJe,EAIelG,KAAK,CAACmG,QAJrB,iDAKf,KAAKC,oBAAL,EALe,EAKe,KAAKC,kBAAL,EALf,gBAAlB;;AAQA,UAAI,CAAC,KAAKnB,OAAV,EAAmB;AACjB,YAAIlF,KAAK,CAACP,QAAV,EAAoB;AAClB,eAAKyF,OAAL,aAAkBlF,KAAK,CAACP,QAAxB;AACD,SAFD,MAEO;AACL,eAAKyF,OAAL,iBAAsB,EAAE/F,IAAxB;AACD;AACF;;AAED,UAAImH,WAAW,GAAG,EAAlB;AACA,UAAIC,gBAAgB,GAAG,EAAvB;AACA,UAAIC,gBAAgB,GAAG,EAAvB;;AACA,UAAI,CAACxG,KAAK,CAACmG,QAAX,EAAqB;AACnBG,QAAAA,WAAW,GAAG;AACZ9E,UAAAA,YAAY,EAAE,KAAKA,YADP;AAEZH,UAAAA,YAAY,EAAE,KAAKA;AAFP,SAAd,CADmB,CAMnB;;AACAkF,QAAAA,gBAAgB,GAAG;AACjBvE,UAAAA,OAAO,EAAE,KAAKtB;AADG,SAAnB;AAGA8F,QAAAA,gBAAgB,GAAG;AACjBnF,UAAAA,YAAY,EAAE,KAAKM,iBADF;AAEjBH,UAAAA,YAAY,EAAE,KAAKK;AAFF,SAAnB;AAID;;AAED,UAAM4B,KAAK,GAAG,EAAd;;AACA,UAAIqC,YAAJ,EAAkB;AAChBrC,QAAAA,KAAK,CAACgD,WAAN,GAAoBzG,KAAK,CAACsE,YAAN,GAAqBtE,KAAK,CAACqE,KAA/C;AACD;;AAED,UAAIqC,QAAQ,GAAG,EAAf,CA7CO,CA8CP;AACA;AACA;;AACA,UAAI,KAAK1G,KAAL,CAAWO,MAAf,EAAuB;AACrBmG,QAAAA,QAAQ,GAAG;AACT,uBAAa,KAAKxB;AADT,SAAX;AAGD,OArDM,CAuDP;;;AACA,UAAIyB,IAAI,GAAG,IAAX;;AACA,UAAI3G,KAAK,CAAC8D,IAAN,KAAe,YAAnB,EAAiC;AAC/B6C,QAAAA,IAAI,GAAG,KAAK3G,KAAL,CAAWqF,UAAlB,CAD+B,CACD;;AAC9B,YAAI,OAAO,KAAKrF,KAAL,CAAWqF,UAAlB,KAAiC,UAArC,EAAiD;AAC/CsB,UAAAA,IAAI,GAAG,0BACL,KAAK3G,KAAL,CAAWqF,UADN,qCAEA,KAAKrF,KAFL,EAAP;AAID;AACF;;AAED,UAAM4G,KAAK,GACT;AACE,QAAA,GAAG,EAAE,KAAKC,gBADZ;AAEE,QAAA,KAAK,EAAEpD,KAFT;AAGE,QAAA,SAAS,YAAKuB,SAAL;AAHX,SAIMwB,gBAJN,EAKMD,gBALN;AAME,yBAAehG;AANjB,SAOMmG,QAPN;AAQE,yBAAc,MARhB;AASE,QAAA,KAAK,EAAE,OAAO1G,KAAK,CAAC4G,KAAb,KAAuB,QAAvB,GAAkC5G,KAAK,CAAC4G,KAAxC,GAAgD5F;AATzD,UAWGhB,KAAK,CAAC4G,KAXT,EAYGD,IAAI,IAAI;AAAG,QAAA,SAAS,YAAK3B,SAAL;AAAZ,QAZX,CADF;;AAgBA,UAAM9B,QAAQ,GAAG,KAAK4D,cAAL,CAAoB9G,KAAK,CAACkD,QAA1B,CAAjB;AAEA,UAAM6D,iBAAiB,GAAG/G,KAAK,CAACuB,UAAN,CAAiBoC,UAAjB,GAA8B3D,KAAK,CAACuB,UAAN,CAAiBvB,KAAjB,CAAuB+G,iBAArD,GAAyE,UAAAC,WAAW;AAAA,eAAIA,WAAW,CAACC,UAAhB;AAAA,OAA9G;AACA,UAAMC,cAAc,GAAG9H,iBAAiB,CAACY,KAAK,CAAC8D,IAAP,CAAxC;AACA,UAAMqD,UAAU,GAAGnH,KAAK,CAACoH,WAAN,GAAoB;AAAEC,QAAAA,MAAM,EAAErH,KAAK,CAACoH;AAAhB,OAApB,GAAoD,EAAvE;AACA,UAAME,cAAc,GAAGtH,KAAK,CAAC8D,IAAN,KAAe,QAAf,GAA0B,EAA1B,GAA+B9D,KAAK,CAACsH,cAA5D;AAxFO,UA0FLnB,QA1FK,GAgGHnG,KAhGG,CA0FLmG,QA1FK;AAAA,UA2FLrE,oBA3FK,GAgGH9B,KAhGG,CA2FL8B,oBA3FK;AAAA,UA4FL6C,gBA5FK,GAgGH3E,KAhGG,CA4FL2E,gBA5FK;AAAA,UA6FLE,kBA7FK,GAgGH7E,KAhGG,CA6FL6E,kBA7FK;AAAA,UA8FLD,iBA9FK,GAgGH5E,KAhGG,CA8FL4E,iBA9FK;AAAA,UA+FLE,iBA/FK,GAgGH9E,KAhGG,CA+FL8E,iBA/FK;;AAiGPyC,yBAAaC,OAAb,CAAqB,UAAAvH,GAAG;AAAA,eAAI,OAAOD,KAAK,CAACC,GAAD,CAAhB;AAAA,OAAxB,EAjGO,CAkGP;;;AACA,aAAOD,KAAK,CAACgC,OAAb;AAEA,aACE,oEACMhC,KADN,EAEMsG,WAFN;AAGE,QAAA,SAAS,EAAEb,SAHb;AAIE,QAAA,IAAI,EAAC;AAJP,UAMGK,YAAY,IAAIc,KANnB,EAOGd,YAAY,IAAI5C,QAPnB,EAQG,CAAC4C,YAAD,IACC,gCAAC,mBAAD;AACE,QAAA,SAAS,EAAEd,SADb;AAEE,QAAA,cAAc,YAAKA,SAAL,oBAAwBsC,cAAxB,CAFhB;AAGE,QAAA,iBAAiB,EAAEP,iBAHrB;AAIE,QAAA,iBAAiB,EAAE,0BAAc,EAAd,EAAkBU,sBAAlB,EAA8B3C,iBAA9B,CAJrB;AAKE,QAAA,cAAc,EAAEoC,cALlB;AAME,QAAA,YAAY,EAAE3G,MANhB;AAOE,QAAA,UAAU,EAAE4G,UAPd;AAQE,QAAA,KAAK,EAAEjE,QART;AASE,QAAA,MAAM,EAAEiD,QAAQ,GAAG,EAAH,GAAQ,CAACrE,oBAAD,CAT1B;AAUE,QAAA,eAAe,EAAE6C,gBAVnB;AAWE,QAAA,eAAe,EAAEC,iBAXnB;AAYE,QAAA,oBAAoB,EAAE,KAAK8C,oBAZ7B;AAaE,QAAA,WAAW,EAAE7C;AAbf,SAeG+B,KAfH,CATJ,CADF;AA8BD;;;EA9f0Be,gB;;;iCAAhB5H,O,eACQ;AACjBwB,EAAAA,UAAU,EAAEqG,sBAAUC,MADL;AAEjBjB,EAAAA,KAAK,EAAEgB,sBAAUE,IAFA;AAGjB5E,EAAAA,QAAQ,EAAE0E,sBAAUG,GAHH;AAIjB5E,EAAAA,YAAY,EAAEyE,sBAAUI,KAJP;AAKjB5E,EAAAA,QAAQ,EAAEwE,sBAAUI,KALH;AAMjBhG,EAAAA,OAAO,EAAE4F,sBAAUK,IANF;AAOjB9G,EAAAA,YAAY,EAAEyG,sBAAUK,IAPP;AAQjB7F,EAAAA,aAAa,EAAEwF,sBAAUM,MARR;AASjBzI,EAAAA,QAAQ,EAAEmI,sBAAUM,MATH;AAUjBnD,EAAAA,QAAQ,EAAE6C,sBAAUO,IAVH;AAWjBlC,EAAAA,MAAM,EAAE2B,sBAAUO,IAXD;AAWO;AACxBzG,EAAAA,WAAW,EAAEkG,sBAAUK,IAZN;AAajB/F,EAAAA,QAAQ,EAAE0F,sBAAUK,IAbH;AAcjBnG,EAAAA,oBAAoB,EAAE8F,sBAAUM,MAdf;AAejB/F,EAAAA,UAAU,EAAEyF,sBAAUK,IAfL;AAgBjB/H,EAAAA,SAAS,EAAE0H,sBAAUK,IAhBJ;AAiBjB5G,EAAAA,YAAY,EAAEuG,sBAAUK,IAjBP;AAkBjBzG,EAAAA,YAAY,EAAEoG,sBAAUK,IAlBP;AAmBjBtG,EAAAA,iBAAiB,EAAEiG,sBAAUK,IAnBZ;AAoBjBpG,EAAAA,iBAAiB,EAAE+F,sBAAUK,IApBZ;AAqBjBvH,EAAAA,YAAY,EAAEkH,sBAAUK,IArBP;AAsBjBb,EAAAA,WAAW,EAAEQ,sBAAUI,KAtBN;AAuBjBzH,EAAAA,MAAM,EAAEqH,sBAAUO,IAvBD;AAwBjB3I,EAAAA,KAAK,EAAEoI,sBAAUC,MAxBA;AAyBjB/D,EAAAA,IAAI,EAAE8D,sBAAUQ,KAAV,CAAgB,CAAC,YAAD,EAAe,UAAf,EAA2B,eAA3B,EAA4C,gBAA5C,EAA8D,QAA9D,CAAhB,CAzBW;AA0BjBrE,EAAAA,SAAS,EAAE6D,sBAAUK,IA1BJ;AA2BjB7C,EAAAA,QAAQ,EAAEwC,sBAAUS,SAAV,CAAoB,CAACT,sBAAUK,IAAX,EAAiBL,sBAAUE,IAA3B,CAApB,CA3BO;AA4BjBzC,EAAAA,UAAU,EAAEuC,sBAAUS,SAAV,CAAoB,CAACT,sBAAUK,IAAX,EAAiBL,sBAAUE,IAA3B,CAApB;AA5BK,C;iCADR/H,O,kBAgCW;AACpBsB,EAAAA,YAAY,EAAEiH,gBADM;AAEpB9G,EAAAA,YAAY,EAAE8G,gBAFM;AAGpB3G,EAAAA,iBAAiB,EAAE2G,gBAHC;AAIpBzG,EAAAA,iBAAiB,EAAEyG,gBAJC;AAKpB5H,EAAAA,YAAY,EAAE4H,gBALM;AAMpBvE,EAAAA,SAAS,EAAEuE,gBANS;AAOpBxE,EAAAA,IAAI,EAAE,UAPc;AAQpB8C,EAAAA,KAAK,EAAE;AARa,C;AAiexB,IAAM2B,SAAS,GAAG,wBAAQ;AAAA,MAAGnF,QAAH,QAAGA,QAAH;AAAA,MAAaoF,SAAb,QAAaA,SAAb;AAAA,MAAwBrF,YAAxB,QAAwBA,YAAxB;AAAA,MAA0C1D,QAA1C,SAA0CA,QAA1C;AAAA,MAAoDgJ,UAApD,SAAoDA,UAApD;AAAA,SAAsE;AAC9FlI,IAAAA,MAAM,EAAE6C,QAAQ,CAACC,OAAT,CAAiB5D,QAAjB,IAA6B,CAAC,CADwD;AAE9FwG,IAAAA,MAAM,EAAEuC,SAAS,CAACC,UAAD,CAAT,KAA0BhJ,QAF4D;AAG9F0D,IAAAA,YAAY,EAAZA;AAH8F,GAAtE;AAAA,CAAR,EAIdpD,OAJc,CAAlB;AAMAwI,SAAS,CAACG,SAAV,GAAsB,IAAtB;eAEeH,S","sourcesContent":["import React, { Component, createElement } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport noop from 'lodash/noop';\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport Trigger from '../trigger';\nimport KeyCode from '../../_util/KeyCode';\nimport SubPopupMenu from './SubPopupMenu';\nimport placements from './placements';\nimport Animate from '../../animate';\nimport { getMenuIdFromSubMenuEventKey, loopMenuItemRecursively, menuAllProps, } from './util';\n\nlet guid = 0;\n\nconst popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop',\n};\n\nconst updateDefaultActiveFirst = (store, eventKey, defaultActiveFirst) => {\n  const menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  const state = store.getState();\n  store.setState({\n    defaultActiveFirst: {\n      ...state.defaultActiveFirst,\n      [menuId]: defaultActiveFirst,\n    },\n  });\n};\n\nexport class SubMenu extends Component {\n  static propTypes = {\n    parentMenu: PropTypes.object,\n    title: PropTypes.node,\n    children: PropTypes.any,\n    selectedKeys: PropTypes.array,\n    openKeys: PropTypes.array,\n    onClick: PropTypes.func,\n    onOpenChange: PropTypes.func,\n    rootPrefixCls: PropTypes.string,\n    eventKey: PropTypes.string,\n    multiple: PropTypes.bool,\n    active: PropTypes.bool, // TODO: remove\n    onItemHover: PropTypes.func,\n    onSelect: PropTypes.func,\n    triggerSubMenuAction: PropTypes.string,\n    onDeselect: PropTypes.func,\n    onDestroy: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onTitleMouseEnter: PropTypes.func,\n    onTitleMouseLeave: PropTypes.func,\n    onTitleClick: PropTypes.func,\n    popupOffset: PropTypes.array,\n    isOpen: PropTypes.bool,\n    store: PropTypes.object,\n    mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n    manualRef: PropTypes.func,\n    itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  };\n\n  static defaultProps = {\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n    onTitleMouseEnter: noop,\n    onTitleMouseLeave: noop,\n    onTitleClick: noop,\n    manualRef: noop,\n    mode: 'vertical',\n    title: '',\n  };\n\n  constructor(props) {\n    super(props);\n    const store = props.store;\n    const eventKey = props.eventKey;\n    const defaultActiveFirst = store.getState().defaultActiveFirst;\n\n    this.isRootMenu = false;\n\n    let value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n  }\n\n  componentDidMount() {\n    this.componentDidUpdate();\n  }\n\n  componentDidUpdate() {\n    const { mode, parentMenu, manualRef } = this.props;\n\n    // invoke customized ref to expose component to mixin\n    if (manualRef) {\n      manualRef(this);\n    }\n\n    if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.props.isOpen) {\n      return;\n    }\n\n    this.minWidthTimeout = setTimeout(() => this.adjustWidth(), 0);\n  }\n\n  componentWillUnmount() {\n    const { onDestroy, eventKey } = this.props;\n    if (onDestroy) {\n      onDestroy(eventKey);\n    }\n\n    /* istanbul ignore if */\n    if (this.minWidthTimeout) {\n      clearTimeout(this.minWidthTimeout);\n    }\n\n    /* istanbul ignore if */\n    if (this.mouseenterTimeout) {\n      clearTimeout(this.mouseenterTimeout);\n    }\n  }\n\n  onDestroy = (key) => {\n    this.props.onDestroy(key);\n  };\n\n  onKeyDown = (e) => {\n    const keyCode = e.keyCode;\n    const menu = this.menuInstance;\n    const {\n      isOpen,\n      store,\n    } = this.props;\n\n    if (keyCode === KeyCode.ENTER) {\n      this.onTitleClick(e);\n      updateDefaultActiveFirst(store, this.props.eventKey, true);\n      return true;\n    }\n\n    if (keyCode === KeyCode.RIGHT) {\n      if (isOpen) {\n        menu.onKeyDown(e);\n      } else {\n        this.triggerOpenChange(true);\n        // need to update current menu's defaultActiveFirst value\n        updateDefaultActiveFirst(store, this.props.eventKey, true);\n      }\n      return true;\n    }\n    if (keyCode === KeyCode.LEFT) {\n      let handled;\n      if (isOpen) {\n        handled = menu.onKeyDown(e);\n      } else {\n        return undefined;\n      }\n      if (!handled) {\n        this.triggerOpenChange(false);\n        handled = true;\n      }\n      return handled;\n    }\n\n    if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n      return menu.onKeyDown(e);\n    }\n  };\n\n  onOpenChange = (e) => {\n    this.props.onOpenChange(e);\n  };\n\n  onPopupVisibleChange = (visible) => {\n    this.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n  };\n\n  onMouseEnter = (e) => {\n    const { eventKey: key, onMouseEnter, store } = this.props;\n    updateDefaultActiveFirst(store, this.props.eventKey, false);\n    onMouseEnter({\n      key,\n      domEvent: e,\n    });\n  };\n\n  onMouseLeave = (e) => {\n    const {\n      parentMenu,\n      eventKey,\n      onMouseLeave,\n    } = this.props;\n    parentMenu.subMenuInstance = this;\n    onMouseLeave({\n      key: eventKey,\n      domEvent: e,\n    });\n  };\n\n  onTitleMouseEnter = (domEvent) => {\n    const { eventKey: key, onItemHover, onTitleMouseEnter } = this.props;\n    onItemHover({\n      key,\n      hover: true,\n    });\n    onTitleMouseEnter({\n      key,\n      domEvent,\n    });\n  };\n\n  onTitleMouseLeave = (e) => {\n    const { parentMenu, eventKey, onItemHover, onTitleMouseLeave } = this.props;\n    parentMenu.subMenuInstance = this;\n    onItemHover({\n      key: eventKey,\n      hover: false,\n    });\n    onTitleMouseLeave({\n      key: eventKey,\n      domEvent: e,\n    });\n  };\n\n  onTitleClick = (e) => {\n    const { props } = this;\n    props.onTitleClick({\n      key: props.eventKey,\n      domEvent: e,\n    });\n    if (props.triggerSubMenuAction === 'hover') {\n      return;\n    }\n    this.triggerOpenChange(!props.isOpen, 'click');\n    updateDefaultActiveFirst(props.store, this.props.eventKey, false);\n  };\n\n  onSubMenuClick = (info) => {\n    // in the case of overflowed submenu\n    // onClick is not copied over\n    if (typeof this.props.onClick === 'function') {\n      this.props.onClick(this.addKeyPath(info));\n    }\n  };\n\n  onSelect = (info) => {\n    this.props.onSelect(info);\n  };\n\n  onDeselect = (info) => {\n    this.props.onDeselect(info);\n  };\n\n  getPrefixCls = () => {\n    return `${this.props.rootPrefixCls}-submenu`;\n  };\n\n  getActiveClassName = () => {\n    return `${this.getPrefixCls()}-active`;\n  };\n\n  getDisabledClassName = () => {\n    return `${this.getPrefixCls()}-disabled`;\n  };\n\n  getSelectedClassName = () => {\n    return `${this.getPrefixCls()}-selected`;\n  };\n\n  getOpenClassName = () => {\n    return `${this.props.rootPrefixCls}-submenu-open`;\n  };\n\n  saveMenuInstance = (c) => {\n    // children menu instance\n    this.menuInstance = c;\n  };\n\n  addKeyPath = (info) => {\n    return {\n      ...info,\n      keyPath: (info.keyPath || []).concat(this.props.eventKey),\n    };\n  };\n\n  triggerOpenChange = (open, type) => {\n    const key = this.props.eventKey;\n    const openChange = () => {\n      this.onOpenChange({\n        key,\n        item: this,\n        trigger: type,\n        open,\n      });\n    };\n    if (type === 'mouseenter') {\n      // make sure mouseenter happen after other menu item's mouseleave\n      this.mouseenterTimeout = setTimeout(() => {\n        openChange();\n      }, 0);\n    } else {\n      openChange();\n    }\n  };\n\n  isChildrenSelected = () => {\n    const ret = { find: false };\n    loopMenuItemRecursively(this.props.children, this.props.selectedKeys, ret);\n    return ret.find;\n  };\n\n  isOpen = () => {\n    return this.props.openKeys.indexOf(this.props.eventKey) !== -1;\n  };\n\n  adjustWidth = () => {\n    /* istanbul ignore if */\n    if (!this.subMenuTitle || !this.menuInstance) {\n      return;\n    }\n    const popupMenu = findDOMNode(this.menuInstance);\n    if (popupMenu.offsetWidth >= this.subMenuTitle.offsetWidth) {\n      return;\n    }\n\n    /* istanbul ignore next */\n    popupMenu.style.minWidth = `${this.subMenuTitle.offsetWidth}px`;\n  };\n\n  saveSubMenuTitle = (subMenuTitle) => {\n    this.subMenuTitle = subMenuTitle;\n  };\n\n  renderChildren(children) {\n    const props = this.props;\n    const baseProps = {\n      mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n      hidden: !this.props.isOpen,\n      level: props.level + 1,\n      inlineIndent: props.inlineIndent,\n      focusable: false,\n      onClick: this.onSubMenuClick,\n      onSelect: this.onSelect,\n      onDeselect: this.onDeselect,\n      onDestroy: this.onDestroy,\n      selectedKeys: props.selectedKeys,\n      eventKey: `${props.eventKey}-menu-`,\n      openKeys: props.openKeys,\n      openTransitionName: props.openTransitionName,\n      openAnimation: props.openAnimation,\n      onOpenChange: this.onOpenChange,\n      subMenuOpenDelay: props.subMenuOpenDelay,\n      parentMenu: this,\n      subMenuCloseDelay: props.subMenuCloseDelay,\n      forceSubMenuRender: props.forceSubMenuRender,\n      triggerSubMenuAction: props.triggerSubMenuAction,\n      builtinPlacements: props.builtinPlacements,\n      defaultActiveFirst: props.store.getState()\n        .defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n      multiple: props.multiple,\n      prefixCls: props.rootPrefixCls,\n      id: this._menuId,\n      manualRef: this.saveMenuInstance,\n      itemIcon: props.itemIcon,\n      expandIcon: props.expandIcon,\n    };\n\n    const haveRendered = this.haveRendered;\n    this.haveRendered = true;\n\n    this.haveOpened = this.haveOpened || !baseProps.hidden || baseProps.forceSubMenuRender;\n    // never rendered not planning to, don't render\n    if (!this.haveOpened) {\n      return <div />;\n    }\n\n    // don't show transition on first rendering (no animation for opened menu)\n    // show appear transition if it's hidden (not sure why)\n    // show appear transition if it's not inline mode\n    const transitionAppear = haveRendered || baseProps.hidden || !baseProps.mode === 'inline';\n\n    baseProps.className = ` ${baseProps.prefixCls}-sub`;\n    const animProps = {};\n\n    if (baseProps.openTransitionName) {\n      animProps.transitionName = baseProps.openTransitionName;\n    } else if (typeof baseProps.openAnimation === 'object') {\n      animProps.animation = { ...baseProps.openAnimation };\n      if (!transitionAppear) {\n        delete animProps.animation.appear;\n      }\n    }\n\n    return (\n      <Animate\n        {...animProps}\n        hiddenProp=\"hidden\"\n        component=\"\"\n        transitionAppear={transitionAppear}\n      >\n        <SubPopupMenu {...baseProps} id={this._menuId}>{children}</SubPopupMenu>\n      </Animate>\n    );\n  }\n\n  render() {\n    const props = { ...this.props };\n    const isOpen = props.isOpen;\n    const prefixCls = this.getPrefixCls();\n    const isInlineMode = props.mode === 'inline';\n    const className = classNames(prefixCls, `${prefixCls}-${props.mode}`, {\n      [props.className]: !!props.className,\n      [this.getOpenClassName()]: isOpen,\n      [this.getActiveClassName()]: props.active || (isOpen && !isInlineMode),\n      [this.getDisabledClassName()]: props.disabled,\n      [this.getSelectedClassName()]: this.isChildrenSelected(),\n    });\n\n    if (!this._menuId) {\n      if (props.eventKey) {\n        this._menuId = `${props.eventKey}$Menu`;\n      } else {\n        this._menuId = `$__$${++guid}$Menu`;\n      }\n    }\n\n    let mouseEvents = {};\n    let titleClickEvents = {};\n    let titleMouseEvents = {};\n    if (!props.disabled) {\n      mouseEvents = {\n        onMouseLeave: this.onMouseLeave,\n        onMouseEnter: this.onMouseEnter,\n      };\n\n      // only works in title, not outer li\n      titleClickEvents = {\n        onClick: this.onTitleClick,\n      };\n      titleMouseEvents = {\n        onMouseEnter: this.onTitleMouseEnter,\n        onMouseLeave: this.onTitleMouseLeave,\n      };\n    }\n\n    const style = {};\n    if (isInlineMode) {\n      style.paddingLeft = props.inlineIndent * props.level;\n    }\n\n    let ariaOwns = {};\n    // only set aria-owns when menu is open\n    // otherwise it would be an invalid aria-owns value\n    // since corresponding node cannot be found\n    if (this.props.isOpen) {\n      ariaOwns = {\n        'aria-owns': this._menuId,\n      };\n    }\n\n    // expand custom icon should NOT be displayed in menu with horizontal mode.\n    let icon = null;\n    if (props.mode !== 'horizontal') {\n      icon = this.props.expandIcon; // ReactNode\n      if (typeof this.props.expandIcon === 'function') {\n        icon = createElement(\n          this.props.expandIcon,\n          { ...this.props },\n        );\n      }\n    }\n\n    const title = (\n      <div\n        ref={this.saveSubMenuTitle}\n        style={style}\n        className={`${prefixCls}-title`}\n        {...titleMouseEvents}\n        {...titleClickEvents}\n        aria-expanded={isOpen}\n        {...ariaOwns}\n        aria-haspopup=\"true\"\n        title={typeof props.title === 'string' ? props.title : undefined}\n      >\n        {props.title}\n        {icon || <i className={`${prefixCls}-arrow`} />}\n      </div>\n    );\n    const children = this.renderChildren(props.children);\n\n    const getPopupContainer = props.parentMenu.isRootMenu ? props.parentMenu.props.getPopupContainer : triggerNode => triggerNode.parentNode;\n    const popupPlacement = popupPlacementMap[props.mode];\n    const popupAlign = props.popupOffset ? { offset: props.popupOffset } : {};\n    const popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\n    const {\n      disabled,\n      triggerSubMenuAction,\n      subMenuOpenDelay,\n      forceSubMenuRender,\n      subMenuCloseDelay,\n      builtinPlacements,\n    } = props;\n    menuAllProps.forEach(key => delete props[key]);\n    // Set onClick to null, to ignore propagated onClick event\n    delete props.onClick;\n\n    return (\n      <li\n        {...props}\n        {...mouseEvents}\n        className={className}\n        role=\"menuitem\"\n      >\n        {isInlineMode && title}\n        {isInlineMode && children}\n        {!isInlineMode && (\n          <Trigger\n            prefixCls={prefixCls}\n            popupClassName={`${prefixCls}-popup ${popupClassName}`}\n            getPopupContainer={getPopupContainer}\n            builtinPlacements={Object.assign({}, placements, builtinPlacements)}\n            popupPlacement={popupPlacement}\n            popupVisible={isOpen}\n            popupAlign={popupAlign}\n            popup={children}\n            action={disabled ? [] : [triggerSubMenuAction]}\n            mouseEnterDelay={subMenuOpenDelay}\n            mouseLeaveDelay={subMenuCloseDelay}\n            onPopupVisibleChange={this.onPopupVisibleChange}\n            forceRender={forceSubMenuRender}\n          >\n            {title}\n          </Trigger>\n        )}\n      </li>\n    );\n  }\n}\n\nconst connected = connect(({ openKeys, activeKey, selectedKeys }, { eventKey, subMenuKey }) => ({\n  isOpen: openKeys.indexOf(eventKey) > -1,\n  active: activeKey[subMenuKey] === eventKey,\n  selectedKeys,\n}))(SubMenu);\n\nconnected.isSubMenu = true;\n\nexport default connected;\n"]}