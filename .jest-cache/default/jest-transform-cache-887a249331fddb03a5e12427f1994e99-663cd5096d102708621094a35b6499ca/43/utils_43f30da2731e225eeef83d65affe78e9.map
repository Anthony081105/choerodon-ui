{"version":3,"sources":["utils.jsx"],"names":["isEventFromHandle","e","handles","Object","keys","some","key","target","isValueOutOfRange","value","min","max","isNotTouchEvent","touches","length","type","toLowerCase","getClosestPoint","val","marks","step","points","map","parseFloat","closestStep","Math","round","push","diffs","point","abs","indexOf","getPrecision","stepString","toString","precision","getMousePosition","vertical","clientY","pageX","getTouchPosition","getHandleCenterPosition","handle","coords","getBoundingClientRect","top","height","left","width","ensureValueInRange","ensureValuePrecision","props","closestPoint","toFixed","pauseEvent","stopPropagation","preventDefault","getKeyboardValueMutator","keyCode","UP","RIGHT","DOWN","LEFT","END","HOME","PAGE_UP","PAGE_DOWN","undefined"],"mappings":"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","sourcesContent":["import { findDOMNode } from 'react-dom';\nimport keyCode from '../../_util/KeyCode';\n\nexport function isEventFromHandle(e, handles) {\n  return Object.keys(handles)\n    .some(key => e.target === findDOMNode(handles[key]));\n}\n\nexport function isValueOutOfRange(value, { min, max }) {\n  return value < min || value > max;\n}\n\nexport function isNotTouchEvent(e) {\n  return e.touches.length > 1 ||\n    (e.type.toLowerCase() === 'touchend' && e.touches.length > 0);\n}\n\nexport function getClosestPoint(val, { marks, step, min }) {\n  const points = Object.keys(marks).map(parseFloat);\n  if (step !== null) {\n    const closestStep =\n            Math.round((val - min) / step) * step + min;\n    points.push(closestStep);\n  }\n  const diffs = points.map(point => Math.abs(val - point));\n  return points[diffs.indexOf(Math.min(...diffs))];\n}\n\nexport function getPrecision(step) {\n  const stepString = step.toString();\n  let precision = 0;\n  if (stepString.indexOf('.') >= 0) {\n    precision = stepString.length - stepString.indexOf('.') - 1;\n  }\n  return precision;\n}\n\nexport function getMousePosition(vertical, e) {\n  return vertical ? e.clientY : e.pageX;\n}\n\nexport function getTouchPosition(vertical, e) {\n  return vertical ? e.touches[0].clientY : e.touches[0].pageX;\n}\n\nexport function getHandleCenterPosition(vertical, handle) {\n  const coords = handle.getBoundingClientRect();\n  return vertical ?\n    coords.top + (coords.height * 0.5) :\n    coords.left + (coords.width * 0.5);\n}\n\nexport function ensureValueInRange(val, { max, min }) {\n  if (val <= min) {\n    return min;\n  }\n  if (val >= max) {\n    return max;\n  }\n  return val;\n}\n\nexport function ensureValuePrecision(val, props) {\n  const { step } = props;\n  const closestPoint = getClosestPoint(val, props);\n  return step === null ? closestPoint :\n    parseFloat(closestPoint.toFixed(getPrecision(step)));\n}\n\nexport function pauseEvent(e) {\n  e.stopPropagation();\n  e.preventDefault();\n}\n\nexport function getKeyboardValueMutator(e) {\n  switch (e.keyCode) {\n    case keyCode.UP:\n    case keyCode.RIGHT:\n      return (value, props) => value + props.step;\n\n    case keyCode.DOWN:\n    case keyCode.LEFT:\n      return (value, props) => value - props.step;\n\n    case keyCode.END: return (value, props) => props.max;\n    case keyCode.HOME: return (value, props) => props.min;\n    case keyCode.PAGE_UP: return (value, props) => value + props.step * 2;\n    case keyCode.PAGE_DOWN: return (value, props) => value - props.step * 2;\n\n    default: return undefined;\n  }\n}\n"]}