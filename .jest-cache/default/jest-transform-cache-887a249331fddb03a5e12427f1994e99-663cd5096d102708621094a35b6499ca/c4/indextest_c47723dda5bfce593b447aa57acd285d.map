{"version":3,"sources":["index.test.js"],"names":["Option","Select","describe","beforeEach","jest","useFakeTimers","afterEach","useRealTimers","it","handleDataSetChange","fn","data","user","ds","DataSet","fields","name","type","textField","label","events","update","wrapper","runAllTimers","expect","find","at","prop","toBe","simulate","length"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;IAEQA,M,GAAWC,Y,CAAXD,M;AAERE,QAAQ,CAAC,QAAD,EAAW,YAAM;AACvBC,EAAAA,UAAU,CAAC,YAAM;AACfC,IAAAA,IAAI,CAACC,aAAL;AACD,GAFS,CAAV;AAIAC,EAAAA,SAAS,CAAC,YAAM;AACdF,IAAAA,IAAI,CAACG,aAAL;AACD,GAFQ,CAAT;AAIAC,EAAAA,EAAE,CAAC,0BAAD,EAA6B,YAAM;AACnC,QAAMC,mBAAmB,GAAGL,IAAI,CAACM,EAAL,EAA5B;AACA,QAAMC,IAAI,GAAG,CACX;AACEC,MAAAA,IAAI,EAAE;AADR,KADW,CAAb;AAKA,QAAMC,EAAE,GAAG,IAAIC,mBAAJ,CAAY;AACrBH,MAAAA,IAAI,EAAJA,IADqB;AAErBI,MAAAA,MAAM,EAAE,CAAC;AAAEC,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,IAAI,EAAE,QAAtB;AAAgCC,QAAAA,SAAS,EAAE,MAA3C;AAAmDC,QAAAA,KAAK,EAAE;AAA1D,OAAD,CAFa;AAGrBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,MAAM,EAAEZ;AADF;AAHa,KAAZ,CAAX;AAOA,QAAMa,OAAO,GAAG,mBACd,gCAAC,YAAD;AAAQ,MAAA,OAAO,EAAET,EAAjB;AAAqB,MAAA,IAAI,EAAC;AAA1B,OACE,gCAAC,MAAD;AAAQ,MAAA,KAAK,EAAC;AAAd,cADF,EAEE,gCAAC,MAAD;AAAQ,MAAA,KAAK,EAAC;AAAd,cAFF,EAGE,gCAAC,MAAD;AAAQ,MAAA,KAAK,EAAC;AAAd,YAHF,CADc,CAAhB;AAOAT,IAAAA,IAAI,CAACmB,YAAL;AACAC,IAAAA,MAAM,CACJF,OAAO,CACJG,IADH,CACQ,OADR,EAEGC,EAFH,CAEM,CAFN,EAGGC,IAHH,CAGQ,OAHR,CADI,CAAN,CAKEC,IALF,CAKO,IALP;AAMD,GA5BC,CAAF;AA6BApB,EAAAA,EAAE,CAAC,4CAAD,EAA+C,YAAM;AACrD,QAAMC,mBAAmB,GAAGL,IAAI,CAACM,EAAL,EAA5B;AACA,QAAMC,IAAI,GAAG,CACX;AACEC,MAAAA,IAAI,EAAE;AADR,KADW,CAAb;AAKA,QAAMC,EAAE,GAAG,IAAIC,mBAAJ,CAAY;AACrBH,MAAAA,IAAI,EAAJA,IADqB;AAErBI,MAAAA,MAAM,EAAE,CAAC;AAAEC,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,IAAI,EAAE,QAAtB;AAAgCC,QAAAA,SAAS,EAAE,MAA3C;AAAmDC,QAAAA,KAAK,EAAE;AAA1D,OAAD,CAFa;AAGrBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,MAAM,EAAEZ;AADF;AAHa,KAAZ,CAAX;AAOA,QAAMa,OAAO,GAAG,mBACd,gCAAC,YAAD;AAAQ,MAAA,OAAO,EAAET,EAAjB;AAAqB,MAAA,IAAI,EAAC;AAA1B,OACE,gCAAC,MAAD;AAAQ,MAAA,KAAK,EAAC;AAAd,cADF,EAEE,gCAAC,MAAD;AAAQ,MAAA,KAAK,EAAC;AAAd,cAFF,EAGE,gCAAC,MAAD;AAAQ,MAAA,KAAK,EAAC;AAAd,YAHF,CADc,CAAhB;AAOAS,IAAAA,OAAO,CAACG,IAAR,CAAa,iBAAb,EAAgCI,QAAhC,CAAyC,OAAzC;AACAzB,IAAAA,IAAI,CAACmB,YAAL;AACAC,IAAAA,MAAM,CAACF,OAAO,CAACG,IAAR,CAAa,UAAb,EAAyBK,MAA1B,CAAN,CAAwCF,IAAxC,CAA6C,CAA7C;AACD,GAxBC,CAAF;AAyBD,CA/DO,CAAR","sourcesContent":["import React from 'react';\nimport { mount } from 'enzyme';\nimport Select from '..';\nimport DataSet from '../../data-set';\n\nconst { Option } = Select;\n\ndescribe('Select', () => {\n  beforeEach(() => {\n    jest.useFakeTimers();\n  });\n\n  afterEach(() => {\n    jest.useRealTimers();\n  });\n\n  it('dataset set Select value', () => {\n    const handleDataSetChange = jest.fn();\n    const data = [\n      {\n        user: 'wu',\n      },\n    ];\n    const ds = new DataSet({\n      data,\n      fields: [{ name: 'user', type: 'string', textField: 'text', label: '用户' }],\n      events: {\n        update: handleDataSetChange,\n      },\n    });\n    const wrapper = mount(\n      <Select dataSet={ds} name=\"user\">\n        <Option value=\"jack\">Jack</Option>\n        <Option value=\"lucy\">Lucy</Option>\n        <Option value=\"wu\">Wu</Option>\n      </Select>,\n    );\n    jest.runAllTimers();\n    expect(\n      wrapper\n        .find('input')\n        .at(0)\n        .prop('value'),\n    ).toBe('wu');\n  });\n  it('dataset set value render right number item', () => {\n    const handleDataSetChange = jest.fn();\n    const data = [\n      {\n        user: 'wu',\n      },\n    ];\n    const ds = new DataSet({\n      data,\n      fields: [{ name: 'user', type: 'string', textField: 'text', label: '用户' }],\n      events: {\n        update: handleDataSetChange,\n      },\n    });\n    const wrapper = mount(\n      <Select dataSet={ds} name=\"user\">\n        <Option value=\"jack\">Jack</Option>\n        <Option value=\"lucy\">Lucy</Option>\n        <Option value=\"wu\">Wu</Option>\n      </Select>,\n    );\n    wrapper.find('.c7n-pro-select').simulate('click');\n    jest.runAllTimers();\n    expect(wrapper.find('MenuItem').length).toBe(3);\n  });\n});\n"]}