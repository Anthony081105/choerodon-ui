{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/validator/rules/tooLong.tsx"],"names":[],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAEc,SAAU,OAAV,CAAkB,KAAlB,EAA8B,KAA9B,EAAmD;AAAA,MACvD,SADuD,GACd,KADc,CACvD,SADuD;AAAA,MAC5C,yBAD4C,GACd,KADc,CAC5C,yBAD4C;;AAE/D,MAAI,CAAC,yBAAQ,KAAR,CAAL,EAAqB;AAAA,0BACA,KAAK,CAAC,QAAN,EADA;AAAA,QACX,MADW,mBACX,MADW;;AAEnB,QAAI,CAAC,CAAC,SAAF,IAAe,SAAS,GAAG,CAA3B,IAAgC,MAAM,GAAG,SAA7C,EAAwD;AACtD,UAAM,gBAAgB,GAAG;AAAE,QAAA,SAAS,EAAT,SAAF;AAAa,QAAA,MAAM,EAAN;AAAb,OAAzB;AACA,UAAM,QAAQ,GAAG,SAAjB;AAFsD,kCAKlD,yBALkD,CAInD,QAJmD;AAAA,UAIxC,iBAJwC,sCAIpB,uBAAG,WAAH,EAAgB,UAAhB,CAJoB;AAMtD,aAAO,IAAI,4BAAJ,CAAqB;AAC1B,QAAA,iBAAiB,EAAE,qCAAoB,iBAApB,EAAuC,gBAAvC,CADO;AAE1B,QAAA,gBAAgB,EAAhB,gBAF0B;AAG1B,QAAA,KAAK,EAAL,KAH0B;AAI1B,QAAA,QAAQ,EAAR;AAJ0B,OAArB,CAAP;AAMD;AACF;;AACD,SAAO,IAAP;AACD","sourcesContent":["import isEmpty from '../../_util/isEmpty';\nimport ValidationResult from '../ValidationResult';\nimport { $l } from '../../locale-context';\nimport { methodReturn, ValidatorProps } from '.';\nimport formatReactTemplate from '../../formatter/formatReactTemplate';\n\nexport default function tooLong(value: any, props: ValidatorProps): methodReturn {\n  const { maxLength, defaultValidationMessages } = props;\n  if (!isEmpty(value)) {\n    const { length } = value.toString();\n    if (!!maxLength && maxLength > 0 && length > maxLength) {\n      const injectionOptions = { maxLength, length };\n      const ruleName = 'tooLong';\n      const {\n        [ruleName]: validationMessage = $l('Validator', 'too_long'),\n      } = defaultValidationMessages;\n      return new ValidationResult({\n        validationMessage: formatReactTemplate(validationMessage, injectionOptions),\n        injectionOptions,\n        value,\n        ruleName,\n      });\n    }\n  }\n  return true;\n}\n"]}