15519a0509c8794e961a52fffe78ed13
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _reactDom = require("react-dom");

var _noop = _interopRequireDefault(require("lodash/noop"));

var _contains = _interopRequireDefault(require("../util/Dom/contains"));

var _addEventListener = _interopRequireDefault(require("../../_util/addEventListener"));

var _Popup = _interopRequireDefault(require("./Popup"));

var _utils = require("./utils");

var _ContainerRender = _interopRequireDefault(require("../util/ContainerRender"));

var _Portal = _interopRequireDefault(require("../util/Portal"));

function _createSuper(Derived) {
  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  return function () {
    var Super = (0, _getPrototypeOf2["default"])(Derived),
        result;

    if (isNativeReflectConstruct()) {
      var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return (0, _possibleConstructorReturn2["default"])(this, result);
  };
}

function returnEmptyString() {
  return '';
}

function returnDocument() {
  return window.document;
}

var ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur', 'onContextMenu'];
var IS_REACT_16 = !!_reactDom.createPortal;

var Trigger =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(Trigger, _Component);

  var _super = _createSuper(Trigger);

  function Trigger(_props) {
    var _this;

    (0, _classCallCheck2["default"])(this, Trigger);
    _this = _super.call(this, _props);
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onMouseEnter", function (e) {
      _this.fireEvents('onMouseEnter', e);

      _this.delaySetPopupVisible(true, _this.props.mouseEnterDelay);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onMouseLeave", function (e) {
      _this.fireEvents('onMouseLeave', e);

      _this.delaySetPopupVisible(false, _this.props.mouseLeaveDelay);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onPopupMouseEnter", function () {
      _this.clearDelayTimer();
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onPopupMouseLeave", function (e) {
      // https://github.com/react-component/trigger/pull/13
      // react bug?
      if (e.relatedTarget && !e.relatedTarget.setTimeout && _this._component && _this._component.getPopupDomNode && (0, _contains["default"])(_this._component.getPopupDomNode(), e.relatedTarget)) {
        return;
      }

      _this.delaySetPopupVisible(false, _this.props.mouseLeaveDelay);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onFocus", function (e) {
      _this.fireEvents('onFocus', e); // incase focusin and focusout


      _this.clearDelayTimer();

      if (_this.isFocusToShow()) {
        _this.focusTime = Date.now();

        _this.delaySetPopupVisible(true, _this.props.focusDelay);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onMouseDown", function (e) {
      _this.fireEvents('onMouseDown', e);

      _this.preClickTime = Date.now();
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onTouchStart", function (e) {
      _this.fireEvents('onTouchStart', e);

      _this.preTouchTime = Date.now();
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onBlur", function (e) {
      _this.fireEvents('onBlur', e);

      _this.clearDelayTimer();

      if (_this.isBlurToHide()) {
        _this.delaySetPopupVisible(false, _this.props.blurDelay);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onContextMenu", function (e) {
      e.preventDefault();

      _this.fireEvents('onContextMenu', e);

      _this.setPopupVisible(true);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onContextMenuClose", function () {
      if (_this.isContextMenuToShow()) {
        _this.close();
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onClick", function (event) {
      _this.fireEvents('onClick', event); // focus will trigger click


      if (_this.focusTime) {
        var preTime;

        if (_this.preClickTime && _this.preTouchTime) {
          preTime = Math.min(_this.preClickTime, _this.preTouchTime);
        } else if (_this.preClickTime) {
          preTime = _this.preClickTime;
        } else if (_this.preTouchTime) {
          preTime = _this.preTouchTime;
        }

        if (Math.abs(preTime - _this.focusTime) < 20) {
          return;
        }

        _this.focusTime = 0;
      }

      _this.preClickTime = 0;
      _this.preTouchTime = 0;
      event.preventDefault();
      var nextVisible = !_this.state.popupVisible;

      if (_this.isClickToHide() && !nextVisible || nextVisible && _this.isClickToShow()) {
        _this.setPopupVisible(!_this.state.popupVisible);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onDocumentClick", function (event) {
      if (_this.props.mask && !_this.props.maskClosable) {
        return;
      }

      var target = event.target;
      var root = (0, _reactDom.findDOMNode)((0, _assertThisInitialized2["default"])(_this));

      var popupNode = _this.getPopupDomNode();

      if (!(0, _contains["default"])(root, target) && !(0, _contains["default"])(popupNode, target)) {
        _this.close();
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "getRootDomNode", function () {
      var getRootDomNode = _this.props.getRootDomNode;

      if (getRootDomNode) {
        return getRootDomNode();
      } else {
        return (0, _reactDom.findDOMNode)((0, _assertThisInitialized2["default"])(_this));
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "getPopupClassFromAlign", function (align) {
      var className = [];
      var props = _this.props;
      var popupPlacement = props.popupPlacement,
          builtinPlacements = props.builtinPlacements,
          prefixCls = props.prefixCls;

      if (popupPlacement && builtinPlacements) {
        className.push((0, _utils.getPopupClassNameFromAlign)(builtinPlacements, prefixCls, align));
      }

      if (props.getPopupClassNameFromAlign) {
        className.push(props.getPopupClassNameFromAlign(align));
      }

      return className.join(' ');
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "getComponent", function () {
      var _this$props = _this.props,
          prefixCls = _this$props.prefixCls,
          destroyPopupOnHide = _this$props.destroyPopupOnHide,
          popupClassName = _this$props.popupClassName,
          action = _this$props.action,
          onPopupAlign = _this$props.onPopupAlign,
          popupAnimation = _this$props.popupAnimation,
          popupTransitionName = _this$props.popupTransitionName,
          popupStyle = _this$props.popupStyle,
          mask = _this$props.mask,
          maskAnimation = _this$props.maskAnimation,
          maskTransitionName = _this$props.maskTransitionName,
          zIndex = _this$props.zIndex,
          popup = _this$props.popup,
          stretch = _this$props.stretch;

      var _assertThisInitialize = (0, _assertThisInitialized2["default"])(_this),
          state = _assertThisInitialize.state;

      var align = _this.getPopupAlign();

      var mouseProps = {};

      if (_this.isMouseEnterToShow()) {
        mouseProps.onMouseEnter = _this.onPopupMouseEnter;
      }

      if (_this.isMouseLeaveToHide()) {
        mouseProps.onMouseLeave = _this.onPopupMouseLeave;
      }

      return _react["default"].createElement(_Popup["default"], (0, _extends2["default"])({
        prefixCls: prefixCls,
        destroyPopupOnHide: destroyPopupOnHide,
        visible: state.popupVisible,
        className: popupClassName,
        action: action,
        align: align,
        onAlign: onPopupAlign,
        animation: popupAnimation,
        getClassNameFromAlign: _this.getPopupClassFromAlign
      }, mouseProps, {
        stretch: stretch,
        getRootDomNode: _this.getRootDomNode,
        style: popupStyle,
        mask: mask,
        zIndex: zIndex,
        transitionName: popupTransitionName,
        maskAnimation: maskAnimation,
        maskTransitionName: maskTransitionName,
        ref: _this.savePopup
      }), typeof popup === 'function' ? popup() : popup);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "getContainer", function () {
      var _assertThisInitialize2 = (0, _assertThisInitialized2["default"])(_this),
          props = _assertThisInitialize2.props;

      var popupContainer = document.createElement('div'); // Make sure default popup container will never cause scrollbar appearing
      // https://github.com/react-component/trigger/issues/41

      popupContainer.style.position = 'absolute';
      popupContainer.style.top = '0';
      popupContainer.style.left = '0';
      popupContainer.style.width = '100%';
      var mountNode = props.getPopupContainer ? props.getPopupContainer((0, _reactDom.findDOMNode)((0, _assertThisInitialized2["default"])(_this))) : props.getDocument().body;
      mountNode.appendChild(popupContainer);
      return popupContainer;
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handlePortalUpdate", function () {
      if (_this.prevPopupVisible !== _this.state.popupVisible) {
        _this.props.afterPopupVisibleChange(_this.state.popupVisible);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "savePopup", function (node) {
      _this._component = node;
    });
    var popupVisible;

    if ('popupVisible' in _props) {
      popupVisible = !!_props.popupVisible;
    } else {
      popupVisible = !!_props.defaultPopupVisible;
    }

    _this.prevPopupVisible = popupVisible;
    _this.state = {
      popupVisible: popupVisible
    };
    return _this;
  }

  (0, _createClass2["default"])(Trigger, [{
    key: "componentWillMount",
    value: function componentWillMount() {
      var _this2 = this;

      ALL_HANDLERS.forEach(function (h) {
        _this2["fire".concat(h)] = function (e) {
          _this2.fireEvents(h, e);
        };
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.componentDidUpdate({}, {
        popupVisible: this.state.popupVisible
      });
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(_ref) {
      var popupVisible = _ref.popupVisible;

      if (popupVisible !== undefined) {
        this.setState({
          popupVisible: popupVisible
        });
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(_, prevState) {
      var props = this.props;
      var state = this.state;

      var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {
        if (prevState.popupVisible !== state.popupVisible) {
          props.afterPopupVisibleChange(state.popupVisible);
        }
      };

      if (!IS_REACT_16) {
        this.renderComponent(null, triggerAfterPopupVisibleChange);
      }

      this.prevPopupVisible = prevState.popupVisible; // We must listen to `mousedown` or `touchstart`, edge case:
      // https://github.com/react-component/calendar/issues/250
      // https://github.com/react-component/trigger/issues/50

      if (state.popupVisible) {
        var currentDocument;

        if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextMenuToShow())) {
          currentDocument = props.getDocument();
          this.clickOutsideHandler = (0, _addEventListener["default"])(currentDocument, 'mousedown', this.onDocumentClick);
        } // always hide on mobile


        if (!this.touchOutsideHandler) {
          currentDocument = currentDocument || props.getDocument();
          this.touchOutsideHandler = (0, _addEventListener["default"])(currentDocument, 'touchstart', this.onDocumentClick);
        } // close popup when trigger type contains 'onContextMenu' and document is scrolling.


        if (!this.contextMenuOutsideHandler1 && this.isContextMenuToShow()) {
          currentDocument = currentDocument || props.getDocument();
          this.contextMenuOutsideHandler1 = (0, _addEventListener["default"])(currentDocument, 'scroll', this.onContextMenuClose);
        } // close popup when trigger type contains 'onContextMenu' and window is blur.


        if (!this.contextMenuOutsideHandler2 && this.isContextMenuToShow()) {
          this.contextMenuOutsideHandler2 = (0, _addEventListener["default"])(window, 'blur', this.onContextMenuClose);
        }

        return;
      }

      this.clearOutsideHandler();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.clearDelayTimer();
      this.clearOutsideHandler();
    }
  }, {
    key: "getPopupDomNode",
    value: function getPopupDomNode() {
      // for test
      if (this._component && this._component.getPopupDomNode) {
        return this._component.getPopupDomNode();
      }

      return null;
    }
  }, {
    key: "getPopupAlign",
    value: function getPopupAlign() {
      var props = this.props;
      var popupPlacement = props.popupPlacement,
          popupAlign = props.popupAlign,
          builtinPlacements = props.builtinPlacements;

      if (popupPlacement && builtinPlacements) {
        return (0, _utils.getAlignFromPlacement)(builtinPlacements, popupPlacement, popupAlign);
      }

      return popupAlign;
    }
  }, {
    key: "setPopupVisible",
    value: function setPopupVisible(popupVisible) {
      this.clearDelayTimer();

      if (this.state.popupVisible !== popupVisible) {
        if (!('popupVisible' in this.props)) {
          this.setState({
            popupVisible: popupVisible
          });
        }

        this.props.onPopupVisibleChange(popupVisible);
      }
    }
  }, {
    key: "delaySetPopupVisible",
    value: function delaySetPopupVisible(visible, delayS) {
      var _this3 = this;

      var delay = delayS * 1000;
      this.clearDelayTimer();

      if (delay) {
        this.delayTimer = setTimeout(function () {
          _this3.setPopupVisible(visible);

          _this3.clearDelayTimer();
        }, delay);
      } else {
        this.setPopupVisible(visible);
      }
    }
  }, {
    key: "clearDelayTimer",
    value: function clearDelayTimer() {
      if (this.delayTimer) {
        clearTimeout(this.delayTimer);
        this.delayTimer = null;
      }
    }
  }, {
    key: "clearOutsideHandler",
    value: function clearOutsideHandler() {
      if (this.clickOutsideHandler) {
        this.clickOutsideHandler.remove();
        this.clickOutsideHandler = null;
      }

      if (this.contextMenuOutsideHandler1) {
        this.contextMenuOutsideHandler1.remove();
        this.contextMenuOutsideHandler1 = null;
      }

      if (this.contextMenuOutsideHandler2) {
        this.contextMenuOutsideHandler2.remove();
        this.contextMenuOutsideHandler2 = null;
      }

      if (this.touchOutsideHandler) {
        this.touchOutsideHandler.remove();
        this.touchOutsideHandler = null;
      }
    }
  }, {
    key: "createTwoChains",
    value: function createTwoChains(event) {
      var childPros = this.props.children.props;
      var props = this.props;

      if (childPros[event] && props[event]) {
        return this["fire".concat(event)];
      }

      return childPros[event] || props[event];
    }
  }, {
    key: "isClickToShow",
    value: function isClickToShow() {
      var _this$props2 = this.props,
          action = _this$props2.action,
          showAction = _this$props2.showAction;
      return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;
    }
  }, {
    key: "isContextMenuToShow",
    value: function isContextMenuToShow() {
      var _this$props3 = this.props,
          action = _this$props3.action,
          showAction = _this$props3.showAction;
      return action.indexOf('contextMenu') !== -1 || showAction.indexOf('contextMenu') !== -1;
    }
  }, {
    key: "isClickToHide",
    value: function isClickToHide() {
      var _this$props4 = this.props,
          action = _this$props4.action,
          hideAction = _this$props4.hideAction;
      return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;
    }
  }, {
    key: "isMouseEnterToShow",
    value: function isMouseEnterToShow() {
      var _this$props5 = this.props,
          action = _this$props5.action,
          showAction = _this$props5.showAction;
      return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;
    }
  }, {
    key: "isMouseLeaveToHide",
    value: function isMouseLeaveToHide() {
      var _this$props6 = this.props,
          action = _this$props6.action,
          hideAction = _this$props6.hideAction;
      return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;
    }
  }, {
    key: "isFocusToShow",
    value: function isFocusToShow() {
      var _this$props7 = this.props,
          action = _this$props7.action,
          showAction = _this$props7.showAction;
      return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;
    }
  }, {
    key: "isBlurToHide",
    value: function isBlurToHide() {
      var _this$props8 = this.props,
          action = _this$props8.action,
          hideAction = _this$props8.hideAction;
      return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;
    }
  }, {
    key: "forcePopupAlign",
    value: function forcePopupAlign() {
      if (this.state.popupVisible && this._component && this._component.alignInstance) {
        this._component.alignInstance.forceAlign();
      }
    }
  }, {
    key: "fireEvents",
    value: function fireEvents(type, e) {
      var childCallback = this.props.children.props[type];

      if (childCallback) {
        childCallback(e);
      }

      var callback = this.props[type];

      if (callback) {
        callback(e);
      }
    }
  }, {
    key: "close",
    value: function close() {
      this.setPopupVisible(false);
    }
  }, {
    key: "render",
    value: function render() {
      var _this4 = this;

      var popupVisible = this.state.popupVisible;
      var props = this.props;
      var children = props.children;

      var child = _react.Children.only(children);

      var newChildProps = {
        key: 'trigger'
      };

      if (this.isContextMenuToShow()) {
        newChildProps.onContextMenu = this.onContextMenu;
      } else {
        newChildProps.onContextMenu = this.createTwoChains('onContextMenu');
      }

      if (this.isClickToHide() || this.isClickToShow()) {
        newChildProps.onClick = this.onClick;
        newChildProps.onMouseDown = this.onMouseDown;
        newChildProps.onTouchStart = this.onTouchStart;
      } else {
        newChildProps.onClick = this.createTwoChains('onClick');
        newChildProps.onMouseDown = this.createTwoChains('onMouseDown');
        newChildProps.onTouchStart = this.createTwoChains('onTouchStart');
      }

      if (this.isMouseEnterToShow()) {
        newChildProps.onMouseEnter = this.onMouseEnter;
      } else {
        newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');
      }

      if (this.isMouseLeaveToHide()) {
        newChildProps.onMouseLeave = this.onMouseLeave;
      } else {
        newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');
      }

      if (this.isFocusToShow() || this.isBlurToHide()) {
        newChildProps.onFocus = this.onFocus;
        newChildProps.onBlur = this.onBlur;
      } else {
        newChildProps.onFocus = this.createTwoChains('onFocus');
        newChildProps.onBlur = this.createTwoChains('onBlur');
      }

      var trigger = (0, _react.cloneElement)(child, newChildProps);

      if (!IS_REACT_16) {
        return _react["default"].createElement(_ContainerRender["default"], {
          parent: this,
          visible: popupVisible,
          autoMount: false,
          forceRender: props.forceRender,
          getComponent: this.getComponent,
          getContainer: this.getContainer
        }, function (_ref2) {
          var renderComponent = _ref2.renderComponent;
          _this4.renderComponent = renderComponent;
          return trigger;
        });
      }

      var portal; // prevent unmounting after it's rendered

      if (popupVisible || this._component || props.forceRender) {
        portal = _react["default"].createElement(_Portal["default"], {
          key: "portal",
          getContainer: this.getContainer,
          didUpdate: this.handlePortalUpdate
        }, this.getComponent());
      }

      return [trigger, portal];
    }
  }]);
  return Trigger;
}(_react.Component);

exports["default"] = Trigger;
(0, _defineProperty2["default"])(Trigger, "propTypes", {
  children: _propTypes["default"].any,
  action: _propTypes["default"].oneOfType([_propTypes["default"].string, _propTypes["default"].arrayOf(_propTypes["default"].string)]),
  showAction: _propTypes["default"].any,
  hideAction: _propTypes["default"].any,
  getPopupClassNameFromAlign: _propTypes["default"].any,
  onPopupVisibleChange: _propTypes["default"].func,
  afterPopupVisibleChange: _propTypes["default"].func,
  popup: _propTypes["default"].oneOfType([_propTypes["default"].node, _propTypes["default"].func]).isRequired,
  popupStyle: _propTypes["default"].object,
  prefixCls: _propTypes["default"].string,
  popupClassName: _propTypes["default"].string,
  popupPlacement: _propTypes["default"].string,
  builtinPlacements: _propTypes["default"].object,
  popupTransitionName: _propTypes["default"].oneOfType([_propTypes["default"].string, _propTypes["default"].object]),
  popupAnimation: _propTypes["default"].any,
  mouseEnterDelay: _propTypes["default"].number,
  mouseLeaveDelay: _propTypes["default"].number,
  zIndex: _propTypes["default"].number,
  focusDelay: _propTypes["default"].number,
  blurDelay: _propTypes["default"].number,
  getPopupContainer: _propTypes["default"].func,
  getDocument: _propTypes["default"].func,
  getRootDomNode: _propTypes["default"].func,
  forceRender: _propTypes["default"].bool,
  destroyPopupOnHide: _propTypes["default"].bool,
  mask: _propTypes["default"].bool,
  maskClosable: _propTypes["default"].bool,
  onPopupAlign: _propTypes["default"].func,
  popupAlign: _propTypes["default"].object,
  popupVisible: _propTypes["default"].bool,
  defaultPopupVisible: _propTypes["default"].bool,
  maskTransitionName: _propTypes["default"].oneOfType([_propTypes["default"].string, _propTypes["default"].object]),
  maskAnimation: _propTypes["default"].string,
  stretch: _propTypes["default"].string
});
(0, _defineProperty2["default"])(Trigger, "defaultProps", {
  prefixCls: 'rc-trigger-popup',
  getPopupClassNameFromAlign: returnEmptyString,
  getDocument: returnDocument,
  onPopupVisibleChange: _noop["default"],
  afterPopupVisibleChange: _noop["default"],
  onPopupAlign: _noop["default"],
  popupClassName: '',
  mouseEnterDelay: 0,
  mouseLeaveDelay: 0.1,
  focusDelay: 0,
  blurDelay: 0.15,
  popupStyle: {},
  destroyPopupOnHide: false,
  popupAlign: {},
  defaultPopupVisible: false,
  mask: false,
  maskClosable: true,
  action: [],
  showAction: [],
  hideAction: []
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzeCJdLCJuYW1lcyI6WyJyZXR1cm5FbXB0eVN0cmluZyIsInJldHVybkRvY3VtZW50Iiwid2luZG93IiwiZG9jdW1lbnQiLCJBTExfSEFORExFUlMiLCJJU19SRUFDVF8xNiIsImNyZWF0ZVBvcnRhbCIsIlRyaWdnZXIiLCJwcm9wcyIsImUiLCJmaXJlRXZlbnRzIiwiZGVsYXlTZXRQb3B1cFZpc2libGUiLCJtb3VzZUVudGVyRGVsYXkiLCJtb3VzZUxlYXZlRGVsYXkiLCJjbGVhckRlbGF5VGltZXIiLCJyZWxhdGVkVGFyZ2V0Iiwic2V0VGltZW91dCIsIl9jb21wb25lbnQiLCJnZXRQb3B1cERvbU5vZGUiLCJpc0ZvY3VzVG9TaG93IiwiZm9jdXNUaW1lIiwiRGF0ZSIsIm5vdyIsImZvY3VzRGVsYXkiLCJwcmVDbGlja1RpbWUiLCJwcmVUb3VjaFRpbWUiLCJpc0JsdXJUb0hpZGUiLCJibHVyRGVsYXkiLCJwcmV2ZW50RGVmYXVsdCIsInNldFBvcHVwVmlzaWJsZSIsImlzQ29udGV4dE1lbnVUb1Nob3ciLCJjbG9zZSIsImV2ZW50IiwicHJlVGltZSIsIk1hdGgiLCJtaW4iLCJhYnMiLCJuZXh0VmlzaWJsZSIsInN0YXRlIiwicG9wdXBWaXNpYmxlIiwiaXNDbGlja1RvSGlkZSIsImlzQ2xpY2tUb1Nob3ciLCJtYXNrIiwibWFza0Nsb3NhYmxlIiwidGFyZ2V0Iiwicm9vdCIsInBvcHVwTm9kZSIsImdldFJvb3REb21Ob2RlIiwiYWxpZ24iLCJjbGFzc05hbWUiLCJwb3B1cFBsYWNlbWVudCIsImJ1aWx0aW5QbGFjZW1lbnRzIiwicHJlZml4Q2xzIiwicHVzaCIsImdldFBvcHVwQ2xhc3NOYW1lRnJvbUFsaWduIiwiam9pbiIsImRlc3Ryb3lQb3B1cE9uSGlkZSIsInBvcHVwQ2xhc3NOYW1lIiwiYWN0aW9uIiwib25Qb3B1cEFsaWduIiwicG9wdXBBbmltYXRpb24iLCJwb3B1cFRyYW5zaXRpb25OYW1lIiwicG9wdXBTdHlsZSIsIm1hc2tBbmltYXRpb24iLCJtYXNrVHJhbnNpdGlvbk5hbWUiLCJ6SW5kZXgiLCJwb3B1cCIsInN0cmV0Y2giLCJnZXRQb3B1cEFsaWduIiwibW91c2VQcm9wcyIsImlzTW91c2VFbnRlclRvU2hvdyIsIm9uTW91c2VFbnRlciIsIm9uUG9wdXBNb3VzZUVudGVyIiwiaXNNb3VzZUxlYXZlVG9IaWRlIiwib25Nb3VzZUxlYXZlIiwib25Qb3B1cE1vdXNlTGVhdmUiLCJnZXRQb3B1cENsYXNzRnJvbUFsaWduIiwic2F2ZVBvcHVwIiwicG9wdXBDb250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ3aWR0aCIsIm1vdW50Tm9kZSIsImdldFBvcHVwQ29udGFpbmVyIiwiZ2V0RG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJwcmV2UG9wdXBWaXNpYmxlIiwiYWZ0ZXJQb3B1cFZpc2libGVDaGFuZ2UiLCJub2RlIiwiZGVmYXVsdFBvcHVwVmlzaWJsZSIsImZvckVhY2giLCJoIiwiY29tcG9uZW50RGlkVXBkYXRlIiwidW5kZWZpbmVkIiwic2V0U3RhdGUiLCJfIiwicHJldlN0YXRlIiwidHJpZ2dlckFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlIiwicmVuZGVyQ29tcG9uZW50IiwiY3VycmVudERvY3VtZW50IiwiY2xpY2tPdXRzaWRlSGFuZGxlciIsIm9uRG9jdW1lbnRDbGljayIsInRvdWNoT3V0c2lkZUhhbmRsZXIiLCJjb250ZXh0TWVudU91dHNpZGVIYW5kbGVyMSIsIm9uQ29udGV4dE1lbnVDbG9zZSIsImNvbnRleHRNZW51T3V0c2lkZUhhbmRsZXIyIiwiY2xlYXJPdXRzaWRlSGFuZGxlciIsInBvcHVwQWxpZ24iLCJvblBvcHVwVmlzaWJsZUNoYW5nZSIsInZpc2libGUiLCJkZWxheVMiLCJkZWxheSIsImRlbGF5VGltZXIiLCJjbGVhclRpbWVvdXQiLCJyZW1vdmUiLCJjaGlsZFByb3MiLCJjaGlsZHJlbiIsInNob3dBY3Rpb24iLCJpbmRleE9mIiwiaGlkZUFjdGlvbiIsImFsaWduSW5zdGFuY2UiLCJmb3JjZUFsaWduIiwidHlwZSIsImNoaWxkQ2FsbGJhY2siLCJjYWxsYmFjayIsImNoaWxkIiwiQ2hpbGRyZW4iLCJvbmx5IiwibmV3Q2hpbGRQcm9wcyIsImtleSIsIm9uQ29udGV4dE1lbnUiLCJjcmVhdGVUd29DaGFpbnMiLCJvbkNsaWNrIiwib25Nb3VzZURvd24iLCJvblRvdWNoU3RhcnQiLCJvbkZvY3VzIiwib25CbHVyIiwidHJpZ2dlciIsImZvcmNlUmVuZGVyIiwiZ2V0Q29tcG9uZW50IiwiZ2V0Q29udGFpbmVyIiwicG9ydGFsIiwiaGFuZGxlUG9ydGFsVXBkYXRlIiwiQ29tcG9uZW50IiwiUHJvcFR5cGVzIiwiYW55Iiwib25lT2ZUeXBlIiwic3RyaW5nIiwiYXJyYXlPZiIsImZ1bmMiLCJpc1JlcXVpcmVkIiwib2JqZWN0IiwibnVtYmVyIiwiYm9vbCIsIm5vb3AiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsU0FBU0EsaUJBQVQsR0FBNkI7QUFDM0IsU0FBTyxFQUFQO0FBQ0Q7O0FBRUQsU0FBU0MsY0FBVCxHQUEwQjtBQUN4QixTQUFPQyxNQUFNLENBQUNDLFFBQWQ7QUFDRDs7QUFFRCxJQUFNQyxZQUFZLEdBQUcsQ0FBQyxTQUFELEVBQVksYUFBWixFQUEyQixjQUEzQixFQUEyQyxjQUEzQyxFQUNuQixjQURtQixFQUNILFNBREcsRUFDUSxRQURSLEVBQ2tCLGVBRGxCLENBQXJCO0FBR0EsSUFBTUMsV0FBVyxHQUFHLENBQUMsQ0FBQ0Msc0JBQXRCOztJQUVxQkMsTzs7Ozs7OztBQXNFbkIsbUJBQVlDLE1BQVosRUFBbUI7QUFBQTs7QUFBQTtBQUNqQiw4QkFBTUEsTUFBTjtBQURpQixxR0EyRkosVUFBQ0MsQ0FBRCxFQUFPO0FB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LEVBQUFBLGVBQWUsRUFBRSxHQVRHO0FBVXBCVSxFQUFBQSxVQUFVLEVBQUUsQ0FWUTtBQVdwQkksRUFBQUEsU0FBUyxFQUFFLElBWFM7QUFZcEJtQyxFQUFBQSxVQUFVLEVBQUUsRUFaUTtBQWFwQk4sRUFBQUEsa0JBQWtCLEVBQUUsS0FiQTtBQWNwQnVELEVBQUFBLFVBQVUsRUFBRSxFQWRRO0FBZXBCbEIsRUFBQUEsbUJBQW1CLEVBQUUsS0FmRDtBQWdCcEJuRCxFQUFBQSxJQUFJLEVBQUUsS0FoQmM7QUFpQnBCQyxFQUFBQSxZQUFZLEVBQUUsSUFqQk07QUFrQnBCZSxFQUFBQSxNQUFNLEVBQUUsRUFsQlk7QUFtQnBCK0QsRUFBQUEsVUFBVSxFQUFFLEVBbkJRO0FBb0JwQkUsRUFBQUEsVUFBVSxFQUFFO0FBcEJRLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ2hpbGRyZW4sIGNsb25lRWxlbWVudCwgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCwgZmluZERPTU5vZGUgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IG5vb3AgZnJvbSAnbG9kYXNoL25vb3AnO1xuaW1wb3J0IGNvbnRhaW5zIGZyb20gJy4uL3V0aWwvRG9tL2NvbnRhaW5zJztcbmltcG9ydCBhZGRFdmVudExpc3RlbmVyIGZyb20gJy4uLy4uL191dGlsL2FkZEV2ZW50TGlzdGVuZXInO1xuaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAnO1xuaW1wb3J0IHsgZ2V0QWxpZ25Gcm9tUGxhY2VtZW50LCBnZXRQb3B1cENsYXNzTmFtZUZyb21BbGlnbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IENvbnRhaW5lclJlbmRlciBmcm9tICcuLi91dGlsL0NvbnRhaW5lclJlbmRlcic7XG5pbXBvcnQgUG9ydGFsIGZyb20gJy4uL3V0aWwvUG9ydGFsJztcblxuZnVuY3Rpb24gcmV0dXJuRW1wdHlTdHJpbmcoKSB7XG4gIHJldHVybiAnJztcbn1cblxuZnVuY3Rpb24gcmV0dXJuRG9jdW1lbnQoKSB7XG4gIHJldHVybiB3aW5kb3cuZG9jdW1lbnQ7XG59XG5cbmNvbnN0IEFMTF9IQU5ETEVSUyA9IFsnb25DbGljaycsICdvbk1vdXNlRG93bicsICdvblRvdWNoU3RhcnQnLCAnb25Nb3VzZUVudGVyJyxcbiAgJ29uTW91c2VMZWF2ZScsICdvbkZvY3VzJywgJ29uQmx1cicsICdvbkNvbnRleHRNZW51J107XG5cbmNvbnN0IElTX1JFQUNUXzE2ID0gISFjcmVhdGVQb3J0YWw7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyaWdnZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuYW55LFxuICAgIGFjdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyldKSxcbiAgICBzaG93QWN0aW9uOiBQcm9wVHlwZXMuYW55LFxuICAgIGhpZGVBY3Rpb246IFByb3BUeXBlcy5hbnksXG4gICAgZ2V0UG9wdXBDbGFzc05hbWVGcm9tQWxpZ246IFByb3BUeXBlcy5hbnksXG4gICAgb25Qb3B1cFZpc2libGVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIGFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBwb3B1cDogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICBQcm9wVHlwZXMubm9kZSxcbiAgICAgIFByb3BUeXBlcy5mdW5jLFxuICAgIF0pLmlzUmVxdWlyZWQsXG4gICAgcG9wdXBTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwcmVmaXhDbHM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgcG9wdXBDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgcG9wdXBQbGFjZW1lbnQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgYnVpbHRpblBsYWNlbWVudHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgcG9wdXBUcmFuc2l0aW9uTmFtZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgUHJvcFR5cGVzLm9iamVjdCxcbiAgICBdKSxcbiAgICBwb3B1cEFuaW1hdGlvbjogUHJvcFR5cGVzLmFueSxcbiAgICBtb3VzZUVudGVyRGVsYXk6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgbW91c2VMZWF2ZURlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHpJbmRleDogUHJvcFR5cGVzLm51bWJlcixcbiAgICBmb2N1c0RlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGJsdXJEZWxheTogUHJvcFR5cGVzLm51bWJlcixcbiAgICBnZXRQb3B1cENvbnRhaW5lcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgZ2V0RG9jdW1lbnQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIGdldFJvb3REb21Ob2RlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBmb3JjZVJlbmRlcjogUHJvcFR5cGVzLmJvb2wsXG4gICAgZGVzdHJveVBvcHVwT25IaWRlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBtYXNrOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBtYXNrQ2xvc2FibGU6IFByb3BUeXBlcy5ib29sLFxuICAgIG9uUG9wdXBBbGlnbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgcG9wdXBBbGlnbjogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwb3B1cFZpc2libGU6IFByb3BUeXBlcy5ib29sLFxuICAgIGRlZmF1bHRQb3B1cFZpc2libGU6IFByb3BUeXBlcy5ib29sLFxuICAgIG1hc2tUcmFuc2l0aW9uTmFtZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgUHJvcFR5cGVzLm9iamVjdCxcbiAgICBdKSxcbiAgICBtYXNrQW5pbWF0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHN0cmV0Y2g6IFByb3BUeXBlcy5zdHJpbmcsXG4gIH07XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdyYy10cmlnZ2VyLXBvcHVwJyxcbiAgICBnZXRQb3B1cENsYXNzTmFtZUZyb21BbGlnbjogcmV0dXJuRW1wdHlTdHJpbmcsXG4gICAgZ2V0RG9jdW1lbnQ6IHJldHVybkRvY3VtZW50LFxuICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiBub29wLFxuICAgIGFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlOiBub29wLFxuICAgIG9uUG9wdXBBbGlnbjogbm9vcCxcbiAgICBwb3B1cENsYXNzTmFtZTogJycsXG4gICAgbW91c2VFbnRlckRlbGF5OiAwLFxuICAgIG1vdXNlTGVhdmVEZWxheTogMC4xLFxuICAgIGZvY3VzRGVsYXk6IDAsXG4gICAgYmx1ckRlbGF5OiAwLjE1LFxuICAgIHBvcHVwU3R5bGU6IHt9LFxuICAgIGRlc3Ryb3lQb3B1cE9uSGlkZTogZmFsc2UsXG4gICAgcG9wdXBBbGlnbjoge30sXG4gICAgZGVmYXVsdFBvcHVwVmlzaWJsZTogZmFsc2UsXG4gICAgbWFzazogZmFsc2UsXG4gICAgbWFza0Nsb3NhYmxlOiB0cnVlLFxuICAgIGFjdGlvbjogW10sXG4gICAgc2hvd0FjdGlvbjogW10sXG4gICAgaGlkZUFjdGlvbjogW10sXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBsZXQgcG9wdXBWaXNpYmxlO1xuICAgIGlmICgncG9wdXBWaXNpYmxlJyBpbiBwcm9wcykge1xuICAgICAgcG9wdXBWaXNpYmxlID0gISFwcm9wcy5wb3B1cFZpc2libGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvcHVwVmlzaWJsZSA9ICEhcHJvcHMuZGVmYXVsdFBvcHVwVmlzaWJsZTtcbiAgICB9XG5cbiAgICB0aGlzLnByZXZQb3B1cFZpc2libGUgPSBwb3B1cFZpc2libGU7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgcG9wdXBWaXNpYmxlLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgQUxMX0hBTkRMRVJTLmZvckVhY2goKGgpID0+IHtcbiAgICAgIHRoaXNbYGZpcmUke2h9YF0gPSAoZSkgPT4ge1xuICAgICAgICB0aGlzLmZpcmVFdmVudHMoaCwgZSk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5jb21wb25lbnREaWRVcGRhdGUoe30sIHtcbiAgICAgIHBvcHVwVmlzaWJsZTogdGhpcy5zdGF0ZS5wb3B1cFZpc2libGUsXG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHsgcG9wdXBWaXNpYmxlIH0pIHtcbiAgICBpZiAocG9wdXBWaXNpYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwb3B1cFZpc2libGUsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoXywgcHJldlN0YXRlKSB7XG4gICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB0cmlnZ2VyQWZ0ZXJQb3B1cFZpc2libGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAocHJldlN0YXRlLnBvcHVwVmlzaWJsZSAhPT0gc3RhdGUucG9wdXBWaXNpYmxlKSB7XG4gICAgICAgIHByb3BzLmFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlKHN0YXRlLnBvcHVwVmlzaWJsZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoIUlTX1JFQUNUXzE2KSB7XG4gICAgICB0aGlzLnJlbmRlckNvbXBvbmVudChudWxsLCB0cmlnZ2VyQWZ0ZXJQb3B1cFZpc2libGVDaGFuZ2UpO1xuICAgIH1cblxuICAgIHRoaXMucHJldlBvcHVwVmlzaWJsZSA9IHByZXZTdGF0ZS5wb3B1cFZpc2libGU7XG5cbiAgICAvLyBXZSBtdXN0IGxpc3RlbiB0byBgbW91c2Vkb3duYCBvciBgdG91Y2hzdGFydGAsIGVkZ2UgY2FzZTpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtY29tcG9uZW50L2NhbGVuZGFyL2lzc3Vlcy8yNTBcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtY29tcG9uZW50L3RyaWdnZXIvaXNzdWVzLzUwXG4gICAgaWYgKHN0YXRlLnBvcHVwVmlzaWJsZSkge1xuICAgICAgbGV0IGN1cnJlbnREb2N1bWVudDtcbiAgICAgIGlmICghdGhpcy5jbGlja091dHNpZGVIYW5kbGVyICYmICh0aGlzLmlzQ2xpY2tUb0hpZGUoKSB8fCB0aGlzLmlzQ29udGV4dE1lbnVUb1Nob3coKSkpIHtcbiAgICAgICAgY3VycmVudERvY3VtZW50ID0gcHJvcHMuZ2V0RG9jdW1lbnQoKTtcbiAgICAgICAgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyID0gYWRkRXZlbnRMaXN0ZW5lcihjdXJyZW50RG9jdW1lbnQsXG4gICAgICAgICAgJ21vdXNlZG93bicsIHRoaXMub25Eb2N1bWVudENsaWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIGFsd2F5cyBoaWRlIG9uIG1vYmlsZVxuICAgICAgaWYgKCF0aGlzLnRvdWNoT3V0c2lkZUhhbmRsZXIpIHtcbiAgICAgICAgY3VycmVudERvY3VtZW50ID0gY3VycmVudERvY3VtZW50IHx8IHByb3BzLmdldERvY3VtZW50KCk7XG4gICAgICAgIHRoaXMudG91Y2hPdXRzaWRlSGFuZGxlciA9IGFkZEV2ZW50TGlzdGVuZXIoY3VycmVudERvY3VtZW50LFxuICAgICAgICAgICd0b3VjaHN0YXJ0JywgdGhpcy5vbkRvY3VtZW50Q2xpY2spO1xuICAgICAgfVxuICAgICAgLy8gY2xvc2UgcG9wdXAgd2hlbiB0cmlnZ2VyIHR5cGUgY29udGFpbnMgJ29uQ29udGV4dE1lbnUnIGFuZCBkb2N1bWVudCBpcyBzY3JvbGxpbmcuXG4gICAgICBpZiAoIXRoaXMuY29udGV4dE1lbnVPdXRzaWRlSGFuZGxlcjEgJiYgdGhpcy5pc0NvbnRleHRNZW51VG9TaG93KCkpIHtcbiAgICAgICAgY3VycmVudERvY3VtZW50ID0gY3VycmVudERvY3VtZW50IHx8IHByb3BzLmdldERvY3VtZW50KCk7XG4gICAgICAgIHRoaXMuY29udGV4dE1lbnVPdXRzaWRlSGFuZGxlcjEgPSBhZGRFdmVudExpc3RlbmVyKGN1cnJlbnREb2N1bWVudCxcbiAgICAgICAgICAnc2Nyb2xsJywgdGhpcy5vbkNvbnRleHRNZW51Q2xvc2UpO1xuICAgICAgfVxuICAgICAgLy8gY2xvc2UgcG9wdXAgd2hlbiB0cmlnZ2VyIHR5cGUgY29udGFpbnMgJ29uQ29udGV4dE1lbnUnIGFuZCB3aW5kb3cgaXMgYmx1ci5cbiAgICAgIGlmICghdGhpcy5jb250ZXh0TWVudU91dHNpZGVIYW5kbGVyMiAmJiB0aGlzLmlzQ29udGV4dE1lbnVUb1Nob3coKSkge1xuICAgICAgICB0aGlzLmNvbnRleHRNZW51T3V0c2lkZUhhbmRsZXIyID0gYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csXG4gICAgICAgICAgJ2JsdXInLCB0aGlzLm9uQ29udGV4dE1lbnVDbG9zZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jbGVhck91dHNpZGVIYW5kbGVyKCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLmNsZWFyRGVsYXlUaW1lcigpO1xuICAgIHRoaXMuY2xlYXJPdXRzaWRlSGFuZGxlcigpO1xuICB9XG5cbiAgb25Nb3VzZUVudGVyID0gKGUpID0+IHtcbiAgICB0aGlzLmZpcmVFdmVudHMoJ29uTW91c2VFbnRlcicsIGUpO1xuICAgIHRoaXMuZGVsYXlTZXRQb3B1cFZpc2libGUodHJ1ZSwgdGhpcy5wcm9wcy5tb3VzZUVudGVyRGVsYXkpO1xuICB9O1xuXG4gIG9uTW91c2VMZWF2ZSA9IChlKSA9PiB7XG4gICAgdGhpcy5maXJlRXZlbnRzKCdvbk1vdXNlTGVhdmUnLCBlKTtcbiAgICB0aGlzLmRlbGF5U2V0UG9wdXBWaXNpYmxlKGZhbHNlLCB0aGlzLnByb3BzLm1vdXNlTGVhdmVEZWxheSk7XG4gIH07XG5cbiAgb25Qb3B1cE1vdXNlRW50ZXIgPSAoKSA9PiB7XG4gICAgdGhpcy5jbGVhckRlbGF5VGltZXIoKTtcbiAgfTtcblxuICBvblBvcHVwTW91c2VMZWF2ZSA9IChlKSA9PiB7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWNvbXBvbmVudC90cmlnZ2VyL3B1bGwvMTNcbiAgICAvLyByZWFjdCBidWc/XG4gICAgaWYgKGUucmVsYXRlZFRhcmdldCAmJiAhZS5yZWxhdGVkVGFyZ2V0LnNldFRpbWVvdXQgJiZcbiAgICAgIHRoaXMuX2NvbXBvbmVudCAmJlxuICAgICAgdGhpcy5fY29tcG9uZW50LmdldFBvcHVwRG9tTm9kZSAmJlxuICAgICAgY29udGFpbnModGhpcy5fY29tcG9uZW50LmdldFBvcHVwRG9tTm9kZSgpLCBlLnJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZGVsYXlTZXRQb3B1cFZpc2libGUoZmFsc2UsIHRoaXMucHJvcHMubW91c2VMZWF2ZURlbGF5KTtcbiAgfTtcblxuICBvbkZvY3VzID0gKGUpID0+IHtcbiAgICB0aGlzLmZpcmVFdmVudHMoJ29uRm9jdXMnLCBlKTtcbiAgICAvLyBpbmNhc2UgZm9jdXNpbiBhbmQgZm9jdXNvdXRcbiAgICB0aGlzLmNsZWFyRGVsYXlUaW1lcigpO1xuICAgIGlmICh0aGlzLmlzRm9jdXNUb1Nob3coKSkge1xuICAgICAgdGhpcy5mb2N1c1RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5kZWxheVNldFBvcHVwVmlzaWJsZSh0cnVlLCB0aGlzLnByb3BzLmZvY3VzRGVsYXkpO1xuICAgIH1cbiAgfTtcblxuICBvbk1vdXNlRG93biA9IChlKSA9PiB7XG4gICAgdGhpcy5maXJlRXZlbnRzKCdvbk1vdXNlRG93bicsIGUpO1xuICAgIHRoaXMucHJlQ2xpY2tUaW1lID0gRGF0ZS5ub3coKTtcbiAgfTtcblxuICBvblRvdWNoU3RhcnQgPSAoZSkgPT4ge1xuICAgIHRoaXMuZmlyZUV2ZW50cygnb25Ub3VjaFN0YXJ0JywgZSk7XG4gICAgdGhpcy5wcmVUb3VjaFRpbWUgPSBEYXRlLm5vdygpO1xuICB9O1xuXG4gIG9uQmx1ciA9IChlKSA9PiB7XG4gICAgdGhpcy5maXJlRXZlbnRzKCdvbkJsdXInLCBlKTtcbiAgICB0aGlzLmNsZWFyRGVsYXlUaW1lcigpO1xuICAgIGlmICh0aGlzLmlzQmx1clRvSGlkZSgpKSB7XG4gICAgICB0aGlzLmRlbGF5U2V0UG9wdXBWaXNpYmxlKGZhbHNlLCB0aGlzLnByb3BzLmJsdXJEZWxheSk7XG4gICAgfVxuICB9O1xuXG4gIG9uQ29udGV4dE1lbnUgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmZpcmVFdmVudHMoJ29uQ29udGV4dE1lbnUnLCBlKTtcbiAgICB0aGlzLnNldFBvcHVwVmlzaWJsZSh0cnVlKTtcbiAgfTtcblxuICBvbkNvbnRleHRNZW51Q2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNDb250ZXh0TWVudVRvU2hvdygpKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIG9uQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmZpcmVFdmVudHMoJ29uQ2xpY2snLCBldmVudCk7XG4gICAgLy8gZm9jdXMgd2lsbCB0cmlnZ2VyIGNsaWNrXG4gICAgaWYgKHRoaXMuZm9jdXNUaW1lKSB7XG4gICAgICBsZXQgcHJlVGltZTtcbiAgICAgIGlmICh0aGlzLnByZUNsaWNrVGltZSAmJiB0aGlzLnByZVRvdWNoVGltZSkge1xuICAgICAgICBwcmVUaW1lID0gTWF0aC5taW4odGhpcy5wcmVDbGlja1RpbWUsIHRoaXMucHJlVG91Y2hUaW1lKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmVDbGlja1RpbWUpIHtcbiAgICAgICAgcHJlVGltZSA9IHRoaXMucHJlQ2xpY2tUaW1lO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnByZVRvdWNoVGltZSkge1xuICAgICAgICBwcmVUaW1lID0gdGhpcy5wcmVUb3VjaFRpbWU7XG4gICAgICB9XG4gICAgICBpZiAoTWF0aC5hYnMocHJlVGltZSAtIHRoaXMuZm9jdXNUaW1lKSA8IDIwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZm9jdXNUaW1lID0gMDtcbiAgICB9XG4gICAgdGhpcy5wcmVDbGlja1RpbWUgPSAwO1xuICAgIHRoaXMucHJlVG91Y2hUaW1lID0gMDtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG5leHRWaXNpYmxlID0gIXRoaXMuc3RhdGUucG9wdXBWaXNpYmxlO1xuICAgIGlmICh0aGlzLmlzQ2xpY2tUb0hpZGUoKSAmJiAhbmV4dFZpc2libGUgfHwgbmV4dFZpc2libGUgJiYgdGhpcy5pc0NsaWNrVG9TaG93KCkpIHtcbiAgICAgIHRoaXMuc2V0UG9wdXBWaXNpYmxlKCF0aGlzLnN0YXRlLnBvcHVwVmlzaWJsZSk7XG4gICAgfVxuICB9O1xuXG4gIG9uRG9jdW1lbnRDbGljayA9IChldmVudCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLm1hc2sgJiYgIXRoaXMucHJvcHMubWFza0Nsb3NhYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCByb290ID0gZmluZERPTU5vZGUodGhpcyk7XG4gICAgY29uc3QgcG9wdXBOb2RlID0gdGhpcy5nZXRQb3B1cERvbU5vZGUoKTtcbiAgICBpZiAoIWNvbnRhaW5zKHJvb3QsIHRhcmdldCkgJiYgIWNvbnRhaW5zKHBvcHVwTm9kZSwgdGFyZ2V0KSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBnZXRQb3B1cERvbU5vZGUoKSB7XG4gICAgLy8gZm9yIHRlc3RcbiAgICBpZiAodGhpcy5fY29tcG9uZW50ICYmIHRoaXMuX2NvbXBvbmVudC5nZXRQb3B1cERvbU5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb21wb25lbnQuZ2V0UG9wdXBEb21Ob2RlKCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0Um9vdERvbU5vZGUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRSb290RG9tTm9kZSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZ2V0Um9vdERvbU5vZGUpIHtcbiAgICAgIHJldHVybiBnZXRSb290RG9tTm9kZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmluZERPTU5vZGUodGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIGdldFBvcHVwQ2xhc3NGcm9tQWxpZ24gPSAoYWxpZ24pID0+IHtcbiAgICBjb25zdCBjbGFzc05hbWUgPSBbXTtcbiAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBwb3B1cFBsYWNlbWVudCwgYnVpbHRpblBsYWNlbWVudHMsIHByZWZpeENscyB9ID0gcHJvcHM7XG4gICAgaWYgKHBvcHVwUGxhY2VtZW50ICYmIGJ1aWx0aW5QbGFjZW1lbnRzKSB7XG4gICAgICBjbGFzc05hbWUucHVzaChnZXRQb3B1cENsYXNzTmFtZUZyb21BbGlnbihidWlsdGluUGxhY2VtZW50cywgcHJlZml4Q2xzLCBhbGlnbikpO1xuICAgIH1cbiAgICBpZiAocHJvcHMuZ2V0UG9wdXBDbGFzc05hbWVGcm9tQWxpZ24pIHtcbiAgICAgIGNsYXNzTmFtZS5wdXNoKHByb3BzLmdldFBvcHVwQ2xhc3NOYW1lRnJvbUFsaWduKGFsaWduKSk7XG4gICAgfVxuICAgIHJldHVybiBjbGFzc05hbWUuam9pbignICcpO1xuICB9O1xuXG4gIGdldFBvcHVwQWxpZ24oKSB7XG4gICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgcG9wdXBQbGFjZW1lbnQsIHBvcHVwQWxpZ24sIGJ1aWx0aW5QbGFjZW1lbnRzIH0gPSBwcm9wcztcbiAgICBpZiAocG9wdXBQbGFjZW1lbnQgJiYgYnVpbHRpblBsYWNlbWVudHMpIHtcbiAgICAgIHJldHVybiBnZXRBbGlnbkZyb21QbGFjZW1lbnQoYnVpbHRpblBsYWNlbWVudHMsIHBvcHVwUGxhY2VtZW50LCBwb3B1cEFsaWduKTtcbiAgICB9XG4gICAgcmV0dXJuIHBvcHVwQWxpZ247XG4gIH1cblxuICBnZXRDb21wb25lbnQgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgcHJlZml4Q2xzLCBkZXN0cm95UG9wdXBPbkhpZGUsIHBvcHVwQ2xhc3NOYW1lLCBhY3Rpb24sXG4gICAgICBvblBvcHVwQWxpZ24sIHBvcHVwQW5pbWF0aW9uLCBwb3B1cFRyYW5zaXRpb25OYW1lLCBwb3B1cFN0eWxlLFxuICAgICAgbWFzaywgbWFza0FuaW1hdGlvbiwgbWFza1RyYW5zaXRpb25OYW1lLCB6SW5kZXgsIHBvcHVwLCBzdHJldGNoLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG5cbiAgICBjb25zdCBhbGlnbiA9IHRoaXMuZ2V0UG9wdXBBbGlnbigpO1xuXG4gICAgY29uc3QgbW91c2VQcm9wcyA9IHt9O1xuICAgIGlmICh0aGlzLmlzTW91c2VFbnRlclRvU2hvdygpKSB7XG4gICAgICBtb3VzZVByb3BzLm9uTW91c2VFbnRlciA9IHRoaXMub25Qb3B1cE1vdXNlRW50ZXI7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzTW91c2VMZWF2ZVRvSGlkZSgpKSB7XG4gICAgICBtb3VzZVByb3BzLm9uTW91c2VMZWF2ZSA9IHRoaXMub25Qb3B1cE1vdXNlTGVhdmU7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQb3B1cFxuICAgICAgICBwcmVmaXhDbHM9e3ByZWZpeENsc31cbiAgICAgICAgZGVzdHJveVBvcHVwT25IaWRlPXtkZXN0cm95UG9wdXBPbkhpZGV9XG4gICAgICAgIHZpc2libGU9e3N0YXRlLnBvcHVwVmlzaWJsZX1cbiAgICAgICAgY2xhc3NOYW1lPXtwb3B1cENsYXNzTmFtZX1cbiAgICAgICAgYWN0aW9uPXthY3Rpb259XG4gICAgICAgIGFsaWduPXthbGlnbn1cbiAgICAgICAgb25BbGlnbj17b25Qb3B1cEFsaWdufVxuICAgICAgICBhbmltYXRpb249e3BvcHVwQW5pbWF0aW9ufVxuICAgICAgICBnZXRDbGFzc05hbWVGcm9tQWxpZ249e3RoaXMuZ2V0UG9wdXBDbGFzc0Zyb21BbGlnbn1cbiAgICAgICAgey4uLm1vdXNlUHJvcHN9XG4gICAgICAgIHN0cmV0Y2g9e3N0cmV0Y2h9XG4gICAgICAgIGdldFJvb3REb21Ob2RlPXt0aGlzLmdldFJvb3REb21Ob2RlfVxuICAgICAgICBzdHlsZT17cG9wdXBTdHlsZX1cbiAgICAgICAgbWFzaz17bWFza31cbiAgICAgICAgekluZGV4PXt6SW5kZXh9XG4gICAgICAgIHRyYW5zaXRpb25OYW1lPXtwb3B1cFRyYW5zaXRpb25OYW1lfVxuICAgICAgICBtYXNrQW5pbWF0aW9uPXttYXNrQW5pbWF0aW9ufVxuICAgICAgICBtYXNrVHJhbnNpdGlvbk5hbWU9e21hc2tUcmFuc2l0aW9uTmFtZX1cbiAgICAgICAgcmVmPXt0aGlzLnNhdmVQb3B1cH1cbiAgICAgID5cbiAgICAgICAge3R5cGVvZiBwb3B1cCA9PT0gJ2Z1bmN0aW9uJyA/IHBvcHVwKCkgOiBwb3B1cH1cbiAgICAgIDwvUG9wdXA+XG4gICAgKTtcbiAgfTtcblxuICBnZXRDb250YWluZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCBwb3B1cENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIC8vIE1ha2Ugc3VyZSBkZWZhdWx0IHBvcHVwIGNvbnRhaW5lciB3aWxsIG5ldmVyIGNhdXNlIHNjcm9sbGJhciBhcHBlYXJpbmdcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtY29tcG9uZW50L3RyaWdnZXIvaXNzdWVzLzQxXG4gICAgcG9wdXBDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHBvcHVwQ29udGFpbmVyLnN0eWxlLnRvcCA9ICcwJztcbiAgICBwb3B1cENvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgIHBvcHVwQ29udGFpbmVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGNvbnN0IG1vdW50Tm9kZSA9IHByb3BzLmdldFBvcHVwQ29udGFpbmVyID8gcHJvcHMuZ2V0UG9wdXBDb250YWluZXIoZmluZERPTU5vZGUodGhpcykpIDogcHJvcHMuZ2V0RG9jdW1lbnQoKS5ib2R5O1xuICAgIG1vdW50Tm9kZS5hcHBlbmRDaGlsZChwb3B1cENvbnRhaW5lcik7XG4gICAgcmV0dXJuIHBvcHVwQ29udGFpbmVyO1xuICB9O1xuXG4gIHNldFBvcHVwVmlzaWJsZShwb3B1cFZpc2libGUpIHtcbiAgICB0aGlzLmNsZWFyRGVsYXlUaW1lcigpO1xuICAgIGlmICh0aGlzLnN0YXRlLnBvcHVwVmlzaWJsZSAhPT0gcG9wdXBWaXNpYmxlKSB7XG4gICAgICBpZiAoISgncG9wdXBWaXNpYmxlJyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBwb3B1cFZpc2libGUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5wcm9wcy5vblBvcHVwVmlzaWJsZUNoYW5nZShwb3B1cFZpc2libGUpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVBvcnRhbFVwZGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcmV2UG9wdXBWaXNpYmxlICE9PSB0aGlzLnN0YXRlLnBvcHVwVmlzaWJsZSkge1xuICAgICAgdGhpcy5wcm9wcy5hZnRlclBvcHVwVmlzaWJsZUNoYW5nZSh0aGlzLnN0YXRlLnBvcHVwVmlzaWJsZSk7XG4gICAgfVxuICB9O1xuXG4gIGRlbGF5U2V0UG9wdXBWaXNpYmxlKHZpc2libGUsIGRlbGF5Uykge1xuICAgIGNvbnN0IGRlbGF5ID0gZGVsYXlTICogMTAwMDtcbiAgICB0aGlzLmNsZWFyRGVsYXlUaW1lcigpO1xuICAgIGlmIChkZWxheSkge1xuICAgICAgdGhpcy5kZWxheVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0UG9wdXBWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB0aGlzLmNsZWFyRGVsYXlUaW1lcigpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFBvcHVwVmlzaWJsZSh2aXNpYmxlKTtcbiAgICB9XG4gIH1cblxuICBjbGVhckRlbGF5VGltZXIoKSB7XG4gICAgaWYgKHRoaXMuZGVsYXlUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVsYXlUaW1lcik7XG4gICAgICB0aGlzLmRlbGF5VGltZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyT3V0c2lkZUhhbmRsZXIoKSB7XG4gICAgaWYgKHRoaXMuY2xpY2tPdXRzaWRlSGFuZGxlcikge1xuICAgICAgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyLnJlbW92ZSgpO1xuICAgICAgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb250ZXh0TWVudU91dHNpZGVIYW5kbGVyMSkge1xuICAgICAgdGhpcy5jb250ZXh0TWVudU91dHNpZGVIYW5kbGVyMS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuY29udGV4dE1lbnVPdXRzaWRlSGFuZGxlcjEgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbnRleHRNZW51T3V0c2lkZUhhbmRsZXIyKSB7XG4gICAgICB0aGlzLmNvbnRleHRNZW51T3V0c2lkZUhhbmRsZXIyLnJlbW92ZSgpO1xuICAgICAgdGhpcy5jb250ZXh0TWVudU91dHNpZGVIYW5kbGVyMiA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudG91Y2hPdXRzaWRlSGFuZGxlcikge1xuICAgICAgdGhpcy50b3VjaE91dHNpZGVIYW5kbGVyLnJlbW92ZSgpO1xuICAgICAgdGhpcy50b3VjaE91dHNpZGVIYW5kbGVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVUd29DaGFpbnMoZXZlbnQpIHtcbiAgICBjb25zdCBjaGlsZFByb3MgPSB0aGlzLnByb3BzLmNoaWxkcmVuLnByb3BzO1xuICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAoY2hpbGRQcm9zW2V2ZW50XSAmJiBwcm9wc1tldmVudF0pIHtcbiAgICAgIHJldHVybiB0aGlzW2BmaXJlJHtldmVudH1gXTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkUHJvc1tldmVudF0gfHwgcHJvcHNbZXZlbnRdO1xuICB9XG5cbiAgaXNDbGlja1RvU2hvdygpIHtcbiAgICBjb25zdCB7IGFjdGlvbiwgc2hvd0FjdGlvbiB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gYWN0aW9uLmluZGV4T2YoJ2NsaWNrJykgIT09IC0xIHx8IHNob3dBY3Rpb24uaW5kZXhPZignY2xpY2snKSAhPT0gLTE7XG4gIH1cblxuICBpc0NvbnRleHRNZW51VG9TaG93KCkge1xuICAgIGNvbnN0IHsgYWN0aW9uLCBzaG93QWN0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBhY3Rpb24uaW5kZXhPZignY29udGV4dE1lbnUnKSAhPT0gLTEgfHwgc2hvd0FjdGlvbi5pbmRleE9mKCdjb250ZXh0TWVudScpICE9PSAtMTtcbiAgfVxuXG4gIGlzQ2xpY2tUb0hpZGUoKSB7XG4gICAgY29uc3QgeyBhY3Rpb24sIGhpZGVBY3Rpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIGFjdGlvbi5pbmRleE9mKCdjbGljaycpICE9PSAtMSB8fCBoaWRlQWN0aW9uLmluZGV4T2YoJ2NsaWNrJykgIT09IC0xO1xuICB9XG5cbiAgaXNNb3VzZUVudGVyVG9TaG93KCkge1xuICAgIGNvbnN0IHsgYWN0aW9uLCBzaG93QWN0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBhY3Rpb24uaW5kZXhPZignaG92ZXInKSAhPT0gLTEgfHwgc2hvd0FjdGlvbi5pbmRleE9mKCdtb3VzZUVudGVyJykgIT09IC0xO1xuICB9XG5cbiAgaXNNb3VzZUxlYXZlVG9IaWRlKCkge1xuICAgIGNvbnN0IHsgYWN0aW9uLCBoaWRlQWN0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBhY3Rpb24uaW5kZXhPZignaG92ZXInKSAhPT0gLTEgfHwgaGlkZUFjdGlvbi5pbmRleE9mKCdtb3VzZUxlYXZlJykgIT09IC0xO1xuICB9XG5cbiAgaXNGb2N1c1RvU2hvdygpIHtcbiAgICBjb25zdCB7IGFjdGlvbiwgc2hvd0FjdGlvbiB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gYWN0aW9uLmluZGV4T2YoJ2ZvY3VzJykgIT09IC0xIHx8IHNob3dBY3Rpb24uaW5kZXhPZignZm9jdXMnKSAhPT0gLTE7XG4gIH1cblxuICBpc0JsdXJUb0hpZGUoKSB7XG4gICAgY29uc3QgeyBhY3Rpb24sIGhpZGVBY3Rpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIGFjdGlvbi5pbmRleE9mKCdmb2N1cycpICE9PSAtMSB8fCBoaWRlQWN0aW9uLmluZGV4T2YoJ2JsdXInKSAhPT0gLTE7XG4gIH1cblxuICBmb3JjZVBvcHVwQWxpZ24oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUucG9wdXBWaXNpYmxlICYmIHRoaXMuX2NvbXBvbmVudCAmJiB0aGlzLl9jb21wb25lbnQuYWxpZ25JbnN0YW5jZSkge1xuICAgICAgdGhpcy5fY29tcG9uZW50LmFsaWduSW5zdGFuY2UuZm9yY2VBbGlnbigpO1xuICAgIH1cbiAgfVxuXG4gIGZpcmVFdmVudHModHlwZSwgZSkge1xuICAgIGNvbnN0IGNoaWxkQ2FsbGJhY2sgPSB0aGlzLnByb3BzLmNoaWxkcmVuLnByb3BzW3R5cGVdO1xuICAgIGlmIChjaGlsZENhbGxiYWNrKSB7XG4gICAgICBjaGlsZENhbGxiYWNrKGUpO1xuICAgIH1cbiAgICBjb25zdCBjYWxsYmFjayA9IHRoaXMucHJvcHNbdHlwZV07XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjayhlKTtcbiAgICB9XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLnNldFBvcHVwVmlzaWJsZShmYWxzZSk7XG4gIH1cblxuICBzYXZlUG9wdXAgPSAobm9kZSkgPT4ge1xuICAgIHRoaXMuX2NvbXBvbmVudCA9IG5vZGU7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9wdXBWaXNpYmxlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkID0gQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XG4gICAgY29uc3QgbmV3Q2hpbGRQcm9wcyA9IHsga2V5OiAndHJpZ2dlcicgfTtcblxuICAgIGlmICh0aGlzLmlzQ29udGV4dE1lbnVUb1Nob3coKSkge1xuICAgICAgbmV3Q2hpbGRQcm9wcy5vbkNvbnRleHRNZW51ID0gdGhpcy5vbkNvbnRleHRNZW51O1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdDaGlsZFByb3BzLm9uQ29udGV4dE1lbnUgPSB0aGlzLmNyZWF0ZVR3b0NoYWlucygnb25Db250ZXh0TWVudScpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzQ2xpY2tUb0hpZGUoKSB8fCB0aGlzLmlzQ2xpY2tUb1Nob3coKSkge1xuICAgICAgbmV3Q2hpbGRQcm9wcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrO1xuICAgICAgbmV3Q2hpbGRQcm9wcy5vbk1vdXNlRG93biA9IHRoaXMub25Nb3VzZURvd247XG4gICAgICBuZXdDaGlsZFByb3BzLm9uVG91Y2hTdGFydCA9IHRoaXMub25Ub3VjaFN0YXJ0O1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdDaGlsZFByb3BzLm9uQ2xpY2sgPSB0aGlzLmNyZWF0ZVR3b0NoYWlucygnb25DbGljaycpO1xuICAgICAgbmV3Q2hpbGRQcm9wcy5vbk1vdXNlRG93biA9IHRoaXMuY3JlYXRlVHdvQ2hhaW5zKCdvbk1vdXNlRG93bicpO1xuICAgICAgbmV3Q2hpbGRQcm9wcy5vblRvdWNoU3RhcnQgPSB0aGlzLmNyZWF0ZVR3b0NoYWlucygnb25Ub3VjaFN0YXJ0Jyk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzTW91c2VFbnRlclRvU2hvdygpKSB7XG4gICAgICBuZXdDaGlsZFByb3BzLm9uTW91c2VFbnRlciA9IHRoaXMub25Nb3VzZUVudGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdDaGlsZFByb3BzLm9uTW91c2VFbnRlciA9IHRoaXMuY3JlYXRlVHdvQ2hhaW5zKCdvbk1vdXNlRW50ZXInKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNNb3VzZUxlYXZlVG9IaWRlKCkpIHtcbiAgICAgIG5ld0NoaWxkUHJvcHMub25Nb3VzZUxlYXZlID0gdGhpcy5vbk1vdXNlTGVhdmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0NoaWxkUHJvcHMub25Nb3VzZUxlYXZlID0gdGhpcy5jcmVhdGVUd29DaGFpbnMoJ29uTW91c2VMZWF2ZScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0ZvY3VzVG9TaG93KCkgfHwgdGhpcy5pc0JsdXJUb0hpZGUoKSkge1xuICAgICAgbmV3Q2hpbGRQcm9wcy5vbkZvY3VzID0gdGhpcy5vbkZvY3VzO1xuICAgICAgbmV3Q2hpbGRQcm9wcy5vbkJsdXIgPSB0aGlzLm9uQmx1cjtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3Q2hpbGRQcm9wcy5vbkZvY3VzID0gdGhpcy5jcmVhdGVUd29DaGFpbnMoJ29uRm9jdXMnKTtcbiAgICAgIG5ld0NoaWxkUHJvcHMub25CbHVyID0gdGhpcy5jcmVhdGVUd29DaGFpbnMoJ29uQmx1cicpO1xuICAgIH1cblxuICAgIGNvbnN0IHRyaWdnZXIgPSBjbG9uZUVsZW1lbnQoY2hpbGQsIG5ld0NoaWxkUHJvcHMpO1xuXG4gICAgaWYgKCFJU19SRUFDVF8xNikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbnRhaW5lclJlbmRlclxuICAgICAgICAgIHBhcmVudD17dGhpc31cbiAgICAgICAgICB2aXNpYmxlPXtwb3B1cFZpc2libGV9XG4gICAgICAgICAgYXV0b01vdW50PXtmYWxzZX1cbiAgICAgICAgICBmb3JjZVJlbmRlcj17cHJvcHMuZm9yY2VSZW5kZXJ9XG4gICAgICAgICAgZ2V0Q29tcG9uZW50PXt0aGlzLmdldENvbXBvbmVudH1cbiAgICAgICAgICBnZXRDb250YWluZXI9e3RoaXMuZ2V0Q29udGFpbmVyfVxuICAgICAgICA+XG4gICAgICAgICAgeyh7IHJlbmRlckNvbXBvbmVudCB9KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckNvbXBvbmVudCA9IHJlbmRlckNvbXBvbmVudDtcbiAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyO1xuICAgICAgICAgIH19XG4gICAgICAgIDwvQ29udGFpbmVyUmVuZGVyPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgcG9ydGFsO1xuICAgIC8vIHByZXZlbnQgdW5tb3VudGluZyBhZnRlciBpdCdzIHJlbmRlcmVkXG4gICAgaWYgKHBvcHVwVmlzaWJsZSB8fCB0aGlzLl9jb21wb25lbnQgfHwgcHJvcHMuZm9yY2VSZW5kZXIpIHtcbiAgICAgIHBvcnRhbCA9IChcbiAgICAgICAgPFBvcnRhbFxuICAgICAgICAgIGtleT1cInBvcnRhbFwiXG4gICAgICAgICAgZ2V0Q29udGFpbmVyPXt0aGlzLmdldENvbnRhaW5lcn1cbiAgICAgICAgICBkaWRVcGRhdGU9e3RoaXMuaGFuZGxlUG9ydGFsVXBkYXRlfVxuICAgICAgICA+XG4gICAgICAgICAge3RoaXMuZ2V0Q29tcG9uZW50KCl9XG4gICAgICAgIDwvUG9ydGFsPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW1xuICAgICAgdHJpZ2dlcixcbiAgICAgIHBvcnRhbCxcbiAgICBdO1xuICB9XG59XG4iXX0=