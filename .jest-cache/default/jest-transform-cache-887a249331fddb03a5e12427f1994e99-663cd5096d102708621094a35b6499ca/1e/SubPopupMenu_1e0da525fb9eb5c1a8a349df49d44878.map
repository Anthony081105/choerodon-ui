{"version":3,"sources":["menu/SubPopupMenu.jsx"],"names":["arr","c","state","store","activeKey","props","children","eventKey","found","index","SubPopupMenu","Component","onSelect","PropTypes","onClick","onDeselect","onOpenChange","onDestroy","openTransitionName","openAnimation","openKeys","hidden","parentMenu","getState","setState","func","focusable","multiple","style","defaultActiveFirst","selectedKeys","defaultSelectedKeys","defaultOpenKeys","level","mode","triggerSubMenuAction","inlineIndent","manualRef","itemIcon","expandIcon","prefixCls","className","noop","getActiveKey","nextProps","originalActiveKey","getEventKey","updateActiveKey","keyCode","e","obj","handled","activeItem","KeyCode","callback","key","hover","len","direction","activeIndex","allDisabled","start","i","child","childProps","isActive","newChildProps","renderMenuItem","rootPrefixCls","saveRef","active","onItemHover","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","extraProps","subMenuKey","haveRendered","domProps","role","overflowedIndicator","theme","menuAllProps","transitionAppear","animProps","connected"],"mappings":"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","sourcesContent":["import React, { Children, cloneElement, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport noop from 'lodash/noop';\nimport { connect } from 'mini-store';\nimport KeyCode from '../../_util/KeyCode';\nimport createChainedFunction from '../util/createChainedFunction';\nimport { getKeyFromChildrenIndex, loopMenuItem, menuAllProps } from './util';\nimport DOMWrap from './DOMWrap';\n\nfunction allDisabled(arr) {\n  if (!arr.length) {\n    return true;\n  }\n  return arr.every(c => !!c.props.disabled);\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n  const state = store.getState();\n  store.setState({\n    activeKey: {\n      ...state.activeKey,\n      [menuId]: activeKey,\n    },\n  });\n}\n\nfunction getEventKey(props) {\n  // when eventKey not available ,it's menu and return menu id '0-menu-'\n  return props.eventKey || '0-menu-';\n}\n\nexport function getActiveKey(props, originalActiveKey) {\n  let activeKey = originalActiveKey;\n  const { children, eventKey } = props;\n  if (activeKey) {\n    let found;\n    loopMenuItem(children, (c, i) => {\n      if (c && !c.props.disabled && activeKey === getKeyFromChildrenIndex(c, eventKey, i)) {\n        found = true;\n      }\n    });\n    if (found) {\n      return activeKey;\n    }\n  }\n  activeKey = null;\n  if (props.defaultActiveFirst) {\n    loopMenuItem(children, (c, i) => {\n      if (!activeKey && c && !c.props.disabled) {\n        activeKey = getKeyFromChildrenIndex(c, eventKey, i);\n      }\n    });\n    return activeKey;\n  }\n  return activeKey;\n}\n\nexport function saveRef(c) {\n  if (c) {\n    const index = this.instanceArray.indexOf(c);\n    if (index !== -1) {\n      // update component if it's already inside instanceArray\n      this.instanceArray[index] = c;\n    } else {\n      // add component if it's not in instanceArray yet;\n      this.instanceArray.push(c);\n    }\n  }\n}\n\nexport class SubPopupMenu extends Component {\n  static propTypes = {\n    onSelect: PropTypes.func,\n    onClick: PropTypes.func,\n    onDeselect: PropTypes.func,\n    onOpenChange: PropTypes.func,\n    onDestroy: PropTypes.func,\n    openTransitionName: PropTypes.string,\n    openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    openKeys: PropTypes.arrayOf(PropTypes.string),\n    hidden: PropTypes.bool,\n    children: PropTypes.any,\n    parentMenu: PropTypes.object,\n    eventKey: PropTypes.string,\n    store: PropTypes.shape({\n      getState: PropTypes.func,\n      setState: PropTypes.func,\n    }),\n\n    // adding in refactor\n    focusable: PropTypes.bool,\n    multiple: PropTypes.bool,\n    style: PropTypes.object,\n    defaultActiveFirst: PropTypes.bool,\n    activeKey: PropTypes.string,\n    selectedKeys: PropTypes.arrayOf(PropTypes.string),\n    defaultSelectedKeys: PropTypes.arrayOf(PropTypes.string),\n    defaultOpenKeys: PropTypes.arrayOf(PropTypes.string),\n    level: PropTypes.number,\n    mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n    triggerSubMenuAction: PropTypes.oneOf(['click', 'hover']),\n    inlineIndent: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    manualRef: PropTypes.func,\n    itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  };\n\n  static defaultProps = {\n    prefixCls: 'rc-menu',\n    className: '',\n    mode: 'vertical',\n    level: 1,\n    inlineIndent: 24,\n    hidden: false,\n    focusable: true,\n    style: {},\n    manualRef: noop,\n  };\n\n  constructor(props) {\n    super(props);\n\n    props.store.setState({\n      activeKey: {\n        ...props.store.getState().activeKey,\n        [props.eventKey]: getActiveKey(props, props.activeKey),\n      },\n    });\n\n    this.instanceArray = [];\n  }\n\n  componentDidMount() {\n    // invoke customized ref to expose component to mixin\n    if (this.props.manualRef) {\n      this.props.manualRef(this);\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return !this.props.hidden || !nextProps.hidden;\n  }\n\n  componentDidUpdate() {\n    const props = this.props;\n    const originalActiveKey = 'activeKey' in props ? props.activeKey : props.store.getState().activeKey[getEventKey(props)];\n    const activeKey = getActiveKey(props, originalActiveKey);\n    if (activeKey !== originalActiveKey) {\n      updateActiveKey(props.store, getEventKey(props), activeKey);\n    }\n  }\n\n  // all keyboard events callbacks run from here at first\n  onKeyDown = (e, callback) => {\n    const keyCode = e.keyCode;\n    let handled;\n    this.getFlatInstanceArray().forEach((obj) => {\n      if (obj && obj.props.active && obj.onKeyDown) {\n        handled = obj.onKeyDown(e);\n      }\n    });\n    if (handled) {\n      return 1;\n    }\n    let activeItem = null;\n    if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n      activeItem = this.step(keyCode === KeyCode.UP ? -1 : 1);\n    }\n    if (activeItem) {\n      e.preventDefault();\n      updateActiveKey(this.props.store, getEventKey(this.props), activeItem.props.eventKey);\n\n      if (typeof callback === 'function') {\n        callback(activeItem);\n      }\n\n      return 1;\n    }\n  };\n\n  onItemHover = (e) => {\n    const { key, hover } = e;\n    updateActiveKey(this.props.store, getEventKey(this.props), hover ? key : null);\n  };\n\n  onDeselect = (selectInfo) => {\n    this.props.onDeselect(selectInfo);\n  };\n\n  onSelect = (selectInfo) => {\n    this.props.onSelect(selectInfo);\n  };\n\n  onClick = (e) => {\n    this.props.onClick(e);\n  };\n\n  onOpenChange = (e) => {\n    this.props.onOpenChange(e);\n  };\n\n  onDestroy = (key) => {\n    /* istanbul ignore next */\n    this.props.onDestroy(key);\n  };\n\n  getFlatInstanceArray = () => {\n    return this.instanceArray;\n  };\n\n  getOpenTransitionName = () => {\n    return this.props.openTransitionName;\n  };\n\n  step = (direction) => {\n    let children = this.getFlatInstanceArray();\n    const activeKey = this.props.store.getState().activeKey[getEventKey(this.props)];\n    const len = children.length;\n    if (!len) {\n      return null;\n    }\n    if (direction < 0) {\n      children = children.concat().reverse();\n    }\n    // find current activeIndex\n    let activeIndex = -1;\n    children.every((c, ci) => {\n      if (c && c.props.eventKey === activeKey) {\n        activeIndex = ci;\n        return false;\n      }\n      return true;\n    });\n    if (\n      !this.props.defaultActiveFirst && activeIndex !== -1\n      &&\n      allDisabled(children.slice(activeIndex, len - 1))\n    ) {\n      return undefined;\n    }\n    const start = (activeIndex + 1) % len;\n    let i = start;\n\n    do {\n      const child = children[i];\n      if (!child || child.props.disabled) {\n        i = (i + 1) % len;\n      } else {\n        return child;\n      }\n    } while (i !== start);\n\n    return null;\n  };\n\n  renderCommonMenuItem = (child, i, extraProps) => {\n    const state = this.props.store.getState();\n    const props = this.props;\n    const key = getKeyFromChildrenIndex(child, props.eventKey, i);\n    const childProps = child.props;\n    const isActive = key === state.activeKey;\n    const newChildProps = {\n      mode: childProps.mode || props.mode,\n      level: props.level,\n      inlineIndent: props.inlineIndent,\n      renderMenuItem: this.renderMenuItem,\n      rootPrefixCls: props.prefixCls,\n      index: i,\n      parentMenu: props.parentMenu,\n      // customized ref function, need to be invoked manually in child's componentDidMount\n      manualRef: childProps.disabled ? undefined : createChainedFunction(child.ref, saveRef.bind(this)),\n      eventKey: key,\n      active: !childProps.disabled && isActive,\n      multiple: props.multiple,\n      onClick: (e) => {\n        (childProps.onClick || noop)(e);\n        this.onClick(e);\n      },\n      onItemHover: this.onItemHover,\n      openTransitionName: this.getOpenTransitionName(),\n      openAnimation: props.openAnimation,\n      subMenuOpenDelay: props.subMenuOpenDelay,\n      subMenuCloseDelay: props.subMenuCloseDelay,\n      forceSubMenuRender: props.forceSubMenuRender,\n      onOpenChange: this.onOpenChange,\n      onDeselect: this.onDeselect,\n      onSelect: this.onSelect,\n      builtinPlacements: props.builtinPlacements,\n      itemIcon: childProps.itemIcon || this.props.itemIcon,\n      expandIcon: childProps.expandIcon || this.props.expandIcon,\n      ...extraProps,\n    };\n    if (props.mode === 'inline') {\n      newChildProps.triggerSubMenuAction = 'click';\n    }\n    return cloneElement(child, newChildProps);\n  };\n\n  renderMenuItem = (c, i, subMenuKey) => {\n    /* istanbul ignore if */\n    if (!c) {\n      return null;\n    }\n    const props = this.props;\n    const extraProps = {\n      openKeys: props.openKeys,\n      selectedKeys: props.selectedKeys,\n      triggerSubMenuAction: props.triggerSubMenuAction,\n      subMenuKey,\n    };\n    return this.renderCommonMenuItem(c, i, extraProps);\n  };\n\n  render() {\n    const { ...props } = this.props;\n\n    this.instanceArray = [];\n    const className = classNames(\n      props.prefixCls,\n      props.className,\n      `${props.prefixCls}-${props.mode}`,\n    );\n    const haveRendered = this.haveRendered;\n    this.haveRendered = true;\n    this.haveOpened = this.haveOpened || !props.hidden || props.forceSubMenuRender;\n    if (!this.haveOpened) {\n      return null;\n    }\n    const domProps = {\n      className,\n      // role could be 'select' and by default set to menu\n      role: props.role || 'menu',\n    };\n    if (props.id) {\n      domProps.id = props.id;\n    }\n    if (props.focusable) {\n      domProps.tabIndex = '0';\n      domProps.onKeyDown = this.onKeyDown;\n    }\n    const { prefixCls, eventKey, hidden, level, mode, overflowedIndicator, theme } = props;\n    menuAllProps.forEach(key => delete props[key]);\n\n    const transitionAppear = !(!haveRendered && !props.hidden && props.mode === 'inline');\n\n    props.className += ` ${props.prefixCls}-sub`;\n    delete props.onClick;\n    const animProps = {};\n    if (props.openTransitionName) {\n      animProps.transitionName = props.openTransitionName;\n    } else if (typeof props.openAnimation === 'object') {\n      animProps.animation = { ...props.openAnimation };\n      if (!transitionAppear) {\n        delete animProps.animation.appear;\n      }\n    }\n    return (\n      /* eslint-disable */\n      <DOMWrap\n        {...props}\n        prefixCls={prefixCls}\n        mode={mode}\n        tag=\"ul\"\n        level={level}\n        theme={theme}\n        hiddenClassName={`${prefixCls}-hidden`}\n        hidden={hidden}\n        overflowedIndicator={overflowedIndicator}\n        {...domProps}\n      >\n        {Children.map(\n          props.children,\n          (c, i) => this.renderMenuItem(c, i, eventKey || '0-menu-'),\n        )}\n      </DOMWrap>\n      /*eslint-enable */\n    );\n  }\n}\n\nconst connected = connect()(SubPopupMenu);\n\nexport default connected;\n"]}