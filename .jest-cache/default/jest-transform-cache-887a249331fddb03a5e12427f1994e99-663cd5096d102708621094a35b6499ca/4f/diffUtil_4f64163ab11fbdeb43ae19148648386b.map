{"version":3,"sources":["rc-components/tree/utils/diffUtil.js"],"names":["prev","next","prevLen","nextLen","Math","add","key","cache","shorter","keys","find","shorterStartIndex","data","shorterEndNode","longerStartIndex","longerEndIndex","longer"],"mappings":";;;;;;;;AAAO,SAAA,gBAAA,GAAgD;AAAA,MAAtBA,IAAsB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAf,EAAe;AAAA,MAAXC,IAAW,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAJ,EAAI;AACnD,MAAMC,OAAO,GAAGF,IAAI,CAApB,MAAA;AACA,MAAMG,OAAO,GAAGF,IAAI,CAApB,MAAA;;AACA,MAAIG,IAAI,CAAJA,GAAAA,CAASF,OAAO,GAAhBE,OAAAA,MAAJ,CAAA,EAAuC;AACnC,WAAO;AAAEC,MAAAA,GAAG,EAAL,KAAA;AAAcC,MAAAA,GAAG,EAAE;AAAnB,KAAP;AACH;;AACD,WAAA,IAAA,CAAA,OAAA,EAAA,MAAA,EAA+B;AAC3B,QAAMC,KAAK,GAAG,IAAd,GAAc,EAAd;AACAC,IAAAA,OAAO,CAAPA,OAAAA,CAAgB,UAAA,GAAA,EAAO;AACnBD,MAAAA,KAAK,CAALA,GAAAA,CAAAA,GAAAA,EAAAA,IAAAA;AADJC,KAAAA;AAGA,QAAMC,IAAI,GAAG,MAAM,CAAN,MAAA,CAAc,UAAA,GAAA,EAAG;AAAA,aAAI,CAACF,KAAK,CAALA,GAAAA,CAAL,GAAKA,CAAL;AAA9B,KAAa,CAAb;AACA,WAAOE,IAAI,CAAJA,MAAAA,KAAAA,CAAAA,GAAoBA,IAAI,CAAxBA,CAAwB,CAAxBA,GAAP,IAAA;AACH;;AACD,MAAIP,OAAO,GAAX,OAAA,EAAuB;AACnB,WAAO;AACHG,MAAAA,GAAG,EADA,IAAA;AAEHC,MAAAA,GAAG,EAAEI,IAAI,CAAA,IAAA,EAAA,IAAA;AAFN,KAAP;AAIH;;AACD,SAAO;AACHL,IAAAA,GAAG,EADA,KAAA;AAEHC,IAAAA,GAAG,EAAEI,IAAI,CAAA,IAAA,EAAA,IAAA;AAFN,GAAP;AAIH;;AACM,SAAA,cAAA,CAAA,OAAA,EAAA,MAAA,EAAA,GAAA,EAA8C;AACjD,MAAMC,iBAAiB,GAAG,OAAO,CAAP,SAAA,CAAkB,UAAA,IAAA,EAAA;AAAA,QAAGC,IAAH,GAAA,IAAA,CAAA,IAAA;AAAA,WAAcA,IAAI,CAAJA,GAAAA,KAAd,GAAA;AAA5C,GAA0B,CAA1B;AACA,MAAMC,cAAc,GAAGL,OAAO,CAACG,iBAAiB,GAAhD,CAA8B,CAA9B;AACA,MAAMG,gBAAgB,GAAG,MAAM,CAAN,SAAA,CAAiB,UAAA,KAAA,EAAA;AAAA,QAAGF,IAAH,GAAA,KAAA,CAAA,IAAA;AAAA,WAAcA,IAAI,CAAJA,GAAAA,KAAd,GAAA;AAA1C,GAAyB,CAAzB;;AACA,MAAA,cAAA,EAAoB;AAChB,QAAMG,cAAc,GAAG,MAAM,CAAN,SAAA,CAAiB,UAAA,KAAA,EAAA;AAAA,UAAGH,IAAH,GAAA,KAAA,CAAA,IAAA;AAAA,aAAcA,IAAI,CAAJA,GAAAA,KAAaC,cAAc,CAAdA,IAAAA,CAA3B,GAAA;AAAxC,KAAuB,CAAvB;AACA,WAAOG,MAAM,CAANA,KAAAA,CAAaF,gBAAgB,GAA7BE,CAAAA,EAAP,cAAOA,CAAP;AACH;;AACD,SAAOA,MAAM,CAANA,KAAAA,CAAaF,gBAAgB,GAApC,CAAOE,CAAP;AACH","sourcesContent":["export function findExpandedKeys(prev = [], next = []) {\n    const prevLen = prev.length;\n    const nextLen = next.length;\n    if (Math.abs(prevLen - nextLen) !== 1) {\n        return { add: false, key: null };\n    }\n    function find(shorter, longer) {\n        const cache = new Map();\n        shorter.forEach(key => {\n            cache.set(key, true);\n        });\n        const keys = longer.filter(key => !cache.has(key));\n        return keys.length === 1 ? keys[0] : null;\n    }\n    if (prevLen < nextLen) {\n        return {\n            add: true,\n            key: find(prev, next),\n        };\n    }\n    return {\n        add: false,\n        key: find(next, prev),\n    };\n}\nexport function getExpandRange(shorter, longer, key) {\n    const shorterStartIndex = shorter.findIndex(({ data }) => data.key === key);\n    const shorterEndNode = shorter[shorterStartIndex + 1];\n    const longerStartIndex = longer.findIndex(({ data }) => data.key === key);\n    if (shorterEndNode) {\n        const longerEndIndex = longer.findIndex(({ data }) => data.key === shorterEndNode.data.key);\n        return longer.slice(longerStartIndex + 1, longerEndIndex);\n    }\n    return longer.slice(longerStartIndex + 1);\n}\n"]}