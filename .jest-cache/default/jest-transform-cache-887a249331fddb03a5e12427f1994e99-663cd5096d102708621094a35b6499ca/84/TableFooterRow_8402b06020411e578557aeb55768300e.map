{"version":3,"sources":["TableFooterRow.jsx"],"names":["FOOTER_ROW_KEY","Date","now","getColumnFooter","col","footer","TableFooterRow","onHover","props","columns","data","components","prefixCls","hovered","height","FooterRow","row","FooterCell","cell","className","handleMouseEnter","handleMouseLeave","map","key","dataIndex","Component","PropTypes","array","any","string","func","bool","oneOfType","number","getRowHeight","state","fixedColumnsFootRowsHeight","fixed","currentHoverKey"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'mini-store';\n\nconst FOOTER_ROW_KEY = `rc_table_footer_key_${Date.now()}`;\n\nfunction getColumnFooter(col) {\n  if (typeof col.footer === 'function') return col.footer;\n  return () => col.footer;\n}\n\nclass TableFooterRow extends Component {\n  static propTypes = {\n    columns: PropTypes.array,\n    data: PropTypes.array,\n    components: PropTypes.any,\n    prefixCls: PropTypes.string,\n    onHover: PropTypes.func,\n    hovered: PropTypes.bool,\n    height: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n  };\n\n  handleMouseEnter = () => {\n    const { onHover } = this.props;\n    if (onHover) {\n      onHover(true, FOOTER_ROW_KEY);\n    }\n  };\n\n  handleMouseLeave = () => {\n    const { onHover } = this.props;\n    if (onHover) {\n      onHover(false, FOOTER_ROW_KEY);\n    }\n  };\n\n  render() {\n    const { columns, data, components, prefixCls, hovered, height } = this.props;\n    const FooterRow = components.footer.row;\n    const FooterCell = components.footer.cell;\n\n    let className = `${prefixCls}-footer-row`;\n    if (hovered) {\n      className += ` ${prefixCls}-row-hover`;\n    }\n\n    return (\n      <FooterRow\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n        className={className}\n        style={{ height }}\n      >\n        {columns.map(col =>\n          <FooterCell\n            key={col.key || col.dataIndex}\n          >\n            {col.footer ? getColumnFooter(col)(data) : null}\n          </FooterCell>,\n        )}\n      </FooterRow>\n    );\n  }\n}\n\nfunction getRowHeight(state, props) {\n  const { fixedColumnsFootRowsHeight } = state;\n  const { fixed } = props;\n  return fixed ? fixedColumnsFootRowsHeight[0] : null;\n}\n\nexport default connect((state, props) => ({\n  hovered: state.currentHoverKey === FOOTER_ROW_KEY,\n  height: getRowHeight(state, props),\n}))(TableFooterRow);\n"]}