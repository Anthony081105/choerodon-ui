{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components/select/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, {\n  ClassicComponentClass,\n  Component,\n  CSSProperties,\n  KeyboardEvent,\n  MouseEvent,\n  ReactElement,\n  ReactNode,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Size } from '../_util/enum';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport RcSelect, { OptGroup, Option } from '../rc-components/select';\nimport { SelectMode } from './enum';\nimport { getPrefixCls } from '../configure';\n\nexport interface AbstractSelectProps {\n  prefixCls?: string;\n  className?: string;\n  size?: Size;\n  notFoundContent?: ReactNode | null;\n  transitionName?: string;\n  choiceTransitionName?: string;\n  showSearch?: boolean;\n  allowClear?: boolean;\n  disabled?: boolean;\n  style?: CSSProperties;\n  tabIndex?: number;\n  placeholder?: string;\n  defaultActiveFirstOption?: boolean;\n  dropdownClassName?: string;\n  dropdownStyle?: CSSProperties;\n  dropdownMenuStyle?: CSSProperties;\n  onDropdownMouseDown?: (e: MouseEvent<any>) => void;\n  onSearch?: (value: string) => any;\n  filterOption?: boolean | ((inputValue: string, option: ReactElement<OptionProps>) => any);\n}\n\nexport interface LabeledValue {\n  key: string;\n  label: ReactNode;\n}\n\nexport type SelectValue = string | any[] | LabeledValue | LabeledValue[];\n\nexport interface SelectProps extends AbstractSelectProps {\n  blurChange?: boolean;\n  value?: SelectValue;\n  defaultValue?: SelectValue;\n  mode?: SelectMode;\n  optionLabelProp?: string;\n  onInput?: (value: SelectValue) => void;\n  onChange?: (value: SelectValue, option: ReactElement<any> | ReactElement<any>[]) => void;\n  onSelect?: (value: SelectValue, option: ReactElement<any>) => any;\n  onDeselect?: (value: SelectValue) => any;\n  onBlur?: () => any;\n  onFocus?: () => any;\n  onPopupScroll?: () => any;\n  onInputKeyDown?: (e: KeyboardEvent<HTMLInputElement>) => void;\n  onChoiceItemClick?: (value: SelectValue, option: ReactElement<any>) => void;\n  onClear?: () => any;\n  maxTagCount?: number;\n  maxTagPlaceholder?: ReactNode | ((omittedValues: SelectValue[]) => ReactNode);\n  dropdownMatchSelectWidth?: boolean;\n  optionFilterProp?: string;\n  labelInValue?: boolean;\n  getPopupContainer?: (triggerNode: Element) => HTMLElement;\n  tokenSeparators?: string[];\n  getInputElement?: () => ReactElement<any>;\n  autoFocus?: boolean;\n  showNotFindInputItem?: boolean;\n  showNotFindSelectedItem?: boolean;\n  getRootDomNode?: () => HTMLElement;\n  showCheckAll?: boolean;\n  filter?: boolean;\n  footer?: ReactNode | string;\n  choiceRender?: (label: ReactElement<any>, value: SelectValue) => any;\n  loading?: boolean | object;\n  onFilterChange?: (value: string) => void;\n  choiceRemove?: boolean;\n  filterValue?: string;\n  border?: boolean;\n}\n\nexport interface OptionProps {\n  disabled?: boolean;\n  value?: any;\n  title?: string;\n  children?: ReactNode;\n  className?: string;\n  style?: object;\n}\n\nexport interface OptGroupProps {\n  label?: ReactNode;\n}\n\nexport interface SelectLocale {\n  notFoundContent?: string;\n  filterPlaceholder?: string;\n}\n\n// => It is needless to export the declaration of below two inner components.\n// export { Option, OptGroup };\n\nexport default class Select extends Component<SelectProps, {}> {\n  static displayName = 'Select';\n\n  static Option = Option as ClassicComponentClass<OptionProps>;\n\n  static OptGroup = OptGroup as ClassicComponentClass<OptGroupProps>;\n\n  static defaultProps = {\n    blurChange: true,\n    showSearch: false,\n    transitionName: 'slide-up',\n    choiceTransitionName: 'zoom',\n    filter: false,\n    showCheckAll: true,\n    choiceRemove: true,\n    border: true,\n  };\n\n  static propTypes = {\n    prefixCls: PropTypes.string,\n    className: PropTypes.string,\n    size: PropTypes.oneOf([Size.default, Size.large, Size.small]),\n    combobox: PropTypes.bool,\n    notFoundContent: PropTypes.any,\n    showSearch: PropTypes.bool,\n    optionLabelProp: PropTypes.string,\n    transitionName: PropTypes.string,\n    choiceTransitionName: PropTypes.string,\n    showNotFindInputItem: PropTypes.bool,\n    showNotFindSelectedItem: PropTypes.bool,\n    filter: PropTypes.bool,\n    showCheckAll: PropTypes.bool,\n    footer: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n    choiceRender: PropTypes.func,\n    loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    filterValue: PropTypes.string,\n    onFilterChange: PropTypes.func,\n    choiceRemove: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    onChoiceRemove: PropTypes.func,\n    onClear: PropTypes.func,\n    border: PropTypes.bool,\n    blurChange: PropTypes.bool,\n  };\n\n  private rcSelect: any;\n\n  focus() {\n    this.rcSelect.focus();\n  }\n\n  blur() {\n    this.rcSelect.blur();\n  }\n\n  saveSelect = (node: any) => {\n    this.rcSelect = node;\n  };\n\n  getNotFoundContent(locale: SelectLocale) {\n    const { notFoundContent, mode } = this.props;\n    const isCombobox = mode === SelectMode.combobox;\n    if (isCombobox) {\n      // AutoComplete don't have notFoundContent defaultly\n      return notFoundContent === undefined ? null : notFoundContent;\n    }\n    return notFoundContent === undefined ? locale.notFoundContent : notFoundContent;\n  }\n\n  renderSelect = (locale: SelectLocale) => {\n    const { prefixCls: customizePrefixCls, className = '', size, mode, ...restProps } = this.props;\n    const prefixCls = getPrefixCls('select', customizePrefixCls);\n    const cls = classNames(\n      {\n        [`${prefixCls}-lg`]: size === Size.large,\n        [`${prefixCls}-sm`]: size === Size.small,\n      },\n      className,\n    );\n\n    let { optionLabelProp } = this.props;\n    const isCombobox = mode === SelectMode.combobox;\n    if (isCombobox) {\n      // children 带 dom 结构时，无法填入输入框\n      optionLabelProp = optionLabelProp || 'value';\n    }\n\n    const modeConfig = {\n      multiple: mode === SelectMode.multiple,\n      tags: mode === SelectMode.tags,\n      combobox: isCombobox,\n    };\n\n    return (\n      <RcSelect\n        {...restProps}\n        {...modeConfig}\n        prefixCls={prefixCls}\n        className={cls}\n        optionLabelProp={optionLabelProp || 'children'}\n        filterPlaceholder={locale.filterPlaceholder}\n        notFoundContent={this.getNotFoundContent(locale)}\n        ref={this.saveSelect}\n      />\n    );\n  };\n\n  render() {\n    return (\n      <LocaleReceiver componentName=\"Select\" defaultLocale={defaultLocale.Select}>\n        {this.renderSelect}\n      </LocaleReceiver>\n    );\n  }\n}\n"]}