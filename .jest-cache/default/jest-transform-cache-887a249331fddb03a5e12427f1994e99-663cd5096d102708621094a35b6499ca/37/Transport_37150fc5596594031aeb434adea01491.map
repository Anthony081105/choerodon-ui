{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components-pro/data-set/Transport.tsx"],"names":[],"mappings":"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","sourcesContent":["import { computed, observable, runInAction } from 'mobx';\nimport { AxiosRequestConfig } from 'axios';\nimport DataSet from './DataSet';\n\nexport type SubmitTypes = 'create' | 'update' | 'destroy' | 'submit';\n\nexport type TransportTypes = SubmitTypes | 'read' | 'validate' | 'tls' | 'exports';\n\nexport type TransportAdapter = (\n  config: AxiosRequestConfig,\n  type: TransportTypes,\n) => AxiosRequestConfig;\n\nexport type TransportHookProps = {\n  data?: any;\n  params?: any;\n  dataSet?: DataSet;\n  [key: string]: any;\n};\n\nexport type TransportHook = (props: TransportHookProps) => AxiosRequestConfig;\n\nexport type TransportType = AxiosRequestConfig | TransportHook | string;\n\nexport type TransportProps = {\n  create?: TransportType;\n  read?: TransportType;\n  update?: TransportType;\n  destroy?: TransportType;\n  validate?: TransportType;\n  submit?: TransportType;\n  tls?: TransportType;\n  exports?: TransportType;\n  adapter?: TransportAdapter;\n};\n\nexport default class Transport {\n  @observable props: TransportProps;\n\n  dataSet: DataSet;\n\n  set create(create: TransportType | undefined) {\n    runInAction(() => {\n      this.props.create = create;\n    });\n  }\n\n  @computed\n  get create(): TransportType | undefined {\n    return this.props.create;\n  }\n\n  set read(read: TransportType | undefined) {\n    runInAction(() => {\n      this.props.read = read;\n    });\n  }\n\n  @computed\n  get read(): TransportType | undefined {\n    return this.props.read || this.dataSet.queryUrl;\n  }\n\n  set update(update: TransportType | undefined) {\n    runInAction(() => {\n      this.props.update = update;\n    });\n  }\n\n  @computed\n  get update(): TransportType | undefined {\n    return this.props.update;\n  }\n\n  set destroy(destroy: TransportType | undefined) {\n    runInAction(() => {\n      this.props.destroy = destroy;\n    });\n  }\n\n  @computed\n  get destroy(): TransportType | undefined {\n    return this.props.destroy;\n  }\n\n  set validate(validate: TransportType | undefined) {\n    runInAction(() => {\n      this.props.validate = validate;\n    });\n  }\n\n  @computed\n  get validate(): TransportType | undefined {\n    return this.props.validate || this.dataSet.validateUrl;\n  }\n\n  set submit(submit: TransportType | undefined) {\n    runInAction(() => {\n      this.props.submit = submit;\n    });\n  }\n\n  @computed\n  get submit(): TransportType | undefined {\n    return this.props.submit || this.dataSet.submitUrl;\n  }\n\n  set exports(exports: TransportType | undefined) {\n    runInAction(() => {\n      this.props.exports = exports;\n    });\n  }\n\n  @computed\n  get exports(): TransportType | undefined {\n    return this.props.exports || this.dataSet.exportUrl;\n  }\n\n  set tls(tls: TransportType | undefined) {\n    runInAction(() => {\n      this.props.tls = tls;\n    });\n  }\n\n  @computed\n  get tls(): TransportType | undefined {\n    return this.props.tls || this.dataSet.tlsUrl;\n  }\n\n  set adapter(adapter: TransportAdapter | undefined) {\n    runInAction(() => {\n      this.props.adapter = adapter;\n    });\n  }\n\n  @computed\n  get adapter(): TransportAdapter | undefined {\n    return this.props.adapter;\n  }\n\n  constructor(props: TransportProps = {}, dataSet: DataSet) {\n    runInAction(() => {\n      this.props = props;\n      this.dataSet = dataSet;\n    });\n  }\n}\n"]}