{"version":3,"sources":["index.jsx"],"names":["defaultDisabledTime","disabledHours","disabledMinutes","disabledSeconds","getTodayTime","value","today","locale","utcOffset","getTitleString","format","getTodayTimeStr","getMonthName","month","localeData","syncTime","from","to","moment","isMoment","hour","minute","second","getTimeConfig","disabledTime","disabledTimeConfig","isTimeValidByConfig","invalidTime","minutes","seconds","indexOf","isTimeValid","isAllowedDate","disabledDate"],"mappings":"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","sourcesContent":["import moment from 'moment';\n\nconst defaultDisabledTime = {\n  disabledHours() {\n    return [];\n  },\n  disabledMinutes() {\n    return [];\n  },\n  disabledSeconds() {\n    return [];\n  },\n};\n\nexport function getTodayTime(value) {\n  const today = moment();\n  today.locale(value.locale()).utcOffset(value.utcOffset());\n  return today;\n}\n\nexport function getTitleString(value) {\n  return value.format('LL');\n}\n\nexport function getTodayTimeStr(value) {\n  const today = getTodayTime(value);\n  return getTitleString(today);\n}\n\nexport function getMonthName(month) {\n  const locale = month.locale();\n  const localeData = month.localeData();\n  return localeData[locale === 'zh-cn' ? 'months' : 'monthsShort'](month);\n}\n\nexport function syncTime(from, to) {\n  if (!moment.isMoment(from) || !moment.isMoment(to)) return;\n  to.hour(from.hour());\n  to.minute(from.minute());\n  to.second(from.second());\n}\n\nexport function getTimeConfig(value, disabledTime) {\n  let disabledTimeConfig = disabledTime ? disabledTime(value) : {};\n  disabledTimeConfig = {\n    ...defaultDisabledTime,\n    ...disabledTimeConfig,\n  };\n  return disabledTimeConfig;\n}\n\nexport function isTimeValidByConfig(value, disabledTimeConfig) {\n  let invalidTime = false;\n  if (value) {\n    const hour = value.hour();\n    const minutes = value.minute();\n    const seconds = value.second();\n    const disabledHours = disabledTimeConfig.disabledHours();\n    if (disabledHours.indexOf(hour) === -1) {\n      const disabledMinutes = disabledTimeConfig.disabledMinutes(hour);\n      if (disabledMinutes.indexOf(minutes) === -1) {\n        const disabledSeconds = disabledTimeConfig.disabledSeconds(hour, minutes);\n        invalidTime = disabledSeconds.indexOf(seconds) !== -1;\n      } else {\n        invalidTime = true;\n      }\n    } else {\n      invalidTime = true;\n    }\n  }\n  return !invalidTime;\n}\n\nexport function isTimeValid(value, disabledTime) {\n  const disabledTimeConfig = getTimeConfig(value, disabledTime);\n  return isTimeValidByConfig(value, disabledTimeConfig);\n}\n\nexport function isAllowedDate(value, disabledDate, disabledTime) {\n  if (disabledDate) {\n    if (disabledDate(value)) {\n      return false;\n    }\n  }\n  if (disabledTime) {\n    if (!isTimeValid(value, disabledTime)) {\n      return false;\n    }\n  }\n  return true;\n}\n"]}