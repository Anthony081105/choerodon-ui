{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components/rc-components/dialog/Dialog.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Component, KeyboardEvent, MouseEventHandler } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport LazyRenderBox from './LazyRenderBox';\nimport IDialogPropTypes from './IDialogPropTypes';\nimport Icon from '../../icon';\nimport Animate from '../../animate';\nimport getScrollBarSize from '../util/getScrollBarSize';\nimport KeyCode from '../../_util/KeyCode';\nimport addEventListener from '../../_util/addEventListener';\n\nlet uuid = 0;\nlet openCount = 0;\n\n/* eslint react/no-is-mounted:0 */\n\nfunction getScroll(w: any, top?: boolean) {\n  let ret = w[`page${top ? 'Y' : 'X'}Offset`];\n  const method = `scroll${top ? 'Top' : 'Left'}`;\n  if (typeof ret !== 'number') {\n    const d = w.document;\n    ret = d.documentElement[method];\n    if (typeof ret !== 'number') {\n      ret = d.body[method];\n    }\n  }\n  return ret;\n}\n\nfunction setTransformOrigin(node: any, value: string) {\n  const style = node.style;\n  ['Webkit', 'Moz', 'Ms', 'ms'].forEach((prefix: string) => {\n    style[`${prefix}TransformOrigin`] = value;\n  });\n  style.transformOrigin = value;\n}\n\nfunction offset(el: any) {\n  const rect = el.getBoundingClientRect();\n  const pos = {\n    left: rect.left,\n    top: rect.top,\n  };\n  const doc = el.ownerDocument;\n  const w = doc.defaultView || doc.parentWindow;\n  pos.left += getScroll(w);\n  pos.top += getScroll(w, true);\n  return pos;\n}\n\nexport default class Dialog extends Component<IDialogPropTypes, any> {\n  static defaultProps = {\n    className: '',\n    mask: true,\n    visible: false,\n    keyboard: true,\n    closable: true,\n    maskClosable: true,\n    destroyOnClose: false,\n    prefixCls: 'rc-dialog',\n    center: false,\n  };\n\n  private inTransition: boolean;\n\n  private titleId: string;\n\n  private openTime: number;\n\n  private lastOutSideFocusNode: HTMLElement | null;\n\n  private wrap: HTMLElement;\n\n  private dialog: any;\n\n  private sentinel: HTMLElement;\n\n  private bodyIsOverflowing: boolean;\n\n  private scrollbarWidth: number;\n\n  private resizeEvent: any;\n\n  componentWillMount() {\n    this.inTransition = false;\n    this.titleId = `rcDialogTitle${uuid++}`;\n  }\n\n  componentDidMount() {\n    const { center } = this.props;\n    const dialogNode: any = findDOMNode(this.dialog);\n    if (center && dialogNode) {\n      const { style } = dialogNode;\n      this.center();\n      style.margin = '0';\n      style.padding = '0';\n      this.onEventListener();\n    }\n    this.componentDidUpdate({});\n  }\n\n  componentDidUpdate(prevProps: IDialogPropTypes) {\n    const { mousePosition, visible, mask } = this.props;\n    if (visible) {\n      // first show\n      if (!prevProps.visible) {\n        this.center();\n        this.openTime = Date.now();\n        this.lastOutSideFocusNode = document.activeElement as HTMLElement;\n        this.addScrollingEffect();\n        this.wrap.focus();\n        const dialogNode = findDOMNode(this.dialog);\n        if (mousePosition) {\n          const elOffset = offset(dialogNode);\n          setTransformOrigin(\n            dialogNode,\n            `${mousePosition.x - elOffset.left}px ${mousePosition.y - elOffset.top}px`,\n          );\n        } else {\n          setTransformOrigin(dialogNode, '');\n        }\n      }\n    } else if (prevProps.visible) {\n      this.inTransition = true;\n      if (mask && this.lastOutSideFocusNode) {\n        try {\n          this.lastOutSideFocusNode.focus();\n        } catch (e) {\n          this.lastOutSideFocusNode = null;\n        }\n        this.lastOutSideFocusNode = null;\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    const { visible, center } = this.props;\n    if (visible || this.inTransition) {\n      this.removeScrollingEffect();\n    }\n    if (center) {\n      this.removeEventListener();\n    }\n  }\n\n  center = () => {\n    const { center } = this.props;\n    const dialogNode: any = findDOMNode(this.dialog);\n    if (center && dialogNode && typeof window !== 'undefined') {\n      const { clientWidth: docWidth, clientHeight: docHeight } = window.document.documentElement;\n      const { offsetWidth: width, offsetHeight: height, style } = dialogNode;\n      style.left = `${Math.max((docWidth - width) / 2, 0)}px`;\n      style.top = `${Math.max((docHeight - height) / 2, 0)}px`;\n    }\n  };\n\n  onEventListener = () => {\n    if (typeof window !== 'undefined') {\n      this.resizeEvent = addEventListener(window, 'resize', this.center);\n    }\n  };\n\n  removeEventListener = () => {\n    if (typeof window !== 'undefined') {\n      this.resizeEvent.remove();\n    }\n  };\n\n  onAnimateLeave = () => {\n    const { afterClose } = this.props;\n    // need demo?\n    // https://github.com/react-component/dialog/pull/28\n    if (this.wrap) {\n      this.wrap.style.display = 'none';\n    }\n    this.inTransition = false;\n    this.removeScrollingEffect();\n    if (afterClose) {\n      afterClose();\n    }\n  };\n\n  onAnimateEnd = () => {\n    const { animationEnd } = this.props;\n    if (animationEnd) {\n      animationEnd();\n    }\n  };\n\n  onMaskClick: MouseEventHandler<HTMLDivElement> = e => {\n    // android trigger click on open (fastclick??)\n    if (Date.now() - this.openTime < 300) {\n      return;\n    }\n    if (e.target === e.currentTarget) {\n      this.close(e);\n    }\n  };\n\n  onKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\n    const props = this.props;\n    if (props.keyboard && e.keyCode === KeyCode.ESC) {\n      this.close(e);\n    }\n    // keep focus inside dialog\n    if (props.visible) {\n      if (e.keyCode === KeyCode.TAB) {\n        const activeElement = document.activeElement;\n        const dialogRoot = this.wrap;\n        if (e.shiftKey) {\n          if (activeElement === dialogRoot) {\n            this.sentinel.focus();\n          }\n        } else if (activeElement === this.sentinel) {\n          dialogRoot.focus();\n        }\n      }\n    }\n  };\n\n  getDialogElement = () => {\n    const props = this.props;\n    const closable = props.closable;\n    const prefixCls = props.prefixCls;\n    const dest: any = {};\n    if (props.width !== undefined) {\n      dest.width = props.width;\n    }\n    if (props.height !== undefined) {\n      dest.height = props.height;\n    }\n    let footer;\n    if (props.footer) {\n      footer = <div className={`${prefixCls}-footer`}>{props.footer}</div>;\n    }\n\n    let header;\n    if (props.title) {\n      header = (\n        <div className={`${prefixCls}-header`}>\n          <div className={`${prefixCls}-title`} id={this.titleId}>\n            {props.title}\n          </div>\n        </div>\n      );\n    }\n\n    let closer;\n    if (closable) {\n      closer = (\n        <button\n          type=\"button\"\n          onClick={this.close}\n          aria-label=\"Close\"\n          className={`${prefixCls}-close`}\n        >\n          <Icon className={`${prefixCls}-close-x`} type=\"close\" />\n        </button>\n      );\n    }\n\n    const style = { ...props.style, ...dest };\n    const transitionName = this.getTransitionName();\n    const dialogElement = (\n      <LazyRenderBox\n        key=\"dialog-element\"\n        role=\"document\"\n        ref={this.saveRef('dialog')}\n        style={style}\n        className={`${prefixCls} ${props.className || ''}`}\n        hidden={!props.visible}\n      >\n        <div className={`${prefixCls}-content`}>\n          {closer}\n          {header}\n          <div className={`${prefixCls}-body`} style={props.bodyStyle} {...props.bodyProps}>\n            {props.children}\n          </div>\n          {footer}\n        </div>\n        <div\n          tabIndex={0}\n          ref={this.saveRef('sentinel')}\n          style={{ width: 0, height: 0, overflow: 'hidden' }}\n        >\n          sentinel\n        </div>\n      </LazyRenderBox>\n    );\n    return (\n      <Animate\n        key=\"dialog\"\n        hiddenProp=\"hidden\"\n        onEnd={this.onAnimateEnd}\n        onLeave={this.onAnimateLeave}\n        transitionName={transitionName}\n        component=\"\"\n        transitionAppear\n      >\n        {props.visible || !props.destroyOnClose ? dialogElement : null}\n      </Animate>\n    );\n  };\n\n  getZIndexStyle = () => {\n    const style: any = {};\n    const props = this.props;\n    if (props.zIndex !== undefined) {\n      style.zIndex = props.zIndex;\n    }\n    return style;\n  };\n\n  getWrapStyle = (): any => {\n    const { wrapStyle } = this.props;\n    return { ...this.getZIndexStyle(), ...wrapStyle };\n  };\n\n  getMaskStyle = () => {\n    const { maskStyle } = this.props;\n    return { ...this.getZIndexStyle(), ...maskStyle };\n  };\n\n  getMaskElement = () => {\n    const props = this.props;\n    let maskElement;\n    if (props.mask) {\n      const maskTransition = this.getMaskTransitionName();\n      maskElement = (\n        <LazyRenderBox\n          style={this.getMaskStyle()}\n          key=\"mask\"\n          className={`${props.prefixCls}-mask`}\n          hiddenClassName={`${props.prefixCls}-mask-hidden`}\n          hidden={!props.visible}\n          {...props.maskProps}\n        />\n      );\n      if (maskTransition) {\n        maskElement = (\n          <Animate\n            key=\"mask\"\n            hiddenProp=\"hidden\"\n            transitionAppear\n            component=\"\"\n            transitionName={maskTransition}\n          >\n            {maskElement}\n          </Animate>\n        );\n      }\n    }\n    return maskElement;\n  };\n\n  getMaskTransitionName = () => {\n    const props = this.props;\n    let transitionName = props.maskTransitionName;\n    const animation = props.maskAnimation;\n    if (!transitionName && animation) {\n      transitionName = `${props.prefixCls}-${animation}`;\n    }\n    return transitionName;\n  };\n\n  getTransitionName = () => {\n    const props = this.props;\n    let transitionName = props.transitionName;\n    const animation = props.animation;\n    if (!transitionName && animation) {\n      transitionName = `${props.prefixCls}-${animation}`;\n    }\n    return transitionName;\n  };\n\n  setScrollbar = () => {\n    if (this.bodyIsOverflowing && this.scrollbarWidth !== undefined) {\n      document.body.style.paddingRight = `${this.scrollbarWidth}px`;\n    }\n  };\n\n  addScrollingEffect = () => {\n    openCount++;\n    if (openCount !== 1) {\n      return;\n    }\n    this.checkScrollbar();\n    this.setScrollbar();\n    document.body.style.overflow = 'hidden';\n    // this.adjustDialog();\n  };\n\n  removeScrollingEffect = () => {\n    openCount--;\n    if (openCount !== 0) {\n      return;\n    }\n    document.body.style.overflow = '';\n    this.resetScrollbar();\n    // this.resetAdjustments();\n  };\n\n  close = (e: any) => {\n    const { onClose } = this.props;\n    if (onClose) {\n      onClose(e);\n    }\n  };\n\n  checkScrollbar = () => {\n    let fullWindowWidth = window.innerWidth;\n    if (!fullWindowWidth) {\n      // workaround for missing window.innerWidth in IE8\n      const documentElementRect = document.documentElement.getBoundingClientRect();\n      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left);\n    }\n    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth;\n    if (this.bodyIsOverflowing) {\n      this.scrollbarWidth = getScrollBarSize();\n    }\n  };\n\n  resetScrollbar = () => {\n    document.body.style.paddingRight = '';\n  };\n\n  adjustDialog = () => {\n    const { wrap } = this;\n    if (wrap && this.scrollbarWidth !== undefined) {\n      const modalIsOverflowing = wrap.scrollHeight > document.documentElement.clientHeight;\n      wrap.style.paddingLeft = `${\n        !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : ''\n      }px`;\n      wrap.style.paddingRight = `${\n        this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n      }px`;\n    }\n  };\n\n  resetAdjustments = () => {\n    const { wrap } = this;\n    if (wrap) {\n      const { style } = wrap;\n      style.paddingLeft = '';\n      style.paddingRight = '';\n    }\n  };\n\n  saveRef = (name: string) => (node: any) => {\n    (this as any)[name] = node;\n  };\n\n  render() {\n    const { props } = this;\n    const { prefixCls, maskClosable } = props;\n    const style = this.getWrapStyle();\n    // clear hide display\n    // and only set display after async anim, not here for hide\n    if (props.visible) {\n      style.display = null;\n    }\n    return (\n      <div>\n        {this.getMaskElement()}\n        <div\n          tabIndex={-1}\n          onKeyDown={this.onKeyDown}\n          className={`${prefixCls}-wrap ${props.wrapClassName || ''}`}\n          ref={this.saveRef('wrap')}\n          onClick={maskClosable ? this.onMaskClick : undefined}\n          role=\"dialog\"\n          aria-labelledby={props.title ? this.titleId : null}\n          style={style}\n          {...props.wrapProps}\n        >\n          {this.getDialogElement()}\n        </div>\n      </div>\n    );\n  }\n}\n"]}