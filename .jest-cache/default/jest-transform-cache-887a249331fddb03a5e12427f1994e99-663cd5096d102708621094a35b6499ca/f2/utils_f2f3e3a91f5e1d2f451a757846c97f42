4f98ab7b2851935a68c43ef8734917b9
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toArray = toArray;
exports.generateKey = generateKey;
exports.getActiveIndex = getActiveIndex;
exports.getActiveKey = getActiveKey;
exports.setTransform = setTransform;
exports.isTransformSupported = isTransformSupported;
exports.setTransition = setTransition;
exports.getTransformPropValue = getTransformPropValue;
exports.isVertical = isVertical;
exports.getTransformByIndex = getTransformByIndex;
exports.getMarginStyle = getMarginStyle;
exports.getStyle = getStyle;
exports.setPxStyle = setPxStyle;
exports.getDataAttr = getDataAttr;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = require("react");

var _isNil = _interopRequireDefault(require("lodash/isNil"));

function toArray(children) {
  var c = [];

  _react.Children.forEach(children, function (child) {
    if (child) {
      c.push(child);
    }
  });

  return c;
}

function generateKey(key, index) {
  return String((0, _isNil["default"])(key) ? index : key);
}

function getActiveIndex(children, activeKey) {
  var c = toArray(children);
  return c.findIndex(function (child, index) {
    return generateKey(child.key, index) === activeKey;
  });
}

function getActiveKey(children, index) {
  var c = toArray(children);
  return generateKey(c[index].key, index);
}

function setTransform(style, v) {
  style.transform = v;
  style.webkitTransform = v;
  style.mozTransform = v;
}

function isTransformSupported(style) {
  return 'transform' in style || 'webkitTransform' in style || 'MozTransform' in style;
}

function setTransition(style, v) {
  style.transition = v;
  style.webkitTransition = v;
  style.MozTransition = v;
}

function getTransformPropValue(v) {
  return {
    transform: v,
    WebkitTransform: v,
    MozTransform: v
  };
}

function isVertical(tabBarPosition) {
  return tabBarPosition === 'left' || tabBarPosition === 'right';
}

function getTransformByIndex(index, tabBarPosition) {
  var translate = isVertical(tabBarPosition) ? 'translateY' : 'translateX';
  return "".concat(translate, "(").concat(-index * 100, "%) translateZ(0)");
}

function getMarginStyle(index, tabBarPosition) {
  var marginDirection = isVertical(tabBarPosition) ? 'marginTop' : 'marginLeft';
  return (0, _defineProperty2["default"])({}, marginDirection, "".concat(-index * 100, "%"));
}

function getStyle(el, property) {
  return +getComputedStyle(el).getPropertyValue(property).replace('px', '');
}

function setPxStyle(el, value, vertical) {
  value = vertical ? "0px, ".concat(value, "px, 0px") : "".concat(value, "px, 0px, 0px");
  setTransform(el.style, "translate3d(".concat(value, ")"));
}

function getDataAttr(props) {
  return Object.keys(props).reduce(function (prev, key) {
    if (key.substr(0, 5) === 'aria-' || key.substr(0, 5) === 'data-' || key === 'role') {
      prev[key] = props[key];
    }

    return prev;
  }, {});
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzeCJdLCJuYW1lcyI6WyJ0b0FycmF5IiwiY2hpbGRyZW4iLCJjIiwiQ2hpbGRyZW4iLCJmb3JFYWNoIiwiY2hpbGQiLCJwdXNoIiwiZ2VuZXJhdGVLZXkiLCJrZXkiLCJpbmRleCIsIlN0cmluZyIsImdldEFjdGl2ZUluZGV4IiwiYWN0aXZlS2V5IiwiZmluZEluZGV4IiwiZ2V0QWN0aXZlS2V5Iiwic2V0VHJhbnNmb3JtIiwic3R5bGUiLCJ2IiwidHJhbnNmb3JtIiwid2Via2l0VHJhbnNmb3JtIiwibW96VHJhbnNmb3JtIiwiaXNUcmFuc2Zvcm1TdXBwb3J0ZWQiLCJzZXRUcmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsIndlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiZ2V0VHJhbnNmb3JtUHJvcFZhbHVlIiwiV2Via2l0VHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwiaXNWZXJ0aWNhbCIsInRhYkJhclBvc2l0aW9uIiwiZ2V0VHJhbnNmb3JtQnlJbmRleCIsInRyYW5zbGF0ZSIsImdldE1hcmdpblN0eWxlIiwibWFyZ2luRGlyZWN0aW9uIiwiZ2V0U3R5bGUiLCJlbCIsInByb3BlcnR5IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJyZXBsYWNlIiwic2V0UHhTdHlsZSIsInZhbHVlIiwidmVydGljYWwiLCJnZXREYXRhQXR0ciIsInByb3BzIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsInByZXYiLCJzdWJzdHIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVPLFNBQVNBLE9BQVQsQ0FBaUJDLFFBQWpCLEVBQTJCO0FBQ2hDLE1BQU1DLENBQUMsR0FBRyxFQUFWOztBQUNBQyxrQkFBU0MsT0FBVCxDQUFpQkgsUUFBakIsRUFBMkIsVUFBQUksS0FBSyxFQUFJO0FBQ2xDLFFBQUlBLEtBQUosRUFBVztBQUNUSCxNQUFBQSxDQUFDLENBQUNJLElBQUYs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LEVBQXdCTSxLQUF4QixFQUErQkMsUUFBL0IsRUFBeUM7QUFDOUNELEVBQUFBLEtBQUssR0FBR0MsUUFBUSxrQkFBV0QsS0FBWCx5QkFBK0JBLEtBQS9CLGlCQUFoQjtBQUNBM0IsRUFBQUEsWUFBWSxDQUFDcUIsRUFBRSxDQUFDcEIsS0FBSix3QkFBMEIwQixLQUExQixPQUFaO0FBQ0Q7O0FBRU0sU0FBU0UsV0FBVCxDQUFxQkMsS0FBckIsRUFBNEI7QUFDakMsU0FBT0MsTUFBTSxDQUFDQyxJQUFQLENBQVlGLEtBQVosRUFBbUJHLE1BQW5CLENBQTBCLFVBQUNDLElBQUQsRUFBT3pDLEdBQVAsRUFBZTtBQUM5QyxRQUFJQSxHQUFHLENBQUMwQyxNQUFKLENBQVcsQ0FBWCxFQUFjLENBQWQsTUFBcUIsT0FBckIsSUFBZ0MxQyxHQUFHLENBQUMwQyxNQUFKLENBQVcsQ0FBWCxFQUFjLENBQWQsTUFBcUIsT0FBckQsSUFBZ0UxQyxHQUFHLEtBQUssTUFBNUUsRUFBb0Y7QUFDbEZ5QyxNQUFBQSxJQUFJLENBQUN6QyxHQUFELENBQUosR0FBWXFDLEtBQUssQ0FBQ3JDLEdBQUQsQ0FBakI7QUFDRDs7QUFDRCxXQUFPeUMsSUFBUDtBQUNELEdBTE0sRUFLSixFQUxJLENBQVA7QUFNRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGlzTmlsIGZyb20gJ2xvZGFzaC9pc05pbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XG4gIGNvbnN0IGMgPSBbXTtcbiAgQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgY2hpbGQgPT4ge1xuICAgIGlmIChjaGlsZCkge1xuICAgICAgYy5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlS2V5KGtleSwgaW5kZXgpIHtcbiAgcmV0dXJuIFN0cmluZyhpc05pbChrZXkpID8gaW5kZXggOiBrZXkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlSW5kZXgoY2hpbGRyZW4sIGFjdGl2ZUtleSkge1xuICBjb25zdCBjID0gdG9BcnJheShjaGlsZHJlbik7XG4gIHJldHVybiBjLmZpbmRJbmRleCgoY2hpbGQsIGluZGV4KSA9PiBnZW5lcmF0ZUtleShjaGlsZC5rZXksIGluZGV4KSA9PT0gYWN0aXZlS2V5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGl2ZUtleShjaGlsZHJlbiwgaW5kZXgpIHtcbiAgY29uc3QgYyA9IHRvQXJyYXkoY2hpbGRyZW4pO1xuICByZXR1cm4gZ2VuZXJhdGVLZXkoY1tpbmRleF0ua2V5LCBpbmRleCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oc3R5bGUsIHYpIHtcbiAgc3R5bGUudHJhbnNmb3JtID0gdjtcbiAgc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdjtcbiAgc3R5bGUubW96VHJhbnNmb3JtID0gdjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVHJhbnNmb3JtU3VwcG9ydGVkKHN0eWxlKSB7XG4gIHJldHVybiAndHJhbnNmb3JtJyBpbiBzdHlsZSB8fFxuICAgICd3ZWJraXRUcmFuc2Zvcm0nIGluIHN0eWxlIHx8XG4gICAgJ01velRyYW5zZm9ybScgaW4gc3R5bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN0eWxlLCB2KSB7XG4gIHN0eWxlLnRyYW5zaXRpb24gPSB2O1xuICBzdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gdjtcbiAgc3R5bGUuTW96VHJhbnNpdGlvbiA9IHY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1Qcm9wVmFsdWUodikge1xuICByZXR1cm4ge1xuICAgIHRyYW5zZm9ybTogdixcbiAgICBXZWJraXRUcmFuc2Zvcm06IHYsXG4gICAgTW96VHJhbnNmb3JtOiB2LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWZXJ0aWNhbCh0YWJCYXJQb3NpdGlvbikge1xuICByZXR1cm4gdGFiQmFyUG9zaXRpb24gPT09ICdsZWZ0JyB8fCB0YWJCYXJQb3NpdGlvbiA9PT0gJ3JpZ2h0Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybUJ5SW5kZXgoaW5kZXgsIHRhYkJhclBvc2l0aW9uKSB7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IGlzVmVydGljYWwodGFiQmFyUG9zaXRpb24pID8gJ3RyYW5zbGF0ZVknIDogJ3RyYW5zbGF0ZVgnO1xuICByZXR1cm4gYCR7dHJhbnNsYXRlfSgkey1pbmRleCAqIDEwMH0lKSB0cmFuc2xhdGVaKDApYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcmdpblN0eWxlKGluZGV4LCB0YWJCYXJQb3NpdGlvbikge1xuICBjb25zdCBtYXJnaW5EaXJlY3Rpb24gPSBpc1ZlcnRpY2FsKHRhYkJhclBvc2l0aW9uKSA/ICdtYXJnaW5Ub3AnIDogJ21hcmdpbkxlZnQnO1xuICByZXR1cm4ge1xuICAgIFttYXJnaW5EaXJlY3Rpb25dOiBgJHstaW5kZXggKiAxMDB9JWAsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHlsZShlbCwgcHJvcGVydHkpIHtcbiAgcmV0dXJuICtnZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KS5yZXBsYWNlKCdweCcsICcnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFB4U3R5bGUoZWwsIHZhbHVlLCB2ZXJ0aWNhbCkge1xuICB2YWx1ZSA9IHZlcnRpY2FsID8gYDBweCwgJHt2YWx1ZX1weCwgMHB4YCA6IGAke3ZhbHVlfXB4LCAwcHgsIDBweGA7XG4gIHNldFRyYW5zZm9ybShlbC5zdHlsZSwgYHRyYW5zbGF0ZTNkKCR7dmFsdWV9KWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YUF0dHIocHJvcHMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKS5yZWR1Y2UoKHByZXYsIGtleSkgPT4ge1xuICAgIGlmIChrZXkuc3Vic3RyKDAsIDUpID09PSAnYXJpYS0nIHx8IGtleS5zdWJzdHIoMCwgNSkgPT09ICdkYXRhLScgfHwga2V5ID09PSAncm9sZScpIHtcbiAgICAgIHByZXZba2V5XSA9IHByb3BzW2tleV07XG4gICAgfVxuICAgIHJldHVybiBwcmV2O1xuICB9LCB7fSk7XG59XG4iXX0=