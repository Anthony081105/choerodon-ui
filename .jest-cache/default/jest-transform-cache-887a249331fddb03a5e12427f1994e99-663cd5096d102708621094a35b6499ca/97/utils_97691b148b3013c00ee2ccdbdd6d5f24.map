{"version":3,"sources":["upload/utils.js"],"names":["lastModified","file","lastModifiedDate","name","size","type","uid","response","error","percent","originFileObj","k","i","end","start","matchKey","item","removed","fileList"],"mappings":";;;;;;;;;;;AAAO,SAAA,CAAA,GAAa;AAChB,SAAA,IAAA;EAEJ;AACA;;;AACO,SAAA,YAAA,CAAA,IAAA,EAA4B;AAC/B,SAAO;AACHA,IAAAA,YAAY,EAAEC,IAAI,CADf,YAAA;AAEHC,IAAAA,gBAAgB,EAAED,IAAI,CAFnB,gBAAA;AAGHE,IAAAA,IAAI,EAAEF,IAAI,CAAJA,QAAAA,IAAiBA,IAAI,CAHxB,IAAA;AAIHG,IAAAA,IAAI,EAAEH,IAAI,CAJP,IAAA;AAKHI,IAAAA,IAAI,EAAEJ,IAAI,CALP,IAAA;AAMHK,IAAAA,GAAG,EAAEL,IAAI,CANN,GAAA;AAOHM,IAAAA,QAAQ,EAAEN,IAAI,CAPX,QAAA;AAQHO,IAAAA,KAAK,EAAEP,IAAI,CARR,KAAA;AASHQ,IAAAA,OAAO,EATJ,CAAA;AAUHC,IAAAA,aAAa,EAAET;AAVZ,GAAP;AAYH;AACD;;;;;;AAIO,SAAA,aAAA,GAAyB;AAC5B,MAAIU,CAAC,GAAL,GAAA;AACA,MAAMC,CAAC,GAAP,IAAA;AACA,MAAMC,GAAG,GAAT,IAAA;AACA,SAAO,UAAA,CAAA,EAAa;AAChB,QAAIC,KAAK,GAAT,CAAA;;AACA,QAAIA,KAAK,IAAT,GAAA,EAAkB;AACd,aAAA,KAAA;AACH;;AACDA,IAAAA,KAAK,IAALA,CAAAA;AACAH,IAAAA,CAAC,IAADA,CAAAA;;AACA,QAAIA,CAAC,GAAL,KAAA,EAAe;AACXA,MAAAA,CAAC,GAADA,KAAAA;AACH;;AACD,WAAOG,KAAK,GAAZ,GAAA;AAVJ,GAAA;AAYH;;AACM,SAAA,WAAA,CAAA,IAAA,EAAA,QAAA,EAAqC;AACxC,MAAMC,QAAQ,GAAGd,IAAI,CAAJA,GAAAA,KAAAA,SAAAA,GAAAA,KAAAA,GAAjB,MAAA;AACA,SAAO,QAAQ,CAAR,MAAA,CAAgB,UAAA,IAAA,EAAI;AAAA,WAAIe,IAAI,CAAJA,QAAI,CAAJA,KAAmBf,IAAI,CAA3B,QAA2B,CAA3B;AAApB,GAAA,EAAP,CAAO,CAAP;AACH;;AACM,SAAA,cAAA,CAAA,IAAA,EAAA,QAAA,EAAwC;AAC3C,MAAMc,QAAQ,GAAGd,IAAI,CAAJA,GAAAA,KAAAA,SAAAA,GAAAA,KAAAA,GAAjB,MAAA;AACA,MAAMgB,OAAO,GAAG,QAAQ,CAAR,MAAA,CAAgB,UAAA,IAAA,EAAI;AAAA,WAAID,IAAI,CAAJA,QAAI,CAAJA,KAAmBf,IAAI,CAA3B,QAA2B,CAA3B;AAApC,GAAgB,CAAhB;;AACA,MAAIgB,OAAO,CAAPA,MAAAA,KAAmBC,QAAQ,CAA/B,MAAA,EAAwC;AACpC,WAAA,IAAA;AACH;;AACD,SAAA,OAAA;AACH","sourcesContent":["export function T() {\n    return true;\n}\n// Fix IE file.status problem\n// via coping a new Object\nexport function fileToObject(file) {\n    return {\n        lastModified: file.lastModified,\n        lastModifiedDate: file.lastModifiedDate,\n        name: file.filename || file.name,\n        size: file.size,\n        type: file.type,\n        uid: file.uid,\n        response: file.response,\n        error: file.error,\n        percent: 0,\n        originFileObj: file,\n    };\n}\n/**\n * 生成Progress percent: 0.1 -> 0.98\n *   - for ie\n */\nexport function genPercentAdd() {\n    let k = 0.1;\n    const i = 0.01;\n    const end = 0.98;\n    return function (s) {\n        let start = s;\n        if (start >= end) {\n            return start;\n        }\n        start += k;\n        k -= i;\n        if (k < 0.001) {\n            k = 0.001;\n        }\n        return start * 100;\n    };\n}\nexport function getFileItem(file, fileList) {\n    const matchKey = file.uid !== undefined ? 'uid' : 'name';\n    return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\nexport function removeFileItem(file, fileList) {\n    const matchKey = file.uid !== undefined ? 'uid' : 'name';\n    const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n    if (removed.length === fileList.length) {\n        return null;\n    }\n    return removed;\n}\n"]}