{"version":3,"sources":["MenuItem.jsx"],"names":["MenuItem","displayName","propTypes","rootPrefixCls","PropTypes","string","eventKey","active","bool","children","any","selectedKeys","array","disabled","title","onItemHover","func","onSelect","onClick","onDeselect","parentMenu","object","onDestroy","onMouseEnter","onMouseLeave","onMouseDown","getDefaultProps","noop","componentWillUnmount","props","componentDidMount","manualRef","componentDidUpdate","onKeyDown","e","keyCode","KeyCode","ENTER","key","hover","domEvent","multiple","isSelected","info","keyPath","item","getPrefixCls","getActiveClassName","getSelectedClassName","getDisabledClassName","render","className","attrs","attribute","role","mouseEvent","style","mode","paddingLeft","inlineIndent","level","notFound","checkbox","isMenuItem","activeKey","subMenuKey","indexOf"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport createReactClass from 'create-react-class';\nimport KeyCode from '../../_util/KeyCode';\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport noop from 'lodash/noop';\nimport Checkbox from '../../checkbox/Checkbox';\nimport Ripple from '../../ripple';\n/* eslint react/no-is-mounted:0 */\n\nconst MenuItem = createReactClass({\n  displayName: 'MenuItem',\n\n  propTypes: {\n    rootPrefixCls: PropTypes.string,\n    eventKey: PropTypes.string,\n    active: PropTypes.bool,\n    children: PropTypes.any,\n    selectedKeys: PropTypes.array,\n    disabled: PropTypes.bool,\n    title: PropTypes.string,\n    onItemHover: PropTypes.func,\n    onSelect: PropTypes.func,\n    onClick: PropTypes.func,\n    onDeselect: PropTypes.func,\n    parentMenu: PropTypes.object,\n    onDestroy: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseDown: PropTypes.func,\n  },\n\n  getDefaultProps() {\n    return {\n      onSelect: noop,\n      onMouseEnter: noop,\n      onMouseLeave: noop,\n      onMouseDown: noop,\n    };\n  },\n\n  componentWillUnmount() {\n    const props = this.props;\n    if (props.onDestroy) {\n      props.onDestroy(props.eventKey);\n    }\n  },\n\n  componentDidMount() {\n    // invoke customized ref to expose component to mixin\n    if (this.props.manualRef) {\n      this.props.manualRef(this);\n    }\n  },\n\n  componentDidUpdate() {\n    // invoke customized ref to expose component to mixin\n    if (this.props.manualRef) {\n      this.props.manualRef(this);\n    }\n  },\n\n  onKeyDown(e) {\n    const keyCode = e.keyCode;\n    if (keyCode === KeyCode.ENTER) {\n      this.onClick(e);\n      return true;\n    }\n  },\n\n  onMouseLeave(e) {\n    const { eventKey, onItemHover, onMouseLeave } = this.props;\n    onItemHover({\n      key: eventKey,\n      hover: false,\n    });\n    onMouseLeave({\n      key: eventKey,\n      domEvent: e,\n    });\n  },\n\n  onMouseEnter(e) {\n    const { eventKey, onItemHover, onMouseEnter } = this.props;\n    onItemHover({\n      key: eventKey,\n      hover: true,\n    });\n    onMouseEnter({\n      key: eventKey,\n      domEvent: e,\n    });\n  },\n\n  onClick(e) {\n    const { eventKey, multiple, onClick, onSelect, onDeselect, isSelected } = this.props;\n    const info = {\n      key: eventKey,\n      keyPath: [eventKey],\n      item: this,\n      domEvent: e,\n    };\n    onClick(info);\n    if (multiple) {\n      if (isSelected) {\n        onDeselect(info);\n      } else {\n        onSelect(info);\n      }\n    } else if (!isSelected) {\n      onSelect(info);\n    }\n  },\n\n  getPrefixCls() {\n    return `${this.props.rootPrefixCls}-item`;\n  },\n\n  getActiveClassName() {\n    return `${this.getPrefixCls()}-active`;\n  },\n\n  getSelectedClassName() {\n    return `${this.getPrefixCls()}-selected`;\n  },\n\n  getDisabledClassName() {\n    return `${this.getPrefixCls()}-disabled`;\n  },\n\n  render() {\n    const props = this.props;\n    const className = classNames(this.getPrefixCls(), props.className, {\n      [this.getActiveClassName()]: !props.disabled && props.active,\n      [this.getSelectedClassName()]: props.isSelected,\n      [this.getDisabledClassName()]: props.disabled,\n    });\n    const attrs = {\n      ...props.attribute,\n      title: props.title,\n      className,\n      role: 'menuitem',\n      'aria-selected': props.isSelected,\n      'aria-disabled': props.disabled,\n    };\n    let mouseEvent = {};\n    if (!props.disabled) {\n      mouseEvent = {\n        onClick: this.onClick,\n        onMouseLeave: this.onMouseLeave,\n        onMouseEnter: this.onMouseEnter,\n        onMouseDown: this.props.onMouseDown,\n      };\n    }\n    const style = {\n      ...props.style,\n    };\n    if (props.mode === 'inline') {\n      style.paddingLeft = props.inlineIndent * props.level;\n    }\n\n    const notFound = props.eventKey === 'NOT_FOUND';\n    const checkbox = props.multiple && !notFound ? <Checkbox disabled={props.disabled} checked={props.isSelected} tabIndex={-1} /> : null;\n    return (\n      <Ripple disabled={props.disabled}>\n        <li\n          {...attrs}\n          {...mouseEvent}\n          style={style}\n        >\n          {checkbox}\n          {props.children}\n        </li>\n      </Ripple>\n    );\n  },\n});\n\nMenuItem.isMenuItem = 1;\n\nexport default connect(({ activeKey, selectedKeys }, { eventKey, subMenuKey }) => ({\n  active: activeKey[subMenuKey] === eventKey,\n  isSelected: selectedKeys.indexOf(eventKey) !== -1,\n}))(MenuItem);\n"]}