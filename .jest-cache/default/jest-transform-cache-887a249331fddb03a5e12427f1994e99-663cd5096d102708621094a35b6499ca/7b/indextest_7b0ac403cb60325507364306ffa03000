7cbcb8a6a45f75d4b7e92370d3529baa
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _ = _interopRequireDefault(require(".."));

var _dataSet = _interopRequireDefault(require("../../data-set"));

describe('Currency', function () {
  it('should show US$ in a input value', function () {
    var handleDataSetChange = jest.fn();
    var ds = new _dataSet["default"]({
      autoCreate: true,
      fields: [{
        name: 'money',
        type: 'number',
        defaultValue: 100000000000000,
        required: true,
        currency: 'USD'
      }],
      events: {
        update: handleDataSetChange
      }
    });
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      dataSet: ds,
      name: "money"
    }));
    expect(wrapper.find('input').prop('value')).toEqual(expect.stringContaining('$100,000,000,000,000.00'));
  });
  it('should show ￥ in a input value', function () {
    var handleDataSetChange = jest.fn();
    var ds = new _dataSet["default"]({
      autoCreate: true,
      fields: [{
        name: 'money',
        type: 'number',
        defaultValue: 200,
        required: true,
        currency: 'CNY'
      }],
      events: {
        update: handleDataSetChange
      }
    });
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      dataSet: ds,
      name: "money"
    }));
    expect(wrapper.find('input').prop('value')).toEqual(expect.stringContaining('¥'));
    expect(wrapper.find('input').prop('value')).toEqual(expect.stringContaining('200'));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJpdCIsImhhbmRsZURhdGFTZXRDaGFuZ2UiLCJqZXN0IiwiZm4iLCJkcyIsIkRhdGFTZXQiLCJhdXRvQ3JlYXRlIiwiZmllbGRzIiwibmFtZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJyZXF1aXJlZCIsImN1cnJlbmN5IiwiZXZlbnRzIiwidXBkYXRlIiwid3JhcHBlciIsImV4cGVjdCIsImZpbmQiLCJwcm9wIiwidG9FcXVhbCIsInN0cmluZ0NvbnRhaW5pbmciXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQUEsUUFBUSxDQUFDLFVBQUQsRUFBYSxZQUFNO0FBQ3pCQyxFQUFBQSxFQUFFLENBQUMsa0NBQUQsRUFBcUMsWUFBTTtBQUMzQyxRQUFNQyxtQkFBbUIsR0FBR0MsSUFBSSxDQUFDQyxFQUFMLEVBQTVCO0FBQ0EsUUFBTUMsRUFBRSxHQUFHLElBQUlDLG1CQUFKLENBQVk7QUFDckJDLE1BQUFBLFVBQVUsRUFBRSxJQURTO0FBRXJCQyxNQUFBQSxNQUFNLEVBQUUsQ0FDTjtBQUNFQyxRQUFBQSxJQUFJLEVBQUUsT0FEUjtBQUVFQyxRQUFBQSxJQUFJLEVBQUUsUUFGUjtBQUdFQyxRQUFBQSxZQUFZLEVBQUUsZUFIaEI7QUFJRUMsUUFBQUEsUUFBUSxFQUFFLElBSlo7QUFLRUMsUUFBQUEsUUFBUSxFQUFFO0FBTFosT0FETSxDQUZhO0FBV3JCQyxNQUFBQSxNQUFNLEVBQUU7QUFDTkMsUUFBQUEsTUFBTSxFQUFFYjtBQURGO0FBWGEsS0FBWixDQUFYO0FBZUEsUUFBTWMsT0FBTyxHQUFHLG1CQUFNLGdDQUFDLFlBQUQ7QUFBVSxNQUFBLE9BQU8sRUFBRVgsRUFBbkI7QUFBdUIsTUFBQSxJQUFJLEVBQUM7QUFBNUIsTUFBTixDQUFoQjtBQUNBWSxJQUFBQSxNQUFNLENBQUNELE9BQU8sQ0FBQ0UsSUFBUixDQUFhLE9BQWIsRUFBc0JDLElBQXRCLENBQTJCLE9BQTNCLENBQUQsQ0FBTixDQUE0Q0MsT0FBNUMsQ0FBb0RILE1BQU0sQ0FBQ0ksZ0JBQVAsQ0FBd0IseUJBQXhCLENBQXBEO0FBQ0QsR0FuQkMsQ0FBRjtBQW9CQXBCLEVBQUFBLEVBQUUsQ0FBQyxnQ0FBRCxFQUFtQyxZQUFNO0FBQ3pDLFFBQU1DLG1CQUFtQixHQUFHQyxJQUFJLENBQUNDLEVBQUwsRUFBNUI7QUFDQSxRQUFNQyxFQUFFLEdBQUcsSUFBSUMsbUJBQUosQ0FBWTtBQUNyQkMsTUFBQUEsVUFBVSxFQUFFLElBRFM7QUFFckJDLE1BQUFBLE1BQU0sRUFBRSxDQUNOO0FBQ0VDLFFBQUFBLElBQUksRUFBRSxPQURSO0FBRUVDLFFBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLFFBQUFBLFlBQVksRUFBRSxHQUhoQjtBQUlFQyxRQUFBQSxRQUFRLEVBQUUsSUFKWjtBQUtFQyxRQUFBQSxRQUFRLEVBQUU7QUFMWixPQURNLENBRmE7QUFXckJDLE1BQUFBLE1BQU0sRUFBRTtBQUNOQyxRQUFBQSxNQUFNLEVBQUViO0FBREY7QUFYYSxLQUFaLENBQVg7QUFlQSxRQUFNYyxPQUFPLEdBQUcsbUJBQU0sZ0NBQUMsWUFBRDtBQUFVLE1BQUEsT0FBTyxFQUFFWCxFQUFuQjtBQUF1QixNQUFBLElBQUksRUFBQztBQUE1QixNQUFOLENBQWhCO0FBQ0FZLElBQUFBLE1BQU0sQ0FBQ0QsT0FBTyxDQUFDRSxJQUFSLENBQWEsT0FBYixFQUFzQkMsSUFBdEIsQ0FBMkIsT0FBM0IsQ0FBRCxDQUFOLENBQTRDQyxPQUE1QyxDQUFvREgsTUFBTSxDQUFDSSxnQkFBUCxDQUF3QixHQUF4QixDQUFwRDtBQUNBSixJQUFBQSxNQUFNLENBQUNELE9BQU8sQ0FBQ0UsSUFBUixDQUFhLE9BQWIsRUFBc0JDLElBQXRCLENBQTJCLE9BQTNCLENBQUQsQ0FBTixDQUE0Q0MsT0FBNUMsQ0FBb0RILE1BQU0sQ0FBQ0ksZ0JBQVAsQ0FBd0IsS0FBeEIsQ0FBcEQ7QUFDRCxHQXBCQyxDQUFGO0FBcUJELENBMUNPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbW91bnQgfSBmcm9tICdlbnp5bWUnO1xuaW1wb3J0IEN1cnJlbmN5IGZyb20gJy4uJztcbmltcG9ydCBEYXRhU2V0IGZyb20gJy4uLy4uL2RhdGEtc2V0JztcblxuZGVzY3JpYmUoJ0N1cnJlbmN5JywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHNob3cgVVMkIGluIGEgaW5wdXQgdmFsdWUnLCAoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlRGF0YVNldENoYW5nZSA9IGplc3QuZm4oKTtcbiAgICBjb25zdCBkcyA9IG5ldyBEYXRhU2V0KHtcbiAgICAgIGF1dG9DcmVhdGU6IHRydWUsXG4gICAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdtb25leScsXG4gICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgZGVmYXVsdFZhbHVlOiAxMDAwMDAwMDAwMDAwMDAsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgY3VycmVuY3k6ICdVU0QnLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGV2ZW50czoge1xuICAgICAgICB1cGRhdGU6IGhhbmRsZURhdGFTZXRDaGFuZ2UsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudCg8Q3VycmVuY3kgZGF0YVNldD17ZHN9IG5hbWU9XCJtb25leVwiIC8+KTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCdpbnB1dCcpLnByb3AoJ3ZhbHVlJykpLnRvRXF1YWwoZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJyQxMDAsMDAwLDAwMCwwMDAsMDAwLjAwJykpO1xuICB9KTtcbiAgaXQoJ3Nob3VsZCBzaG93IO+/pSBpbiBhIGlucHV0IHZhbHVlJywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZURhdGFTZXRDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgY29uc3QgZHMgPSBuZXcgRGF0YVNldCh7XG4gICAgICBhdXRvQ3JlYXRlOiB0cnVlLFxuICAgICAgZmllbGRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnbW9uZXknLFxuICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMjAwLFxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIGN1cnJlbmN5OiAnQ05ZJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgdXBkYXRlOiBoYW5kbGVEYXRhU2V0Q2hhbmdlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPEN1cnJlbmN5IGRhdGFTZXQ9e2RzfSBuYW1lPVwibW9uZXlcIiAvPik7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnaW5wdXQnKS5wcm9wKCd2YWx1ZScpKS50b0VxdWFsKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCfCpScpKTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCdpbnB1dCcpLnByb3AoJ3ZhbHVlJykpLnRvRXF1YWwoZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJzIwMCcpKTtcbiAgfSk7XG59KTtcbiJdfQ==