{"version":3,"sources":["tabs/Tabs.jsx"],"names":["Children","props","child","activeKey","keys","Tabs","Component","destroyInactiveTabPane","PropTypes","renderTabBar","renderTabContent","onChange","children","prefixCls","className","tabBarPosition","style","defaultActiveKey","string","noop","TabPane","getDefaultActiveKey","nextProps","activeKeyIsValid","eventKeyCode","e","KeyCode","nextKey","previousKey","c","length","ret","i","restProps","cls","contents","key","onKeyDown","onTabClick","panels"],"mappings":"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","sourcesContent":["import React, { Children, cloneElement, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport noop from 'lodash/noop';\nimport classnames from 'classnames';\nimport KeyCode from './KeyCode';\nimport TabPane from './TabPane';\nimport { generateKey, getDataAttr } from './utils';\n\nfunction getDefaultActiveKey(props) {\n  let activeKey;\n  Children.forEach(props.children, (child, index) => {\n    if (child && !activeKey && !child.props.disabled) {\n      activeKey = generateKey(child.key, index);\n    }\n  });\n  return activeKey;\n}\n\nfunction activeKeyIsValid(props, key) {\n  const keys = Children.map(\n    props.children,\n    (child, index) => child && generateKey(child.key, index),\n  );\n  return keys.indexOf(key) >= 0;\n}\n\nexport default class Tabs extends Component {\n  static propTypes = {\n    destroyInactiveTabPane: PropTypes.bool,\n    renderTabBar: PropTypes.func.isRequired,\n    renderTabContent: PropTypes.func.isRequired,\n    onChange: PropTypes.func,\n    children: PropTypes.any,\n    prefixCls: PropTypes.string,\n    className: PropTypes.string,\n    tabBarPosition: PropTypes.string,\n    style: PropTypes.object,\n    activeKey: PropTypes.string,\n    defaultActiveKey: PropTypes.string,\n  };\n\n  static defaultProps = {\n    prefixCls: 'rc-tabs',\n    destroyInactiveTabPane: false,\n    onChange: noop,\n    tabBarPosition: 'top',\n    style: {},\n  };\n\n  static TabPane = TabPane;\n\n  constructor(props) {\n    super(props);\n\n    let activeKey;\n    if ('activeKey' in props) {\n      activeKey = props.activeKey;\n    } else if ('defaultActiveKey' in props) {\n      activeKey = props.defaultActiveKey;\n    } else {\n      activeKey = getDefaultActiveKey(props);\n    }\n\n    this.state = {\n      activeKey,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if ('activeKey' in nextProps) {\n      this.setState({\n        activeKey: nextProps.activeKey,\n      });\n    } else if (!activeKeyIsValid(nextProps, this.state.activeKey)) {\n      this.setState({\n        activeKey: getDefaultActiveKey(nextProps),\n      });\n    }\n  }\n\n  onTabClick = activeKey => {\n    if (this.tabBar.props.onTabClick) {\n      this.tabBar.props.onTabClick(activeKey);\n    }\n    this.setActiveKey(activeKey);\n  };\n\n  onNavKeyDown = e => {\n    const eventKeyCode = e.keyCode;\n    if (eventKeyCode === KeyCode.RIGHT || eventKeyCode === KeyCode.DOWN) {\n      e.preventDefault();\n      const nextKey = this.getNextActiveKey(true);\n      this.onTabClick(nextKey);\n    } else if (eventKeyCode === KeyCode.LEFT || eventKeyCode === KeyCode.UP) {\n      e.preventDefault();\n      const previousKey = this.getNextActiveKey(false);\n      this.onTabClick(previousKey);\n    }\n  };\n\n  setActiveKey = activeKey => {\n    if (this.state.activeKey !== activeKey) {\n      if (!('activeKey' in this.props)) {\n        this.setState({\n          activeKey,\n        });\n      }\n      this.props.onChange(activeKey);\n    }\n  };\n\n  getNextActiveKey = next => {\n    const activeKey = this.state.activeKey;\n    const children = [];\n    Children.forEach(this.props.children, c => {\n      if (c && !c.props.disabled) {\n        if (next) {\n          children.push(c);\n        } else {\n          children.unshift(c);\n        }\n      }\n    });\n    const length = children.length;\n    let ret = length && generateKey(children[0].key, 0);\n    children.forEach((child, i) => {\n      if (generateKey(child.key, i) === activeKey) {\n        if (i === length - 1) {\n          ret = generateKey(children[0].key, 0);\n        } else {\n          ret = generateKey(children[i + 1].key, i + 1);\n        }\n      }\n    });\n    return ret;\n  };\n\n  render() {\n    const props = this.props;\n    const {\n      prefixCls,\n      tabBarPosition,\n      className,\n      renderTabContent,\n      renderTabBar,\n      destroyInactiveTabPane,\n      ...restProps\n    } = props;\n    const cls = classnames({\n      [prefixCls]: 1,\n      [`${prefixCls}-${tabBarPosition}`]: 1,\n      [className]: !!className,\n    });\n\n    this.tabBar = renderTabBar();\n    const contents = [\n      cloneElement(this.tabBar, {\n        prefixCls,\n        key: 'tabBar',\n        onKeyDown: this.onNavKeyDown,\n        tabBarPosition,\n        onTabClick: this.onTabClick,\n        panels: props.children,\n        activeKey: this.state.activeKey,\n      }),\n      cloneElement(renderTabContent(), {\n        prefixCls,\n        tabBarPosition,\n        activeKey: this.state.activeKey,\n        destroyInactiveTabPane,\n        children: props.children,\n        onChange: this.setActiveKey,\n        key: 'tabContent',\n      }),\n    ];\n    if (tabBarPosition === 'bottom') {\n      contents.reverse();\n    }\n    return (\n      <div className={cls} style={props.style} {...getDataAttr(restProps)}>\n        {contents}\n      </div>\n    );\n  }\n}\n"]}