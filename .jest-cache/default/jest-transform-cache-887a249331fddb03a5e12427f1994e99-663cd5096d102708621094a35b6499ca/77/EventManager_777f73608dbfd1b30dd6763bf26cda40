dfbbd67e43005f60974fe411414fd3e1
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.preventDefault = preventDefault;
exports.stopPropagation = stopPropagation;
exports.stopEvent = stopEvent;
exports["default"] = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

function on(eventName, fn, el, useCapture) {
  if (el) {
    if (el.addEventListener) {
      el.addEventListener(eventName, fn, useCapture);
    } else if (el.attachEvent) {
      el.attachEvent("on".concat(eventName), fn);
    }
  }
}

function off(eventName, fn, el, useCapture) {
  if (el) {
    if (el.removeEventListener) {
      el.removeEventListener(eventName, fn, useCapture);
    } else if (el.attachEvent) {
      el.detachEvent("on".concat(eventName), fn);
    }
  }
}

var EventManager =
/*#__PURE__*/
function () {
  function EventManager(el) {
    (0, _classCallCheck2["default"])(this, EventManager);
    this.events = {};
    this.el = el;
  }

  (0, _createClass2["default"])(EventManager, [{
    key: "addEventListener",
    value: function addEventListener(eventName, fn) {
      var useCapture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      eventName = eventName.toLowerCase();
      var events = this.events[eventName] || [];
      var index = events.findIndex(function (_ref) {
        var _ref2 = (0, _slicedToArray2["default"])(_ref, 1),
            event = _ref2[0];

        return event === fn;
      });

      if (index === -1) {
        events.push([fn, useCapture]);
        this.events[eventName] = events;
        on(eventName, fn, this.el, useCapture);
      }

      return this;
    }
  }, {
    key: "removeEventListener",
    value: function removeEventListener(eventName, fn) {
      var _this = this;

      var useCapture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      eventName = eventName.toLowerCase();
      var events = this.events[eventName];

      if (events) {
        if (fn) {
          var index = events.findIndex(function (_ref3) {
            var _ref4 = (0, _slicedToArray2["default"])(_ref3, 1),
                event = _ref4[0];

            return event === fn;
          });

          if (index !== -1) {
            events.splice(index, 1);
          }

          off(eventName, fn, this.el, useCapture);
        } else {
          this.events[eventName] = this.el ? (this.events[eventName] || []).filter(function (_ref5) {
            var _ref6 = (0, _slicedToArray2["default"])(_ref5, 2),
                event = _ref6[0],
                capture = _ref6[1];

            off(eventName, event, _this.el, capture);
            return false;
          }) : [];
        }
      }

      return this;
    }
  }, {
    key: "fireEvent",
    value: function fireEvent(eventName) {
      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        rest[_key - 1] = arguments[_key];
      }

      var events = this.events[eventName.toLowerCase()];
      return events ? Promise.all(events.map(function (_ref7) {
        var _ref8 = (0, _slicedToArray2["default"])(_ref7, 1),
            fn = _ref8[0];

        return fn.apply(void 0, rest);
      })).then(function (all) {
        return all.every(function (result) {
          return result !== false;
        });
      }) : Promise.resolve(true);
    }
  }, {
    key: "clear",
    value: function clear() {
      var _this2 = this;

      if (this.el) {
        Object.keys(this.events).forEach(function (eventName) {
          return _this2.removeEventListener(eventName);
        });
      }

      this.events = {};
      return this;
    }
  }]);
  return EventManager;
}();

exports["default"] = EventManager;

function preventDefault(e) {
  e.preventDefault();
}

function stopPropagation(e) {
  e.stopPropagation();
}

function stopEvent(e) {
  preventDefault(e);
  stopPropagation(e);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl91dGlsL0V2ZW50TWFuYWdlci5qcyJdLCJuYW1lcyI6WyJlbCIsIkV2ZW50TWFuYWdlciIsImV2ZW50TmFtZSIsImZuIiwidXNlQ2FwdHVyZSIsImV2ZW50cyIsImluZGV4IiwiZXZlbnQiLCJvbiIsIm9mZiIsImNhcHR1cmUiLCJyZXN0IiwicmVzdWx0IiwiUHJvbWlzZSIsIk9iamVjdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsU0FBQSxFQUFBLENBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUEyQztBQUN2QyxNQUFBLEVBQUEsRUFBUTtBQUNKLFFBQUlBLEVBQUUsQ0FBTixnQkFBQSxFQUF5QjtBQUNyQkEsTUFBQUEsRUFBRSxDQUFGQSxnQkFBQUEsQ0FBQUEsU0FBQUEsRUFBQUEsRUFBQUEsRUFBQUEsVUFBQUE7QUFESixLQUFBLE1BR0ssSUFBSUEsRUFBRSxDQUFOLFdBQUEsRUFBb0I7QUFDckJBLE1BQUFBLEVBQUUsQ0FBRkEsV0FBQUEsQ0FBQUEsS0FBQUEsTUFBQUEsQ0FBQUEsU0FBQUEsQ0FBQUEsRUFBQUEsRUFBQUE7QUFDSDtBQUNKO0FBQ0o7O0FBQ0QsU0FBQSxHQUFBLENBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUE0QztBQUN4QyxNQUFBLEVBQUEsRUFBUTtBQUNKLFFBQUlBLEVBQUUsQ0FBTixtQkFBQSxFQUE0QjtBQUN4QkEsTUFBQUEsRUFBRSxDQUFGQSxtQkFBQUEsQ0FBQUEsU0FBQUEsRUFBQUEsRUFBQUEsRUFBQUEsVUFBQUE7QUFESixLQUFBLE1BR0ssSUFBSUEsRUFBRSxDQUFOLFdBQUEsRUFBb0I7QUFDckJBLE1BQUFBLEVBQUUsQ0FBRkEsV0FBQUEsQ0FBQUEsS0FBQUEsTUFBQUEsQ0FBQUEsU0FBQUEsQ0FBQUEsRUFBQUEsRUFBQUE7QUFDSDtBQUNKO0FBQ0o7O0lBQ29C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QUksQ0FBSjtBQURoRCxPQUNQLENBRE8sR0FFUEMsT0FBTyxDQUFQQSxPQUFBQSxDQUZOLElBRU1BLENBRk47QUFHSDs7OzRCQUNPO0FBQUEsVUFBQSxNQUFBLEdBQUEsSUFBQTs7QUFDSixVQUFJLEtBQUosRUFBQSxFQUFhO0FBQ1RDLFFBQUFBLE1BQU0sQ0FBTkEsSUFBQUEsQ0FBWSxLQUFaQSxNQUFBQSxFQUFBQSxPQUFBQSxDQUFpQyxVQUFBLFNBQUEsRUFBUztBQUFBLGlCQUFJLE1BQUksQ0FBSixtQkFBQSxDQUFKLFNBQUksQ0FBSjtBQUExQ0EsU0FBQUE7QUFDSDs7QUFDRCxXQUFBLE1BQUEsR0FBQSxFQUFBO0FBQ0EsYUFBQSxJQUFBO0FBQ0g7Ozs7Ozs7QUFFRSxTQUFBLGNBQUEsQ0FBQSxDQUFBLEVBQTJCO0FBQzlCQyxFQUFBQSxDQUFDLENBQURBLGNBQUFBO0FBQ0g7O0FBQ00sU0FBQSxlQUFBLENBQUEsQ0FBQSxFQUE0QjtBQUMvQkEsRUFBQUEsQ0FBQyxDQUFEQSxlQUFBQTtBQUNIOztBQUNNLFNBQUEsU0FBQSxDQUFBLENBQUEsRUFBc0I7QUFDekJDLEVBQUFBLGNBQWMsQ0FBZEEsQ0FBYyxDQUFkQTtBQUNBQyxFQUFBQSxlQUFlLENBQWZBLENBQWUsQ0FBZkE7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG9uKGV2ZW50TmFtZSwgZm4sIGVsLCB1c2VDYXB0dXJlKSB7XG4gICAgaWYgKGVsKSB7XG4gICAgICAgIGlmIChlbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm4sIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVsLmF0dGFjaEV2ZW50KSB7XG4gICAgICAgICAgICBlbC5hdHRhY2hFdmVudChgb24ke2V2ZW50TmFtZX1gLCBmbik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBvZmYoZXZlbnROYW1lLCBmbiwgZWwsIHVzZUNhcHR1cmUpIHtcbiAgICBpZiAoZWwpIHtcbiAgICAgICAgaWYgKGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmbiwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZWwuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIGVsLmRldGFjaEV2ZW50KGBvbiR7ZXZlbnROYW1lfWAsIGZuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50TWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoZWwpIHtcbiAgICAgICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgIH1cbiAgICBhZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm4sIHVzZUNhcHR1cmUgPSBmYWxzZSkge1xuICAgICAgICBldmVudE5hbWUgPSBldmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ldmVudHNbZXZlbnROYW1lXSB8fCBbXTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBldmVudHMuZmluZEluZGV4KChbZXZlbnRdKSA9PiBldmVudCA9PT0gZm4pO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBldmVudHMucHVzaChbZm4sIHVzZUNhcHR1cmVdKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBldmVudHM7XG4gICAgICAgICAgICBvbihldmVudE5hbWUsIGZuLCB0aGlzLmVsLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZuLCB1c2VDYXB0dXJlID0gZmFsc2UpIHtcbiAgICAgICAgZXZlbnROYW1lID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmIChldmVudHMpIHtcbiAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZXZlbnRzLmZpbmRJbmRleCgoW2V2ZW50XSkgPT4gZXZlbnQgPT09IGZuKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmYoZXZlbnROYW1lLCBmbiwgdGhpcy5lbCwgdXNlQ2FwdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gdGhpcy5lbFxuICAgICAgICAgICAgICAgICAgICA/ICh0aGlzLmV2ZW50c1tldmVudE5hbWVdIHx8IFtdKS5maWx0ZXIoKFtldmVudCwgY2FwdHVyZV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZihldmVudE5hbWUsIGV2ZW50LCB0aGlzLmVsLCBjYXB0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZmlyZUV2ZW50KGV2ZW50TmFtZSwgLi4ucmVzdCkge1xuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLmV2ZW50c1tldmVudE5hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIHJldHVybiBldmVudHNcbiAgICAgICAgICAgID8gUHJvbWlzZS5hbGwoZXZlbnRzLm1hcCgoW2ZuXSkgPT4gZm4oLi4ucmVzdCkpKS50aGVuKGFsbCA9PiBhbGwuZXZlcnkocmVzdWx0ID0+IHJlc3VsdCAhPT0gZmFsc2UpKVxuICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBpZiAodGhpcy5lbCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5ldmVudHMpLmZvckVhY2goZXZlbnROYW1lID0+IHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50cyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RvcEV2ZW50KGUpIHtcbiAgICBwcmV2ZW50RGVmYXVsdChlKTtcbiAgICBzdG9wUHJvcGFnYXRpb24oZSk7XG59XG4iXX0=