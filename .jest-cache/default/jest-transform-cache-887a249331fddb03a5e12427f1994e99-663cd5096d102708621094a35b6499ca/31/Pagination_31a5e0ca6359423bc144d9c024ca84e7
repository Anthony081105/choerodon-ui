2df725f4c71e23ca6117cfe1898ea9a6
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _classnames = _interopRequireDefault(require("classnames"));

var _noop = _interopRequireDefault(require("lodash/noop"));

var _Pager = _interopRequireDefault(require("./Pager"));

var _Options = _interopRequireDefault(require("./Options"));

var _KeyCode = _interopRequireDefault(require("./KeyCode"));

var _zh_CN = _interopRequireDefault(require("./locale/zh_CN"));

function isInteger(value) {
  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;
}

function defaultItemRender(page, type, element) {
  return element;
}

var Pagination =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(Pagination, _Component);

  function Pagination(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, Pagination);
    _this = (0, _possibleConstructorReturn2["default"])(this, (0, _getPrototypeOf2["default"])(Pagination).call(this, props));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "savePaginationNode", function (node) {
      _this.paginationNode = node;
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "calculatePage", function (p) {
      var pageSize = p;

      if (typeof pageSize === 'undefined') {
        pageSize = _this.state.pageSize;
      }

      return Math.floor((_this.props.total - 1) / pageSize) + 1;
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "isValid", function (page) {
      return isInteger(page) && page >= 1 && page !== _this.state.current;
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleKeyDown", function (e) {
      if (e.keyCode === _KeyCode["default"].ARROW_UP || e.keyCode === _KeyCode["default"].ARROW_DOWN) {
        e.preventDefault();
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleKeyUp", function (e) {
      var inputValue = e.target.value;
      var currentInputValue = _this.state.currentInputValue;
      var value;

      if (inputValue === '') {
        value = inputValue;
      } else if (isNaN(Number(inputValue))) {
        value = currentInputValue;
      } else {
        value = Number(inputValue);
      }

      if (value !== currentInputValue) {
        _this.setState({
          currentInputValue: value
        });
      }

      if (e.keyCode === _KeyCode["default"].ENTER) {
        _this.handleChange(value);
      } else if (e.keyCode === _KeyCode["default"].ARROW_UP) {
        _this.handleChange(value - 1);
      } else if (e.keyCode === _KeyCode["default"].ARROW_DOWN) {
        _this.handleChange(value + 1);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "changePageSize", function (size) {
      var current = _this.state.current;

      var newCurrent = _this.calculatePage(size);

      current = current > newCurrent ? newCurrent : current;

      if (typeof size === 'number') {
        if (!('pageSize' in _this.props)) {
          _this.setState({
            pageSize: size
          });
        }

        if (!('current' in _this.props)) {
          _this.setState({
            current: current,
            currentInputValue: current
          });
        }
      }

      _this.props.onShowSizeChange(current, size);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleChange", function (p) {
      var page = p;

      if (_this.isValid(page)) {
        if (page > _this.calculatePage()) {
          page = _this.calculatePage();
        }

        if (!('current' in _this.props)) {
          _this.setState({
            current: page,
            currentInputValue: page
          });
        }

        var pageSize = _this.state.pageSize;

        _this.props.onChange(page, pageSize);

        return page;
      }

      return _this.state.current;
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "first", function () {
      if (_this.hasPrev()) {
        _this.handleChange(1);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "last", function () {
      if (_this.hasNext()) {
        _this.handleChange(_this.calculatePage());
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "prev", function () {
      if (_this.hasPrev()) {
        _this.handleChange(_this.state.current - 1);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "next", function () {
      if (_this.hasNext()) {
        _this.handleChange(_this.state.current + 1);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "jumpPrev", function () {
      _this.handleChange(_this.getJumpPrevPage());
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "jumpNext", function () {
      _this.handleChange(_this.getJumpNextPage());
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "hasPrev", function () {
      return _this.state.current > 1;
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "hasNext", function () {
      return _this.state.current < _this.calculatePage();
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "runIfEnter", function (event, callback) {
      if (event.key === 'Enter' || event.charCode === 13) {
        for (var _len = arguments.length, restParams = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
          restParams[_key - 2] = arguments[_key];
        }

        callback.apply(void 0, restParams);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "runIfEnterFirst", function (e) {
      _this.runIfEnter(e, _this.first);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "runIfEnterLast", function (e) {
      _this.runIfEnter(e, _this.last);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "runIfEnterPrev", function (e) {
      _this.runIfEnter(e, _this.prev);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "runIfEnterNext", function (e) {
      _this.runIfEnter(e, _this.next);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "runIfEnterJumpPrev", function (e) {
      _this.runIfEnter(e, _this.jumpPrev);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "runIfEnterJumpNext", function (e) {
      _this.runIfEnter(e, _this.jumpNext);
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleGoTO", function (e) {
      if (e.keyCode === _KeyCode["default"].ENTER || e.type === 'click') {
        _this.handleChange(_this.state.currentInputValue);
      }
    });
    var hasOnChange = props.onChange !== _noop["default"];
    var hasCurrent = 'current' in props;

    if (hasCurrent && !hasOnChange) {
      console.warn('Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.'); // eslint-disable-line
    }

    var _current = props.defaultCurrent;

    if ('current' in props) {
      _current = props.current;
    }

    var _pageSize = props.defaultPageSize;

    if ('pageSize' in props) {
      _pageSize = props.pageSize;
    }

    _this.state = {
      current: _current,
      currentInputValue: _current,
      pageSize: _pageSize
    };
    return _this;
  }

  (0, _createClass2["default"])(Pagination, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if ('current' in nextProps) {
        this.setState({
          current: nextProps.current,
          currentInputValue: nextProps.current
        });
      }

      if ('pageSize' in nextProps) {
        var newState = {};
        var current = this.state.current;
        var newCurrent = this.calculatePage(nextProps.pageSize);
        current = current > newCurrent ? newCurrent : current;

        if (!('current' in nextProps)) {
          newState.current = current;
          newState.currentInputValue = current;
        }

        newState.pageSize = nextProps.pageSize;
        this.setState(newState);
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      // When current page change, fix focused style of prev item
      var prefixCls = this.props.prefixCls;

      if (prevState.current !== this.state.current && this.paginationNode) {
        var lastCurrentNode = this.paginationNode.querySelector(".".concat(prefixCls, "-item-").concat(prevState.current));

        if (lastCurrentNode && document.activeElement === lastCurrentNode) {
          lastCurrentNode.blur();
        }
      }
    }
  }, {
    key: "getJumpPrevPage",
    value: function getJumpPrevPage() {
      return Math.max(1, this.state.current - (this.props.showLessItems ? 3 : 5));
    }
  }, {
    key: "getJumpNextPage",
    value: function getJumpNextPage() {
      return Math.min(this.calculatePage(), this.state.current + (this.props.showLessItems ? 3 : 5));
    }
  }, {
    key: "getJumpPrevPage",
    value: function getJumpPrevPage() {
      return Math.max(1, this.state.current - (this.props.showLessItems ? 3 : 5));
    }
  }, {
    key: "getJumpNextPage",
    value: function getJumpNextPage() {
      return Math.min(this.calculatePage(), this.state.current + (this.props.showLessItems ? 3 : 5));
    }
  }, {
    key: "render",
    value: function render() {
      // When hideOnSinglePage is true and there is only 1 page, hide the pager
      if (this.props.hideOnSinglePage === true && this.props.total <= this.state.pageSize) {
        return null;
      }

      var props = this.props;
      var locale = props.locale;
      var prefixCls = props.prefixCls;
      var allPages = this.calculatePage();
      var pagerList = [];
      var jumpPrev = null;
      var jumpNext = null;
      var firstPager = null;
      var lastPager = null;
      var gotoButton = null;
      var goButton = props.showQuickJumper && props.showQuickJumper.goButton;
      var pageBufferSize = props.showLessItems ? 1 : 2;
      var _this$state = this.state,
          current = _this$state.current,
          pageSize = _this$state.pageSize;
      var prevPage = current - 1 > 0 ? current - 1 : 0;
      var nextPage = current + 1 < allPages ? current + 1 : allPages;

      if (props.simple) {
        if (goButton) {
          if (typeof goButton === 'boolean') {
            gotoButton = _react["default"].createElement("button", {
              type: "button",
              onClick: this.handleGoTO,
              onKeyUp: this.handleGoTO
            }, locale.jump_to_confirm);
          } else {
            gotoButton = _react["default"].createElement("span", {
              onClick: this.handleGoTO,
              onKeyUp: this.handleGoTO
            }, goButton);
          }

          gotoButton = _react["default"].createElement("li", {
            title: props.showTitle ? "".concat(locale.jump_to).concat(this.state.current, "/").concat(allPages) : null,
            className: "".concat(prefixCls, "-simple-pager")
          }, gotoButton);
        }

        return _react["default"].createElement("ul", {
          className: "".concat(prefixCls, " ").concat(prefixCls, "-simple ").concat(props.className),
          style: props.style
        }, _react["default"].createElement("li", {
          title: props.showTitle ? locale.prev_page : null,
          onClick: this.prev,
          tabIndex: this.hasPrev() ? 0 : null,
          onKeyPress: this.runIfEnterPrev,
          className: "".concat(this.hasPrev() ? '' : "".concat(prefixCls, "-disabled"), " ").concat(prefixCls, "-prev"),
          "aria-disabled": !this.hasPrev()
        }, props.itemRender(prevPage, 'prev', _react["default"].createElement("a", {
          className: "".concat(prefixCls, "-item-link")
        }), !this.hasPrev(), 'small')), _react["default"].createElement("li", {
          title: props.showTitle ? "".concat(this.state.current, "/").concat(allPages) : null,
          className: "".concat(prefixCls, "-simple-pager")
        }, _react["default"].createElement("input", {
          type: "text",
          value: this.state.currentInputValue,
          onKeyDown: this.handleKeyDown,
          onKeyUp: this.handleKeyUp,
          onChange: this.handleKeyUp,
          size: "3"
        }), _react["default"].createElement("span", {
          className: "".concat(prefixCls, "-slash")
        }, "\uFF0F"), allPages), _react["default"].createElement("li", {
          title: props.showTitle ? locale.next_page : null,
          onClick: this.next,
          tabIndex: this.hasPrev() ? 0 : null,
          onKeyPress: this.runIfEnterNext,
          className: "".concat(this.hasNext() ? '' : "".concat(prefixCls, "-disabled"), " ").concat(prefixCls, "-next"),
          "aria-disabled": !this.hasNext()
        }, props.itemRender(nextPage, 'next', _react["default"].createElement("a", {
          className: "".concat(prefixCls, "-item-link")
        }), !this.hasNext(), 'small')), gotoButton);
      }

      if (allPages <= 5 + pageBufferSize * 2) {
        for (var i = 1; i <= allPages; i++) {
          var active = this.state.current === i;
          pagerList.push(_react["default"].createElement(_Pager["default"], {
            size: props.size,
            locale: locale,
            rootPrefixCls: prefixCls,
            onClick: this.handleChange,
            onKeyPress: this.runIfEnter,
            key: i,
            page: i,
            active: active,
            showTitle: props.showTitle,
            itemRender: props.itemRender
          }));
        }
      } else {
        var prevItemTitle = props.showLessItems ? locale.prev_3 : locale.prev_5;
        var nextItemTitle = props.showLessItems ? locale.next_3 : locale.next_5;

        if (props.showPrevNextJumpers) {
          jumpPrev = _react["default"].createElement("li", {
            title: props.showTitle ? prevItemTitle : null,
            key: "prev",
            onClick: this.jumpPrev,
            tabIndex: "0",
            onKeyPress: this.runIfEnterJumpPrev,
            className: "".concat(prefixCls, "-jump-prev")
          }, props.itemRender(this.getJumpPrevPage(), 'jump-prev', _react["default"].createElement("a", {
            className: "".concat(prefixCls, "-item-link")
          }, "\u2022\u2022\u2022"), props.size));
          jumpNext = _react["default"].createElement("li", {
            title: props.showTitle ? nextItemTitle : null,
            key: "next",
            tabIndex: "0",
            onClick: this.jumpNext,
            onKeyPress: this.runIfEnterJumpNext,
            className: "".concat(prefixCls, "-jump-next")
          }, props.itemRender(this.getJumpNextPage(), 'jump-next', _react["default"].createElement("a", {
            className: "".concat(prefixCls, "-item-link")
          }, "\u2022\u2022\u2022"), props.size));
        }

        lastPager = _react["default"].createElement(_Pager["default"], {
          size: props.size,
          locale: props.locale,
          last: true,
          rootPrefixCls: prefixCls,
          onClick: this.handleChange,
          onKeyPress: this.runIfEnter,
          key: allPages,
          page: allPages,
          active: false,
          showTitle: props.showTitle,
          itemRender: props.itemRender
        });
        firstPager = _react["default"].createElement(_Pager["default"], {
          size: props.size,
          locale: props.locale,
          rootPrefixCls: prefixCls,
          onClick: this.handleChange,
          onKeyPress: this.runIfEnter,
          key: 1,
          page: 1,
          active: false,
          showTitle: props.showTitle,
          itemRender: props.itemRender
        });
        var left = Math.max(1, current - pageBufferSize);
        var right = Math.min(current + pageBufferSize, allPages);

        if (current - 1 <= pageBufferSize) {
          right = 1 + pageBufferSize * 2;
        }

        if (allPages - current <= pageBufferSize) {
          left = allPages - pageBufferSize * 2;
        }

        for (var _i = left; _i <= right; _i++) {
          var _active = current === _i;

          pagerList.push(_react["default"].createElement(_Pager["default"], {
            size: props.size,
            locale: props.locale,
            rootPrefixCls: prefixCls,
            onClick: this.handleChange,
            onKeyPress: this.runIfEnter,
            key: _i,
            page: _i,
            active: _active,
            showTitle: props.showTitle,
            itemRender: props.itemRender
          }));
        }

        if (current - 1 >= pageBufferSize * 2 && current !== 1 + 2) {
          pagerList[0] = (0, _react.cloneElement)(pagerList[0], {
            className: "".concat(prefixCls, "-item-after-jump-prev")
          });
          pagerList.unshift(jumpPrev);
        }

        if (allPages - current >= pageBufferSize * 2 && current !== allPages - 2) {
          pagerList[pagerList.length - 1] = (0, _react.cloneElement)(pagerList[pagerList.length - 1], {
            className: "".concat(prefixCls, "-item-before-jump-next")
          });
          pagerList.push(jumpNext);
        }

        if (left !== 1) {
          pagerList.unshift(firstPager);
        }

        if (right !== allPages) {
          pagerList.push(lastPager);
        }
      }

      var totalText = null;

      if (props.showTotal) {
        totalText = _react["default"].createElement("li", {
          className: "".concat(prefixCls, "-total-text")
        }, props.showTotal(props.total, [(current - 1) * pageSize + 1, current * pageSize > props.total ? props.total : current * pageSize]));
      }

      if (props.tiny) {
        var fistDisabled = !this.hasPrev();
        var lastDisabled = !this.hasNext();
        firstPager = _react["default"].createElement("li", {
          title: props.showTitle ? locale.first_page : null,
          onClick: this.first,
          tabIndex: fistDisabled ? null : 0,
          onKeyPress: this.runIfEnterFirst,
          className: "".concat(!fistDisabled ? '' : "".concat(prefixCls, "-disabled"), " ").concat(prefixCls, "-first"),
          "aria-disabled": fistDisabled
        }, props.itemRender(1, 'first', _react["default"].createElement("a", {
          className: "".concat(prefixCls, "-item-link")
        }), fistDisabled, props.size));
        lastPager = _react["default"].createElement("li", {
          title: props.showTitle ? locale.last_page : null,
          onClick: this.last,
          tabIndex: lastDisabled ? null : 0,
          onKeyPress: this.runIfEnterLast,
          className: "".concat(!lastDisabled ? '' : "".concat(prefixCls, "-disabled"), " ").concat(prefixCls, "-last"),
          "aria-disabled": lastDisabled
        }, props.itemRender(allPages, 'last', _react["default"].createElement("a", {
          className: "".concat(prefixCls, "-item-link")
        }), lastDisabled, props.size));
      }

      var prevDisabled = !this.hasPrev();
      var nextDisabled = !this.hasNext();

      var sizeChanger = _react["default"].createElement(_Options["default"], {
        locale: props.locale,
        rootPrefixCls: prefixCls,
        selectComponentClass: props.selectComponentClass,
        selectPrefixCls: props.selectPrefixCls,
        changeSize: this.props.showSizeChanger ? this.changePageSize : null,
        current: this.state.current,
        pageSize: this.state.pageSize,
        pageSizeOptions: this.props.pageSizeOptions,
        quickGo: this.props.showQuickJumper ? this.handleChange : null,
        goButton: goButton,
        buildOptionText: props.sizeChangerOptionText,
        changeSizeLabel: this.props.showSizeChangerLabel
      });

      var classString = (0, _classnames["default"])(prefixCls, props.className, (0, _defineProperty2["default"])({}, "".concat(prefixCls, "-tiny"), props.tiny));
      return _react["default"].createElement("ul", {
        className: classString,
        style: props.style,
        unselectable: "unselectable",
        ref: this.savePaginationNode
      }, props.tiny && sizeChanger, totalText, props.tiny && firstPager, _react["default"].createElement("li", {
        title: props.showTitle ? locale.prev_page : null,
        onClick: this.prev,
        tabIndex: prevDisabled ? null : 0,
        onKeyPress: this.runIfEnterPrev,
        className: "".concat(!prevDisabled ? '' : "".concat(prefixCls, "-disabled"), " ").concat(prefixCls, "-prev"),
        "aria-disabled": prevDisabled
      }, props.itemRender(prevPage, 'prev', _react["default"].createElement("a", {
        className: "".concat(prefixCls, "-item-link")
      }), prevDisabled, props.size)), !props.tiny && pagerList, _react["default"].createElement("li", {
        title: props.showTitle ? locale.next_page : null,
        onClick: this.next,
        tabIndex: nextDisabled ? null : 0,
        onKeyPress: this.runIfEnterNext,
        className: "".concat(!nextDisabled ? '' : "".concat(prefixCls, "-disabled"), " ").concat(prefixCls, "-next"),
        "aria-disabled": nextDisabled
      }, props.itemRender(nextPage, 'next', _react["default"].createElement("a", {
        className: "".concat(prefixCls, "-item-link")
      }), nextDisabled, props.size)), props.tiny ? lastPager : sizeChanger);
    }
  }]);
  return Pagination;
}(_react.Component);

exports["default"] = Pagination;
(0, _defineProperty2["default"])(Pagination, "propTypes", {
  prefixCls: _propTypes["default"].string,
  current: _propTypes["default"].number,
  defaultCurrent: _propTypes["default"].number,
  total: _propTypes["default"].number,
  pageSize: _propTypes["default"].number,
  defaultPageSize: _propTypes["default"].number,
  onChange: _propTypes["default"].func,
  hideOnSinglePage: _propTypes["default"].bool,
  showSizeChanger: _propTypes["default"].bool,
  showLessItems: _propTypes["default"].bool,
  onShowSizeChange: _propTypes["default"].func,
  selectComponentClass: _propTypes["default"].func,
  showPrevNextJumpers: _propTypes["default"].bool,
  showQuickJumper: _propTypes["default"].oneOfType([_propTypes["default"].bool, _propTypes["default"].object]),
  showTitle: _propTypes["default"].bool,
  pageSizeOptions: _propTypes["default"].arrayOf(_propTypes["default"].string),
  showTotal: _propTypes["default"].func,
  locale: _propTypes["default"].object,
  style: _propTypes["default"].object,
  itemRender: _propTypes["default"].func,
  tiny: _propTypes["default"].bool
});
(0, _defineProperty2["default"])(Pagination, "defaultProps", {
  defaultCurrent: 1,
  total: 0,
  defaultPageSize: 10,
  onChange: _noop["default"],
  className: '',
  selectPrefixCls: 'rc-select',
  prefixCls: 'rc-pagination',
  selectComponentClass: null,
  hideOnSinglePage: false,
  showPrevNextJumpers: true,
  showQuickJumper: false,
  showSizeChanger: false,
  showLessItems: false,
  showTitle: true,
  onShowSizeChange: _noop["default"],
  locale: _zh_CN["default"],
  style: {},
  itemRender: defaultItemRender
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBhZ2luYXRpb24uanN4Il0sIm5hbWVzIjpbImlzSW50ZWdlciIsInZhbHVlIiwiaXNGaW5pdGUiLCJNYXRoIiwiZmxvb3IiLCJkZWZhdWx0SXRlbVJlbmRlciIsInBhZ2UiLCJ0eXBlIiwiZWxlbWVudCIsIlBhZ2luYXRpb24iLCJwcm9wcyIsIm5vZGUiLCJwYWdpbmF0aW9uTm9kZSIsInAiLCJwYWdlU2l6ZSIsInN0YXRlIiwidG90YWwiLCJjdXJyZW50IiwiZSIsImtleUNvZGUiLCJLRVlDT0RFIiwiQVJST1dfVVAiLCJBUlJPV19ET1dOIiwicHJldmVudERlZmF1bHQiLCJpbnB1dFZhbHVlIiwidGFyZ2V0IiwiY3VycmVudElucHV0VmFsdWUiLCJpc05hTiIsIk51bWJlciIsInNldFN0YXRlIiwiRU5URVIiLCJoYW5kbGVDaGFuZ2UiLCJzaXplIiwibmV3Q3VycmVudCIsImNhbGN1bGF0ZVBhZ2UiLCJvblNob3dTaXplQ2hhbmdlIiwiaXNWYWxpZCIsIm9uQ2hhbmdlIiwiaGFzUHJldiIsImhhc05leHQiLCJnZXRKdW1wUHJldlBhZ2UiLCJnZXRKdW1wTmV4dFBhZ2UiLCJldmVudCIsImNhbGxiYWNrIiwia2V5IiwiY2hhckNvZGUiLCJyZXN0UGFyYW1zIiwicnVuSWZFbnRlciIsImZpcnN0IiwibGFzdCIsInByZXYiLCJuZXh0IiwianVtcFByZXYiLCJqdW1wTmV4dCIsImhhc09uQ2hhbmdlIiwibm9vcCIsImhhc0N1cnJlbnQiLCJjb25zb2xlIiwid2FybiIsImRlZmF1bHRDdXJyZW50IiwiZGVmYXVsdFBhZ2VTaXplIiwibmV4dFByb3BzIiwibmV3U3RhdGUiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJwcmVmaXhDbHMiLCJsYXN0Q3VycmVudE5vZGUiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiYmx1ciIsIm1heCIsInNob3dMZXNzSXRlbXMiLCJtaW4iLCJoaWRlT25TaW5nbGVQYWdlIiwibG9jYWxlIiwiYWxsUGFnZXMiLCJwYWdlckxpc3QiLCJmaXJzdFBhZ2VyIiwibGFzdFBhZ2VyIiwiZ290b0J1dHRvbiIsImdvQnV0dG9uIiwic2hvd1F1aWNrSnVtcGVyIiwicGFnZUJ1ZmZlclNpemUiLCJwcmV2UGFnZSIsIm5leHRQYWdlIiwic2ltcGxlIiwiaGFuZGxlR29UTyIsImp1bXBfdG9fY29uZmlybSIsInNob3dUaXRsZSIsImp1bXBfdG8iLCJjbGFzc05hbWUiLCJzdHlsZSIsInByZXZfcGFnZSIsInJ1bklmRW50ZXJQcmV2IiwiaXRlbVJlbmRlciIsImhhbmRsZUtleURvd24iLCJoYW5kbGVLZXlVcCIsIm5leHRfcGFnZSIsInJ1bklmRW50ZXJOZXh0IiwiaSIsImFjdGl2ZSIsInB1c2giLCJwcmV2SXRlbVRpdGxlIiwicHJldl8zIiwicHJldl81IiwibmV4dEl0ZW1UaXRsZSIsIm5leHRfMyIsIm5leHRfNSIsInNob3dQcmV2TmV4dEp1bXBlcnMiLCJydW5JZkVudGVySnVtcFByZXYiLCJydW5JZkVudGVySnVtcE5leHQiLCJsZWZ0IiwicmlnaHQiLCJ1bnNoaWZ0IiwibGVuZ3RoIiwidG90YWxUZXh0Iiwic2hvd1RvdGFsIiwidGlueSIsImZpc3REaXNhYmxlZCIsImxhc3REaXNhYmxlZCIsImZpcnN0X3BhZ2UiLCJydW5JZkVudGVyRmlyc3QiLCJsYXN0X3BhZ2UiLCJydW5JZkVudGVyTGFzdCIsInByZXZEaXNhYmxlZCIsIm5leHREaXNhYmxlZCIsInNpemVDaGFuZ2VyIiwic2VsZWN0Q29tcG9uZW50Q2xhc3MiLCJzZWxlY3RQcmVmaXhDbHMiLCJzaG93U2l6ZUNoYW5nZXIiLCJjaGFuZ2VQYWdlU2l6ZSIsInBhZ2VTaXplT3B0aW9ucyIsInNpemVDaGFuZ2VyT3B0aW9uVGV4dCIsInNob3dTaXplQ2hhbmdlckxhYmVsIiwiY2xhc3NTdHJpbmciLCJzYXZlUGFnaW5hdGlvbk5vZGUiLCJDb21wb25lbnQiLCJQcm9wVHlwZXMiLCJzdHJpbmciLCJudW1iZXIiLCJmdW5jIiwiYm9vbCIsIm9uZU9m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QUUsRUFMUztBQU1wQnNDLEVBQUFBLGVBQWUsRUFBRSxXQU5HO0FBT3BCaEUsRUFBQUEsU0FBUyxFQUFFLGVBUFM7QUFRcEIrRCxFQUFBQSxvQkFBb0IsRUFBRSxJQVJGO0FBU3BCdEQsRUFBQUEsZ0JBQWdCLEVBQUUsS0FURTtBQVVwQm1DLEVBQUFBLG1CQUFtQixFQUFFLElBVkQ7QUFXcEIzQixFQUFBQSxlQUFlLEVBQUUsS0FYRztBQVlwQmdELEVBQUFBLGVBQWUsRUFBRSxLQVpHO0FBYXBCMUQsRUFBQUEsYUFBYSxFQUFFLEtBYks7QUFjcEJpQixFQUFBQSxTQUFTLEVBQUUsSUFkUztBQWVwQnRELEVBQUFBLGdCQUFnQixFQUFFb0IsZ0JBZkU7QUFnQnBCb0IsRUFBQUEsTUFBTSxFQUFFdUUsaUJBaEJZO0FBaUJwQnRELEVBQUFBLEtBQUssRUFBRSxFQWpCYTtBQWtCcEJHLEVBQUFBLFVBQVUsRUFBRTFGO0FBbEJRLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY2xvbmVFbGVtZW50LCBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgbm9vcCBmcm9tICdsb2Rhc2gvbm9vcCc7XG5pbXBvcnQgUGFnZXIgZnJvbSAnLi9QYWdlcic7XG5pbXBvcnQgT3B0aW9ucyBmcm9tICcuL09wdGlvbnMnO1xuaW1wb3J0IEtFWUNPREUgZnJvbSAnLi9LZXlDb2RlJztcbmltcG9ydCBMT0NBTEUgZnJvbSAnLi9sb2NhbGUvemhfQ04nO1xuXG5mdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiZcbiAgICBpc0Zpbml0ZSh2YWx1ZSkgJiZcbiAgICBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRJdGVtUmVuZGVyKHBhZ2UsIHR5cGUsIGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2luYXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjdXJyZW50OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGRlZmF1bHRDdXJyZW50OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHRvdGFsOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHBhZ2VTaXplOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGRlZmF1bHRQYWdlU2l6ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgaGlkZU9uU2luZ2xlUGFnZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd1NpemVDaGFuZ2VyOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBzaG93TGVzc0l0ZW1zOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBvblNob3dTaXplQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBzZWxlY3RDb21wb25lbnRDbGFzczogUHJvcFR5cGVzLmZ1bmMsXG4gICAgc2hvd1ByZXZOZXh0SnVtcGVyczogUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd1F1aWNrSnVtcGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIHNob3dUaXRsZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgcGFnZVNpemVPcHRpb25zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgICBzaG93VG90YWw6IFByb3BUeXBlcy5mdW5jLFxuICAgIGxvY2FsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBpdGVtUmVuZGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB0aW55OiBQcm9wVHlwZXMuYm9vbCxcbiAgfTtcblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIGRlZmF1bHRDdXJyZW50OiAxLFxuICAgIHRvdGFsOiAwLFxuICAgIGRlZmF1bHRQYWdlU2l6ZTogMTAsXG4gICAgb25DaGFuZ2U6IG5vb3AsXG4gICAgY2xhc3NOYW1lOiAnJyxcbiAgICBzZWxlY3RQcmVmaXhDbHM6ICdyYy1zZWxlY3QnLFxuICAgIHByZWZpeENsczogJ3JjLXBhZ2luYXRpb24nLFxuICAgIHNlbGVjdENvbXBvbmVudENsYXNzOiBudWxsLFxuICAgIGhpZGVPblNpbmdsZVBhZ2U6IGZhbHNlLFxuICAgIHNob3dQcmV2TmV4dEp1bXBlcnM6IHRydWUsXG4gICAgc2hvd1F1aWNrSnVtcGVyOiBmYWxzZSxcbiAgICBzaG93U2l6ZUNoYW5nZXI6IGZhbHNlLFxuICAgIHNob3dMZXNzSXRlbXM6IGZhbHNlLFxuICAgIHNob3dUaXRsZTogdHJ1ZSxcbiAgICBvblNob3dTaXplQ2hhbmdlOiBub29wLFxuICAgIGxvY2FsZTogTE9DQUxFLFxuICAgIHN0eWxlOiB7fSxcbiAgICBpdGVtUmVuZGVyOiBkZWZhdWx0SXRlbVJlbmRlcixcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IGhhc09uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UgIT09IG5vb3A7XG4gICAgY29uc3QgaGFzQ3VycmVudCA9ICgnY3VycmVudCcgaW4gcHJvcHMpO1xuICAgIGlmIChoYXNDdXJyZW50ICYmICFoYXNPbkNoYW5nZSkge1xuICAgICAgY29uc29sZS53YXJuKCdXYXJuaW5nOiBZb3UgcHJvdmlkZWQgYSBgY3VycmVudGAgcHJvcCB0byBhIFBhZ2luYXRpb24gY29tcG9uZW50IHdpdGhvdXQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGNvbXBvbmVudC4nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cblxuICAgIGxldCBjdXJyZW50ID0gcHJvcHMuZGVmYXVsdEN1cnJlbnQ7XG4gICAgaWYgKCdjdXJyZW50JyBpbiBwcm9wcykge1xuICAgICAgY3VycmVudCA9IHByb3BzLmN1cnJlbnQ7XG4gICAgfVxuXG4gICAgbGV0IHBhZ2VTaXplID0gcHJvcHMuZGVmYXVsdFBhZ2VTaXplO1xuICAgIGlmICgncGFnZVNpemUnIGluIHByb3BzKSB7XG4gICAgICBwYWdlU2l6ZSA9IHByb3BzLnBhZ2VTaXplO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50LFxuICAgICAgY3VycmVudElucHV0VmFsdWU6IGN1cnJlbnQsXG4gICAgICBwYWdlU2l6ZSxcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAoJ2N1cnJlbnQnIGluIG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnQ6IG5leHRQcm9wcy5jdXJyZW50LFxuICAgICAgICBjdXJyZW50SW5wdXRWYWx1ZTogbmV4dFByb3BzLmN1cnJlbnQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoJ3BhZ2VTaXplJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0ge307XG4gICAgICBsZXQgY3VycmVudCA9IHRoaXMuc3RhdGUuY3VycmVudDtcbiAgICAgIGNvbnN0IG5ld0N1cnJlbnQgPSB0aGlzLmNhbGN1bGF0ZVBhZ2UobmV4dFByb3BzLnBhZ2VTaXplKTtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50ID4gbmV3Q3VycmVudCA/IG5ld0N1cnJlbnQgOiBjdXJyZW50O1xuICAgICAgaWYgKCEoJ2N1cnJlbnQnIGluIG5leHRQcm9wcykpIHtcbiAgICAgICAgbmV3U3RhdGUuY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICAgIG5ld1N0YXRlLmN1cnJlbnRJbnB1dFZhbHVlID0gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIG5ld1N0YXRlLnBhZ2VTaXplID0gbmV4dFByb3BzLnBhZ2VTaXplO1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgLy8gV2hlbiBjdXJyZW50IHBhZ2UgY2hhbmdlLCBmaXggZm9jdXNlZCBzdHlsZSBvZiBwcmV2IGl0ZW1cbiAgICBjb25zdCB7IHByZWZpeENscyB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAocHJldlN0YXRlLmN1cnJlbnQgIT09IHRoaXMuc3RhdGUuY3VycmVudCAmJiB0aGlzLnBhZ2luYXRpb25Ob2RlKSB7XG4gICAgICBjb25zdCBsYXN0Q3VycmVudE5vZGUgPSB0aGlzLnBhZ2luYXRpb25Ob2RlLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGAuJHtwcmVmaXhDbHN9LWl0ZW0tJHtwcmV2U3RhdGUuY3VycmVudH1gLFxuICAgICAgKTtcbiAgICAgIGlmIChsYXN0Q3VycmVudE5vZGUgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdEN1cnJlbnROb2RlKSB7XG4gICAgICAgIGxhc3RDdXJyZW50Tm9kZS5ibHVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0SnVtcFByZXZQYWdlKCkge1xuICAgIHJldHVybiBNYXRoLm1heCgxLCB0aGlzLnN0YXRlLmN1cnJlbnQgLSAodGhpcy5wcm9wcy5zaG93TGVzc0l0ZW1zID8gMyA6IDUpKTtcbiAgfVxuXG4gIGdldEp1bXBOZXh0UGFnZSgpIHtcbiAgICByZXR1cm4gTWF0aC5taW4odGhpcy5jYWxjdWxhdGVQYWdlKCksIHRoaXMuc3RhdGUuY3VycmVudCArICh0aGlzLnByb3BzLnNob3dMZXNzSXRlbXMgPyAzIDogNSkpO1xuICB9XG5cbiAgc2F2ZVBhZ2luYXRpb25Ob2RlID0gKG5vZGUpID0+IHtcbiAgICB0aGlzLnBhZ2luYXRpb25Ob2RlID0gbm9kZTtcbiAgfTtcblxuICBjYWxjdWxhdGVQYWdlID0gKHApID0+IHtcbiAgICBsZXQgcGFnZVNpemUgPSBwO1xuICAgIGlmICh0eXBlb2YgcGFnZVNpemUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYWdlU2l6ZSA9IHRoaXMuc3RhdGUucGFnZVNpemU7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLmZsb29yKCh0aGlzLnByb3BzLnRvdGFsIC0gMSkgLyBwYWdlU2l6ZSkgKyAxO1xuICB9O1xuXG4gIGlzVmFsaWQgPSAocGFnZSkgPT4ge1xuICAgIHJldHVybiBpc0ludGVnZXIocGFnZSkgJiYgcGFnZSA+PSAxICYmIHBhZ2UgIT09IHRoaXMuc3RhdGUuY3VycmVudDtcbiAgfTtcblxuICBoYW5kbGVLZXlEb3duID0gKGUpID0+IHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX1VQIHx8IGUua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19ET1dOKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUtleVVwID0gKGUpID0+IHtcbiAgICBjb25zdCBpbnB1dFZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgY29uc3QgY3VycmVudElucHV0VmFsdWUgPSB0aGlzLnN0YXRlLmN1cnJlbnRJbnB1dFZhbHVlO1xuICAgIGxldCB2YWx1ZTtcblxuICAgIGlmIChpbnB1dFZhbHVlID09PSAnJykge1xuICAgICAgdmFsdWUgPSBpbnB1dFZhbHVlO1xuICAgIH0gZWxzZSBpZiAoaXNOYU4oTnVtYmVyKGlucHV0VmFsdWUpKSkge1xuICAgICAgdmFsdWUgPSBjdXJyZW50SW5wdXRWYWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSBOdW1iZXIoaW5wdXRWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlICE9PSBjdXJyZW50SW5wdXRWYWx1ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRJbnB1dFZhbHVlOiB2YWx1ZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlLmtleUNvZGUgPT09IEtFWUNPREUuRU5URVIpIHtcbiAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19VUCkge1xuICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UodmFsdWUgLSAxKTtcbiAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19ET1dOKSB7XG4gICAgICB0aGlzLmhhbmRsZUNoYW5nZSh2YWx1ZSArIDEpO1xuICAgIH1cbiAgfTtcblxuICBjaGFuZ2VQYWdlU2l6ZSA9IChzaXplKSA9PiB7XG4gICAgbGV0IGN1cnJlbnQgPSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG4gICAgY29uc3QgbmV3Q3VycmVudCA9IHRoaXMuY2FsY3VsYXRlUGFnZShzaXplKTtcbiAgICBjdXJyZW50ID0gY3VycmVudCA+IG5ld0N1cnJlbnQgPyBuZXdDdXJyZW50IDogY3VycmVudDtcbiAgICBpZiAodHlwZW9mIHNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoISgncGFnZVNpemUnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHBhZ2VTaXplOiBzaXplLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghKCdjdXJyZW50JyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIGN1cnJlbnRJbnB1dFZhbHVlOiBjdXJyZW50LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vblNob3dTaXplQ2hhbmdlKGN1cnJlbnQsIHNpemUpO1xuICB9O1xuXG4gIGhhbmRsZUNoYW5nZSA9IChwKSA9PiB7XG4gICAgbGV0IHBhZ2UgPSBwO1xuICAgIGlmICh0aGlzLmlzVmFsaWQocGFnZSkpIHtcbiAgICAgIGlmIChwYWdlID4gdGhpcy5jYWxjdWxhdGVQYWdlKCkpIHtcbiAgICAgICAgcGFnZSA9IHRoaXMuY2FsY3VsYXRlUGFnZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoISgnY3VycmVudCcgaW4gdGhpcy5wcm9wcykpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY3VycmVudDogcGFnZSxcbiAgICAgICAgICBjdXJyZW50SW5wdXRWYWx1ZTogcGFnZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBhZ2VTaXplID0gdGhpcy5zdGF0ZS5wYWdlU2l6ZTtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UocGFnZSwgcGFnZVNpemUpO1xuXG4gICAgICByZXR1cm4gcGFnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50O1xuICB9O1xuXG4gIGZpcnN0ID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmhhc1ByZXYoKSkge1xuICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoMSk7XG4gICAgfVxuICB9O1xuXG4gIGxhc3QgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaGFzTmV4dCgpKSB7XG4gICAgICB0aGlzLmhhbmRsZUNoYW5nZSh0aGlzLmNhbGN1bGF0ZVBhZ2UoKSk7XG4gICAgfVxuICB9O1xuXG4gIHByZXYgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaGFzUHJldigpKSB7XG4gICAgICB0aGlzLmhhbmRsZUNoYW5nZSh0aGlzLnN0YXRlLmN1cnJlbnQgLSAxKTtcbiAgICB9XG4gIH07XG5cbiAgbmV4dCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5oYXNOZXh0KCkpIHtcbiAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKHRoaXMuc3RhdGUuY3VycmVudCArIDEpO1xuICAgIH1cbiAgfTtcblxuICBnZXRKdW1wUHJldlBhZ2UoKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KDEsIHRoaXMuc3RhdGUuY3VycmVudCAtICh0aGlzLnByb3BzLnNob3dMZXNzSXRlbXMgPyAzIDogNSkpO1xuICB9XG5cbiAgZ2V0SnVtcE5leHRQYWdlKCkge1xuICAgIHJldHVybiBNYXRoLm1pbih0aGlzLmNhbGN1bGF0ZVBhZ2UoKSwgdGhpcy5zdGF0ZS5jdXJyZW50ICsgKHRoaXMucHJvcHMuc2hvd0xlc3NJdGVtcyA/IDMgOiA1KSk7XG4gIH1cblxuICBqdW1wUHJldiA9ICgpID0+IHtcbiAgICB0aGlzLmhhbmRsZUNoYW5nZSh0aGlzLmdldEp1bXBQcmV2UGFnZSgpKTtcbiAgfTtcblxuICBqdW1wTmV4dCA9ICgpID0+IHtcbiAgICB0aGlzLmhhbmRsZUNoYW5nZSh0aGlzLmdldEp1bXBOZXh0UGFnZSgpKTtcbiAgfTtcblxuICBoYXNQcmV2ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmN1cnJlbnQgPiAxO1xuICB9O1xuXG4gIGhhc05leHQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudCA8IHRoaXMuY2FsY3VsYXRlUGFnZSgpO1xuICB9O1xuXG4gIHJ1bklmRW50ZXIgPSAoZXZlbnQsIGNhbGxiYWNrLCAuLi5yZXN0UGFyYW1zKSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5jaGFyQ29kZSA9PT0gMTMpIHtcbiAgICAgIGNhbGxiYWNrKC4uLnJlc3RQYXJhbXMpO1xuICAgIH1cbiAgfTtcblxuICBydW5JZkVudGVyRmlyc3QgPSBlID0+IHtcbiAgICB0aGlzLnJ1bklmRW50ZXIoZSwgdGhpcy5maXJzdCk7XG4gIH07XG5cbiAgcnVuSWZFbnRlckxhc3QgPSBlID0+IHtcbiAgICB0aGlzLnJ1bklmRW50ZXIoZSwgdGhpcy5sYXN0KTtcbiAgfTtcblxuICBydW5JZkVudGVyUHJldiA9IGUgPT4ge1xuICAgIHRoaXMucnVuSWZFbnRlcihlLCB0aGlzLnByZXYpO1xuICB9O1xuXG4gIHJ1bklmRW50ZXJOZXh0ID0gZSA9PiB7XG4gICAgdGhpcy5ydW5JZkVudGVyKGUsIHRoaXMubmV4dCk7XG4gIH07XG5cbiAgcnVuSWZFbnRlckp1bXBQcmV2ID0gZSA9PiB7XG4gICAgdGhpcy5ydW5JZkVudGVyKGUsIHRoaXMuanVtcFByZXYpO1xuICB9O1xuXG4gIHJ1bklmRW50ZXJKdW1wTmV4dCA9IGUgPT4ge1xuICAgIHRoaXMucnVuSWZFbnRlcihlLCB0aGlzLmp1bXBOZXh0KTtcbiAgfTtcblxuICBoYW5kbGVHb1RPID0gZSA9PiB7XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERS5FTlRFUiB8fCBlLnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKHRoaXMuc3RhdGUuY3VycmVudElucHV0VmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgLy8gV2hlbiBoaWRlT25TaW5nbGVQYWdlIGlzIHRydWUgYW5kIHRoZXJlIGlzIG9ubHkgMSBwYWdlLCBoaWRlIHRoZSBwYWdlclxuICAgIGlmICh0aGlzLnByb3BzLmhpZGVPblNpbmdsZVBhZ2UgPT09IHRydWUgJiYgdGhpcy5wcm9wcy50b3RhbCA8PSB0aGlzLnN0YXRlLnBhZ2VTaXplKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuXG4gICAgY29uc3QgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuICAgIGNvbnN0IGFsbFBhZ2VzID0gdGhpcy5jYWxjdWxhdGVQYWdlKCk7XG4gICAgY29uc3QgcGFnZXJMaXN0ID0gW107XG4gICAgbGV0IGp1bXBQcmV2ID0gbnVsbDtcbiAgICBsZXQganVtcE5leHQgPSBudWxsO1xuICAgIGxldCBmaXJzdFBhZ2VyID0gbnVsbDtcbiAgICBsZXQgbGFzdFBhZ2VyID0gbnVsbDtcbiAgICBsZXQgZ290b0J1dHRvbiA9IG51bGw7XG5cbiAgICBjb25zdCBnb0J1dHRvbiA9IChwcm9wcy5zaG93UXVpY2tKdW1wZXIgJiYgcHJvcHMuc2hvd1F1aWNrSnVtcGVyLmdvQnV0dG9uKTtcbiAgICBjb25zdCBwYWdlQnVmZmVyU2l6ZSA9IHByb3BzLnNob3dMZXNzSXRlbXMgPyAxIDogMjtcbiAgICBjb25zdCB7IGN1cnJlbnQsIHBhZ2VTaXplIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgcHJldlBhZ2UgPSBjdXJyZW50IC0gMSA+IDAgPyBjdXJyZW50IC0gMSA6IDA7XG4gICAgY29uc3QgbmV4dFBhZ2UgPSBjdXJyZW50ICsgMSA8IGFsbFBhZ2VzID8gY3VycmVudCArIDEgOiBhbGxQYWdlcztcblxuICAgIGlmIChwcm9wcy5zaW1wbGUpIHtcbiAgICAgIGlmIChnb0J1dHRvbikge1xuICAgICAgICBpZiAodHlwZW9mIGdvQnV0dG9uID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBnb3RvQnV0dG9uID0gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVHb1RPfVxuICAgICAgICAgICAgICBvbktleVVwPXt0aGlzLmhhbmRsZUdvVE99XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtsb2NhbGUuanVtcF90b19jb25maXJtfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnb3RvQnV0dG9uID0gKFxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVHb1RPfVxuICAgICAgICAgICAgICBvbktleVVwPXt0aGlzLmhhbmRsZUdvVE99XG4gICAgICAgICAgICA+e2dvQnV0dG9ufTwvc3Bhbj5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGdvdG9CdXR0b24gPSAoXG4gICAgICAgICAgPGxpXG4gICAgICAgICAgICB0aXRsZT17cHJvcHMuc2hvd1RpdGxlID8gYCR7bG9jYWxlLmp1bXBfdG99JHt0aGlzLnN0YXRlLmN1cnJlbnR9LyR7YWxsUGFnZXN9YCA6IG51bGx9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tc2ltcGxlLXBhZ2VyYH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z290b0J1dHRvbn1cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8dWwgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9ICR7cHJlZml4Q2xzfS1zaW1wbGUgJHtwcm9wcy5jbGFzc05hbWV9YH0gc3R5bGU9e3Byb3BzLnN0eWxlfT5cbiAgICAgICAgICA8bGlcbiAgICAgICAgICAgIHRpdGxlPXtwcm9wcy5zaG93VGl0bGUgPyBsb2NhbGUucHJldl9wYWdlIDogbnVsbH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJldn1cbiAgICAgICAgICAgIHRhYkluZGV4PXt0aGlzLmhhc1ByZXYoKSA/IDAgOiBudWxsfVxuICAgICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5ydW5JZkVudGVyUHJldn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7dGhpcy5oYXNQcmV2KCkgPyAnJyA6IGAke3ByZWZpeENsc30tZGlzYWJsZWRgfSAke3ByZWZpeENsc30tcHJldmB9XG4gICAgICAgICAgICBhcmlhLWRpc2FibGVkPXshdGhpcy5oYXNQcmV2KCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Byb3BzLml0ZW1SZW5kZXIocHJldlBhZ2UsICdwcmV2JywgPGEgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWl0ZW0tbGlua2B9IC8+LCAhdGhpcy5oYXNQcmV2KCksICdzbWFsbCcpfVxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpXG4gICAgICAgICAgICB0aXRsZT17cHJvcHMuc2hvd1RpdGxlID8gYCR7dGhpcy5zdGF0ZS5jdXJyZW50fS8ke2FsbFBhZ2VzfWAgOiBudWxsfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LXNpbXBsZS1wYWdlcmB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY3VycmVudElucHV0VmFsdWV9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5oYW5kbGVLZXlEb3dufVxuICAgICAgICAgICAgICBvbktleVVwPXt0aGlzLmhhbmRsZUtleVVwfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVLZXlVcH1cbiAgICAgICAgICAgICAgc2l6ZT1cIjNcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1zbGFzaGB9Pu+8jzwvc3Bhbj5cbiAgICAgICAgICAgIHthbGxQYWdlc31cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaVxuICAgICAgICAgICAgdGl0bGU9e3Byb3BzLnNob3dUaXRsZSA/IGxvY2FsZS5uZXh0X3BhZ2UgOiBudWxsfVxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5uZXh0fVxuICAgICAgICAgICAgdGFiSW5kZXg9e3RoaXMuaGFzUHJldigpID8gMCA6IG51bGx9XG4gICAgICAgICAgICBvbktleVByZXNzPXt0aGlzLnJ1bklmRW50ZXJOZXh0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHt0aGlzLmhhc05leHQoKSA/ICcnIDogYCR7cHJlZml4Q2xzfS1kaXNhYmxlZGB9ICR7cHJlZml4Q2xzfS1uZXh0YH1cbiAgICAgICAgICAgIGFyaWEtZGlzYWJsZWQ9eyF0aGlzLmhhc05leHQoKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cHJvcHMuaXRlbVJlbmRlcihuZXh0UGFnZSwgJ25leHQnLCA8YSBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30taXRlbS1saW5rYH0gLz4sICF0aGlzLmhhc05leHQoKSwgJ3NtYWxsJyl9XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICB7Z290b0J1dHRvbn1cbiAgICAgICAgPC91bD5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGFsbFBhZ2VzIDw9IDUgKyBwYWdlQnVmZmVyU2l6ZSAqIDIpIHtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGFsbFBhZ2VzOyBpKyspIHtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gdGhpcy5zdGF0ZS5jdXJyZW50ID09PSBpO1xuICAgICAgICBwYWdlckxpc3QucHVzaChcbiAgICAgICAgICA8UGFnZXJcbiAgICAgICAgICAgIHNpemU9e3Byb3BzLnNpemV9XG4gICAgICAgICAgICBsb2NhbGU9e2xvY2FsZX1cbiAgICAgICAgICAgIHJvb3RQcmVmaXhDbHM9e3ByZWZpeENsc31cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5ydW5JZkVudGVyfVxuICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgcGFnZT17aX1cbiAgICAgICAgICAgIGFjdGl2ZT17YWN0aXZlfVxuICAgICAgICAgICAgc2hvd1RpdGxlPXtwcm9wcy5zaG93VGl0bGV9XG4gICAgICAgICAgICBpdGVtUmVuZGVyPXtwcm9wcy5pdGVtUmVuZGVyfVxuICAgICAgICAgIC8+LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcmV2SXRlbVRpdGxlID0gcHJvcHMuc2hvd0xlc3NJdGVtcyA/IGxvY2FsZS5wcmV2XzMgOiBsb2NhbGUucHJldl81O1xuICAgICAgY29uc3QgbmV4dEl0ZW1UaXRsZSA9IHByb3BzLnNob3dMZXNzSXRlbXMgPyBsb2NhbGUubmV4dF8zIDogbG9jYWxlLm5leHRfNTtcbiAgICAgIGlmIChwcm9wcy5zaG93UHJldk5leHRKdW1wZXJzKSB7XG4gICAgICAgIGp1bXBQcmV2ID0gKFxuICAgICAgICAgIDxsaVxuICAgICAgICAgICAgdGl0bGU9e3Byb3BzLnNob3dUaXRsZSA/IHByZXZJdGVtVGl0bGUgOiBudWxsfVxuICAgICAgICAgICAga2V5PVwicHJldlwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmp1bXBQcmV2fVxuICAgICAgICAgICAgdGFiSW5kZXg9XCIwXCJcbiAgICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMucnVuSWZFbnRlckp1bXBQcmV2fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWp1bXAtcHJldmB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Byb3BzLml0ZW1SZW5kZXIoXG4gICAgICAgICAgICAgIHRoaXMuZ2V0SnVtcFByZXZQYWdlKCksICdqdW1wLXByZXYnLCA8YSBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30taXRlbS1saW5rYH0+4oCi4oCi4oCiPC9hPiwgcHJvcHMuc2l6ZSxcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICAgICAganVtcE5leHQgPSAoXG4gICAgICAgICAgPGxpXG4gICAgICAgICAgICB0aXRsZT17cHJvcHMuc2hvd1RpdGxlID8gbmV4dEl0ZW1UaXRsZSA6IG51bGx9XG4gICAgICAgICAgICBrZXk9XCJuZXh0XCJcbiAgICAgICAgICAgIHRhYkluZGV4PVwiMFwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmp1bXBOZXh0fVxuICAgICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5ydW5JZkVudGVySnVtcE5leHR9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tanVtcC1uZXh0YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cHJvcHMuaXRlbVJlbmRlcihcbiAgICAgICAgICAgICAgdGhpcy5nZXRKdW1wTmV4dFBhZ2UoKSwgJ2p1bXAtbmV4dCcsIDxhIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1pdGVtLWxpbmtgfT7igKLigKLigKI8L2E+LCBwcm9wcy5zaXplLFxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgbGFzdFBhZ2VyID0gKFxuICAgICAgICA8UGFnZXJcbiAgICAgICAgICBzaXplPXtwcm9wcy5zaXplfVxuICAgICAgICAgIGxvY2FsZT17cHJvcHMubG9jYWxlfVxuICAgICAgICAgIGxhc3RcbiAgICAgICAgICByb290UHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5ydW5JZkVudGVyfVxuICAgICAgICAgIGtleT17YWxsUGFnZXN9XG4gICAgICAgICAgcGFnZT17YWxsUGFnZXN9XG4gICAgICAgICAgYWN0aXZlPXtmYWxzZX1cbiAgICAgICAgICBzaG93VGl0bGU9e3Byb3BzLnNob3dUaXRsZX1cbiAgICAgICAgICBpdGVtUmVuZGVyPXtwcm9wcy5pdGVtUmVuZGVyfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIGZpcnN0UGFnZXIgPSAoXG4gICAgICAgIDxQYWdlclxuICAgICAgICAgIHNpemU9e3Byb3BzLnNpemV9XG4gICAgICAgICAgbG9jYWxlPXtwcm9wcy5sb2NhbGV9XG4gICAgICAgICAgcm9vdFByZWZpeENscz17cHJlZml4Q2xzfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMucnVuSWZFbnRlcn1cbiAgICAgICAgICBrZXk9ezF9XG4gICAgICAgICAgcGFnZT17MX1cbiAgICAgICAgICBhY3RpdmU9e2ZhbHNlfVxuICAgICAgICAgIHNob3dUaXRsZT17cHJvcHMuc2hvd1RpdGxlfVxuICAgICAgICAgIGl0ZW1SZW5kZXI9e3Byb3BzLml0ZW1SZW5kZXJ9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBsZXQgbGVmdCA9IE1hdGgubWF4KDEsIGN1cnJlbnQgLSBwYWdlQnVmZmVyU2l6ZSk7XG4gICAgICBsZXQgcmlnaHQgPSBNYXRoLm1pbihjdXJyZW50ICsgcGFnZUJ1ZmZlclNpemUsIGFsbFBhZ2VzKTtcblxuICAgICAgaWYgKGN1cnJlbnQgLSAxIDw9IHBhZ2VCdWZmZXJTaXplKSB7XG4gICAgICAgIHJpZ2h0ID0gMSArIHBhZ2VCdWZmZXJTaXplICogMjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFsbFBhZ2VzIC0gY3VycmVudCA8PSBwYWdlQnVmZmVyU2l6ZSkge1xuICAgICAgICBsZWZ0ID0gYWxsUGFnZXMgLSBwYWdlQnVmZmVyU2l6ZSAqIDI7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSBsZWZ0OyBpIDw9IHJpZ2h0OyBpKyspIHtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gY3VycmVudCA9PT0gaTtcbiAgICAgICAgcGFnZXJMaXN0LnB1c2goXG4gICAgICAgICAgPFBhZ2VyXG4gICAgICAgICAgICBzaXplPXtwcm9wcy5zaXplfVxuICAgICAgICAgICAgbG9jYWxlPXtwcm9wcy5sb2NhbGV9XG4gICAgICAgICAgICByb290UHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMucnVuSWZFbnRlcn1cbiAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgIHBhZ2U9e2l9XG4gICAgICAgICAgICBhY3RpdmU9e2FjdGl2ZX1cbiAgICAgICAgICAgIHNob3dUaXRsZT17cHJvcHMuc2hvd1RpdGxlfVxuICAgICAgICAgICAgaXRlbVJlbmRlcj17cHJvcHMuaXRlbVJlbmRlcn1cbiAgICAgICAgICAvPixcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnQgLSAxID49IHBhZ2VCdWZmZXJTaXplICogMiAmJiBjdXJyZW50ICE9PSAxICsgMikge1xuICAgICAgICBwYWdlckxpc3RbMF0gPSBjbG9uZUVsZW1lbnQocGFnZXJMaXN0WzBdLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBgJHtwcmVmaXhDbHN9LWl0ZW0tYWZ0ZXItanVtcC1wcmV2YCxcbiAgICAgICAgfSk7XG4gICAgICAgIHBhZ2VyTGlzdC51bnNoaWZ0KGp1bXBQcmV2KTtcbiAgICAgIH1cbiAgICAgIGlmIChhbGxQYWdlcyAtIGN1cnJlbnQgPj0gcGFnZUJ1ZmZlclNpemUgKiAyICYmIGN1cnJlbnQgIT09IGFsbFBhZ2VzIC0gMikge1xuICAgICAgICBwYWdlckxpc3RbcGFnZXJMaXN0Lmxlbmd0aCAtIDFdID0gY2xvbmVFbGVtZW50KHBhZ2VyTGlzdFtwYWdlckxpc3QubGVuZ3RoIC0gMV0sIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGAke3ByZWZpeENsc30taXRlbS1iZWZvcmUtanVtcC1uZXh0YCxcbiAgICAgICAgfSk7XG4gICAgICAgIHBhZ2VyTGlzdC5wdXNoKGp1bXBOZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxlZnQgIT09IDEpIHtcbiAgICAgICAgcGFnZXJMaXN0LnVuc2hpZnQoZmlyc3RQYWdlcik7XG4gICAgICB9XG4gICAgICBpZiAocmlnaHQgIT09IGFsbFBhZ2VzKSB7XG4gICAgICAgIHBhZ2VyTGlzdC5wdXNoKGxhc3RQYWdlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHRvdGFsVGV4dCA9IG51bGw7XG5cbiAgICBpZiAocHJvcHMuc2hvd1RvdGFsKSB7XG4gICAgICB0b3RhbFRleHQgPSAoXG4gICAgICAgIDxsaSBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tdG90YWwtdGV4dGB9PlxuICAgICAgICAgIHtwcm9wcy5zaG93VG90YWwoXG4gICAgICAgICAgICBwcm9wcy50b3RhbCxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgKGN1cnJlbnQgLSAxKSAqIHBhZ2VTaXplICsgMSxcbiAgICAgICAgICAgICAgY3VycmVudCAqIHBhZ2VTaXplID4gcHJvcHMudG90YWwgPyBwcm9wcy50b3RhbCA6IGN1cnJlbnQgKiBwYWdlU2l6ZSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChwcm9wcy50aW55KSB7XG4gICAgICBjb25zdCBmaXN0RGlzYWJsZWQgPSAhdGhpcy5oYXNQcmV2KCk7XG4gICAgICBjb25zdCBsYXN0RGlzYWJsZWQgPSAhdGhpcy5oYXNOZXh0KCk7XG4gICAgICBmaXJzdFBhZ2VyID0gKFxuICAgICAgICA8bGlcbiAgICAgICAgICB0aXRsZT17cHJvcHMuc2hvd1RpdGxlID8gbG9jYWxlLmZpcnN0X3BhZ2UgOiBudWxsfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZmlyc3R9XG4gICAgICAgICAgdGFiSW5kZXg9e2Zpc3REaXNhYmxlZCA/IG51bGwgOiAwfVxuICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMucnVuSWZFbnRlckZpcnN0fVxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7IWZpc3REaXNhYmxlZCA/ICcnIDogYCR7cHJlZml4Q2xzfS1kaXNhYmxlZGB9ICR7cHJlZml4Q2xzfS1maXJzdGB9XG4gICAgICAgICAgYXJpYS1kaXNhYmxlZD17ZmlzdERpc2FibGVkfVxuICAgICAgICA+XG4gICAgICAgICAge3Byb3BzLml0ZW1SZW5kZXIoMSwgJ2ZpcnN0JywgPGEgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWl0ZW0tbGlua2B9IC8+LCBmaXN0RGlzYWJsZWQsIHByb3BzLnNpemUpfVxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICAgIGxhc3RQYWdlciA9IChcbiAgICAgICAgPGxpXG4gICAgICAgICAgdGl0bGU9e3Byb3BzLnNob3dUaXRsZSA/IGxvY2FsZS5sYXN0X3BhZ2UgOiBudWxsfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubGFzdH1cbiAgICAgICAgICB0YWJJbmRleD17bGFzdERpc2FibGVkID8gbnVsbCA6IDB9XG4gICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5ydW5JZkVudGVyTGFzdH1cbiAgICAgICAgICBjbGFzc05hbWU9e2AkeyFsYXN0RGlzYWJsZWQgPyAnJyA6IGAke3ByZWZpeENsc30tZGlzYWJsZWRgfSAke3ByZWZpeENsc30tbGFzdGB9XG4gICAgICAgICAgYXJpYS1kaXNhYmxlZD17bGFzdERpc2FibGVkfVxuICAgICAgICA+XG4gICAgICAgICAge3Byb3BzLml0ZW1SZW5kZXIoYWxsUGFnZXMsICdsYXN0JywgPGEgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWl0ZW0tbGlua2B9IC8+LCBsYXN0RGlzYWJsZWQsIHByb3BzLnNpemUpfVxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcHJldkRpc2FibGVkID0gIXRoaXMuaGFzUHJldigpO1xuICAgIGNvbnN0IG5leHREaXNhYmxlZCA9ICF0aGlzLmhhc05leHQoKTtcbiAgICBjb25zdCBzaXplQ2hhbmdlciA9IChcbiAgICAgIDxPcHRpb25zXG4gICAgICAgIGxvY2FsZT17cHJvcHMubG9jYWxlfVxuICAgICAgICByb290UHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgIHNlbGVjdENvbXBvbmVudENsYXNzPXtwcm9wcy5zZWxlY3RDb21wb25lbnRDbGFzc31cbiAgICAgICAgc2VsZWN0UHJlZml4Q2xzPXtwcm9wcy5zZWxlY3RQcmVmaXhDbHN9XG4gICAgICAgIGNoYW5nZVNpemU9e3RoaXMucHJvcHMuc2hvd1NpemVDaGFuZ2VyID8gdGhpcy5jaGFuZ2VQYWdlU2l6ZSA6IG51bGx9XG4gICAgICAgIGN1cnJlbnQ9e3RoaXMuc3RhdGUuY3VycmVudH1cbiAgICAgICAgcGFnZVNpemU9e3RoaXMuc3RhdGUucGFnZVNpemV9XG4gICAgICAgIHBhZ2VTaXplT3B0aW9ucz17dGhpcy5wcm9wcy5wYWdlU2l6ZU9wdGlvbnN9XG4gICAgICAgIHF1aWNrR289e3RoaXMucHJvcHMuc2hvd1F1aWNrSnVtcGVyID8gdGhpcy5oYW5kbGVDaGFuZ2UgOiBudWxsfVxuICAgICAgICBnb0J1dHRvbj17Z29CdXR0b259XG4gICAgICAgIGJ1aWxkT3B0aW9uVGV4dD17cHJvcHMuc2l6ZUNoYW5nZXJPcHRpb25UZXh0fVxuICAgICAgICBjaGFuZ2VTaXplTGFiZWw9e3RoaXMucHJvcHMuc2hvd1NpemVDaGFuZ2VyTGFiZWx9XG4gICAgICAvPlxuICAgICk7XG4gICAgY29uc3QgY2xhc3NTdHJpbmcgPSBjbGFzc05hbWVzKHByZWZpeENscywgcHJvcHMuY2xhc3NOYW1lLCB7XG4gICAgICBbYCR7cHJlZml4Q2xzfS10aW55YF06IHByb3BzLnRpbnksXG4gICAgfSk7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bFxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzU3RyaW5nfVxuICAgICAgICBzdHlsZT17cHJvcHMuc3R5bGV9XG4gICAgICAgIHVuc2VsZWN0YWJsZT1cInVuc2VsZWN0YWJsZVwiXG4gICAgICAgIHJlZj17dGhpcy5zYXZlUGFnaW5hdGlvbk5vZGV9XG4gICAgICA+XG4gICAgICAgIHtwcm9wcy50aW55ICYmIHNpemVDaGFuZ2VyfVxuICAgICAgICB7dG90YWxUZXh0fVxuICAgICAgICB7cHJvcHMudGlueSAmJiBmaXJzdFBhZ2VyfVxuICAgICAgICA8bGlcbiAgICAgICAgICB0aXRsZT17cHJvcHMuc2hvd1RpdGxlID8gbG9jYWxlLnByZXZfcGFnZSA6IG51bGx9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5wcmV2fVxuICAgICAgICAgIHRhYkluZGV4PXtwcmV2RGlzYWJsZWQgPyBudWxsIDogMH1cbiAgICAgICAgICBvbktleVByZXNzPXt0aGlzLnJ1bklmRW50ZXJQcmV2fVxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7IXByZXZEaXNhYmxlZCA/ICcnIDogYCR7cHJlZml4Q2xzfS1kaXNhYmxlZGB9ICR7cHJlZml4Q2xzfS1wcmV2YH1cbiAgICAgICAgICBhcmlhLWRpc2FibGVkPXtwcmV2RGlzYWJsZWR9XG4gICAgICAgID5cbiAgICAgICAgICB7cHJvcHMuaXRlbVJlbmRlcihwcmV2UGFnZSwgJ3ByZXYnLCA8YSBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30taXRlbS1saW5rYH0gLz4sIHByZXZEaXNhYmxlZCwgcHJvcHMuc2l6ZSl9XG4gICAgICAgIDwvbGk+XG4gICAgICAgIHshcHJvcHMudGlueSAmJiBwYWdlckxpc3R9XG4gICAgICAgIDxsaVxuICAgICAgICAgIHRpdGxlPXtwcm9wcy5zaG93VGl0bGUgPyBsb2NhbGUubmV4dF9wYWdlIDogbnVsbH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm5leHR9XG4gICAgICAgICAgdGFiSW5kZXg9e25leHREaXNhYmxlZCA/IG51bGwgOiAwfVxuICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMucnVuSWZFbnRlck5leHR9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHshbmV4dERpc2FibGVkID8gJycgOiBgJHtwcmVmaXhDbHN9LWRpc2FibGVkYH0gJHtwcmVmaXhDbHN9LW5leHRgfVxuICAgICAgICAgIGFyaWEtZGlzYWJsZWQ9e25leHREaXNhYmxlZH1cbiAgICAgICAgPlxuICAgICAgICAgIHtwcm9wcy5pdGVtUmVuZGVyKG5leHRQYWdlLCAnbmV4dCcsIDxhIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1pdGVtLWxpbmtgfSAvPiwgbmV4dERpc2FibGVkLCBwcm9wcy5zaXplKX1cbiAgICAgICAgPC9saT5cbiAgICAgICAge3Byb3BzLnRpbnkgPyBsYXN0UGFnZXIgOiBzaXplQ2hhbmdlcn1cbiAgICAgIDwvdWw+XG4gICAgKTtcbiAgfVxufVxuIl19