30431ac30ae29a1bf25f31cddcf2131b
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireWildcard(require("react"));

var _classnames2 = _interopRequireDefault(require("classnames"));

var _utils = require("./utils");

var _warning = _interopRequireDefault(require("../../_util/warning"));

var _ripple = _interopRequireDefault(require("../../ripple"));

var _default = {
  getDefaultProps: function getDefaultProps() {
    return {
      styles: {}
    };
  },
  onTabClick: function onTabClick(key) {
    this.props.onTabClick(key);
  },
  getTabs: function getTabs() {
    var _this = this;

    var _this$props = this.props,
        children = _this$props.panels,
        activeKey = _this$props.activeKey,
        prefixCls = _this$props.prefixCls,
        tabBarGutter = _this$props.tabBarGutter;
    var rst = [];

    _react.Children.forEach(children, function (child, index) {
      if (!child) {
        return;
      }

      var key = (0, _utils.generateKey)(child.key, index);
      var _child$props = child.props,
          disabled = _child$props.disabled,
          tab = _child$props.tab;
      var cls = activeKey === key ? "".concat(prefixCls, "-tab-active") : '';
      cls += " ".concat(prefixCls, "-tab");
      var events = {};

      if (disabled) {
        cls += " ".concat(prefixCls, "-tab-disabled");
      } else {
        events = {
          onClick: _this.onTabClick.bind(_this, key)
        };
      }

      var ref = {};

      if (activeKey === key) {
        ref.ref = _this.saveRef('activeTab');
      }

      (0, _warning["default"])('tab' in child.props, 'There must be `tab` property on children of Tabs.');
      rst.push(_react["default"].createElement(_ripple["default"], {
        disabled: disabled,
        key: key
      }, _react["default"].createElement("div", (0, _extends2["default"])({
        role: "tab",
        "aria-disabled": disabled ? 'true' : 'false',
        "aria-selected": activeKey === key ? 'true' : 'false'
      }, events, {
        className: cls,
        style: {
          marginRight: tabBarGutter && index === children.length - 1 ? 0 : tabBarGutter
        }
      }, ref), tab)));
    });

    return rst;
  },
  getRootNode: function getRootNode(contents) {
    var _this$props2 = this.props,
        prefixCls = _this$props2.prefixCls,
        onKeyDown = _this$props2.onKeyDown,
        className = _this$props2.className,
        extraContent = _this$props2.extraContent,
        style = _this$props2.style,
        tabBarPosition = _this$props2.tabBarPosition,
        restProps = (0, _objectWithoutProperties2["default"])(_this$props2, ["prefixCls", "onKeyDown", "className", "extraContent", "style", "tabBarPosition"]);
    var cls = (0, _classnames2["default"])("".concat(prefixCls, "-bar"), (0, _defineProperty2["default"])({}, className, !!className));
    var topOrBottom = tabBarPosition === 'top' || tabBarPosition === 'bottom';
    var tabBarExtraContentStyle = topOrBottom ? {
      "float": 'right'
    } : {};
    var extraContentStyle = extraContent && extraContent.props ? extraContent.props.style : {};
    var children = contents;

    if (extraContent) {
      children = [(0, _react.cloneElement)(extraContent, {
        key: 'extra',
        style: (0, _objectSpread2["default"])({}, tabBarExtraContentStyle, {}, extraContentStyle)
      }), (0, _react.cloneElement)(contents, {
        key: 'content'
      })];
      children = topOrBottom ? children : children.reverse();
    }

    return _react["default"].createElement("div", (0, _extends2["default"])({
      role: "tablist",
      className: cls,
      tabIndex: "0",
      ref: this.saveRef('root'),
      onKeyDown: onKeyDown,
      style: style
    }, (0, _utils.getDataAttr)(restProps)), children);
  }
};
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYnMvVGFiQmFyTWl4aW4uanN4Il0sIm5hbWVzIjpbImdldERlZmF1bHRQcm9wcyIsInN0eWxlcyIsIm9uVGFiQ2xpY2siLCJnZXRUYWJzIiwiY2hpbGRyZW4iLCJhY3RpdmVLZXkiLCJwcmVmaXhDbHMiLCJ0YWJCYXJHdXR0ZXIiLCJyc3QiLCJDaGlsZHJlbiIsImtleSIsImNoaWxkIiwiZGlzYWJsZWQiLCJ0YWIiLCJjbHMiLCJldmVudHMiLCJvbkNsaWNrIiwicmVmIiwibWFyZ2luUmlnaHQiLCJpbmRleCIsImdldFJvb3ROb2RlIiwib25LZXlEb3duIiwiY2xhc3NOYW1lIiwiZXh0cmFDb250ZW50Iiwic3R5bGUiLCJ0YWJCYXJQb3NpdGlvbiIsInJlc3RQcm9wcyIsInRvcE9yQm90dG9tIiwidGFiQmFyRXh0cmFDb250ZW50U3R5bGUiLCJleHRyYUNvbnRlbnRTdHlsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUEsTUFBQSxHQUFBLHVCQUFBLENBQUEsT0FBQSxDQUFBLE9BQUEsQ0FBQSxDQUFBOztBQUNBLElBQUEsWUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLFlBQUEsQ0FBQSxDQUFBOztBQUNBLElBQUEsTUFBQSxHQUFBLE9BQUEsQ0FBQSxTQUFBLENBQUE7O0FBQ0EsSUFBQSxRQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEscUJBQUEsQ0FBQSxDQUFBOztBQUNBLElBQUEsT0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLGNBQUEsQ0FBQSxDQUFBOztlQUVlO0FBQ2JBLEVBQUFBLGVBRGEsRUFBQSxTQUFBLGVBQUEsR0FDSztBQUNoQixXQUFPO0FBQ0xDLE1BQUFBLE1BQU0sRUFBRTtBQURILEtBQVA7QUFGVyxHQUFBO0FBTWJDLEVBQUFBLFVBTmEsRUFBQSxTQUFBLFVBQUEsQ0FBQSxHQUFBLEVBTUc7QUFDZCxTQUFBLEtBQUEsQ0FBQSxVQUFBLENBQUEsR0FBQTtBQVBXLEdBQUE7QUFT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QSxRQUFRLEdBQUcsQ0FDVCxDQUFBLEdBQUEsTUFBQSxDQUFBLFlBQUEsRUFBQSxZQUFBLEVBQTJCO0FBQ3pCTSxRQUFBQSxHQUFHLEVBRHNCLE9BQUE7QUFFekJjLFFBQUFBLEtBQUssRUFBQSxDQUFBLEdBQUEsY0FBQSxDQUFBLFNBQUEsQ0FBQSxFQUFBLEVBQUEsRUFBQSx1QkFBQSxFQUFBLEVBQUEsRUFBQSxpQkFBQTtBQUZvQixPQUEzQixDQURTLEVBUVQsQ0FBQSxHQUFBLE1BQUEsQ0FBQSxZQUFBLEVBQUEsUUFBQSxFQUF1QjtBQUFFZCxRQUFBQSxHQUFHLEVBQUU7QUFBUCxPQUF2QixDQVJTLENBQVhOO0FBVUFBLE1BQUFBLFFBQVEsR0FBR3VCLFdBQVcsR0FBQSxRQUFBLEdBQWN2QixRQUFRLENBQTVDQSxPQUFvQ0EsRUFBcENBO0FBQ0Q7O0FBQ0QsV0FDRSxNQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsYUFBQSxDQUFBLEtBQUEsRUFBQSxDQUFBLEdBQUEsU0FBQSxDQUFBLFNBQUEsQ0FBQSxFQUFBO0FBQ0UsTUFBQSxJQUFJLEVBRE4sU0FBQTtBQUVFLE1BQUEsU0FBUyxFQUZYLEdBQUE7QUFHRSxNQUFBLFFBQVEsRUFIVixHQUFBO0FBSUUsTUFBQSxHQUFHLEVBQUUsS0FBQSxPQUFBLENBSlAsTUFJTyxDQUpQO0FBS0UsTUFBQSxTQUFTLEVBTFgsU0FBQTtBQU1FLE1BQUEsS0FBSyxFQUFFb0I7QUFOVCxLQUFBLEVBT00sQ0FBQSxHQUFBLE1BQUEsQ0FBQSxXQUFBLEVBUE4sU0FPTSxDQVBOLENBQUEsRUFERixRQUNFLENBREY7QUFhRDtBQWxHWSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENoaWxkcmVuLCBjbG9uZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IGdlbmVyYXRlS2V5LCBnZXREYXRhQXR0ciB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAnLi4vLi4vX3V0aWwvd2FybmluZyc7XG5pbXBvcnQgUmlwcGxlIGZyb20gJy4uLy4uL3JpcHBsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHlsZXM6IHt9LFxuICAgIH07XG4gIH0sXG4gIG9uVGFiQ2xpY2soa2V5KSB7XG4gICAgdGhpcy5wcm9wcy5vblRhYkNsaWNrKGtleSk7XG4gIH0sXG4gIGdldFRhYnMoKSB7XG4gICAgY29uc3QgeyBwYW5lbHM6IGNoaWxkcmVuLCBhY3RpdmVLZXksIHByZWZpeENscywgdGFiQmFyR3V0dGVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHJzdCA9IFtdO1xuXG4gICAgQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBrZXkgPSBnZW5lcmF0ZUtleShjaGlsZC5rZXksIGluZGV4KTtcbiAgICAgIGNvbnN0IHsgZGlzYWJsZWQsIHRhYiB9ID0gY2hpbGQucHJvcHM7XG4gICAgICBsZXQgY2xzID0gYWN0aXZlS2V5ID09PSBrZXkgPyBgJHtwcmVmaXhDbHN9LXRhYi1hY3RpdmVgIDogJyc7XG4gICAgICBjbHMgKz0gYCAke3ByZWZpeENsc30tdGFiYDtcbiAgICAgIGxldCBldmVudHMgPSB7fTtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBjbHMgKz0gYCAke3ByZWZpeENsc30tdGFiLWRpc2FibGVkYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50cyA9IHtcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uVGFiQ2xpY2suYmluZCh0aGlzLCBrZXkpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgcmVmID0ge307XG4gICAgICBpZiAoYWN0aXZlS2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmVmLnJlZiA9IHRoaXMuc2F2ZVJlZignYWN0aXZlVGFiJyk7XG4gICAgICB9XG4gICAgICB3YXJuaW5nKCd0YWInIGluIGNoaWxkLnByb3BzLCAnVGhlcmUgbXVzdCBiZSBgdGFiYCBwcm9wZXJ0eSBvbiBjaGlsZHJlbiBvZiBUYWJzLicpO1xuICAgICAgcnN0LnB1c2goXG4gICAgICAgIDxSaXBwbGUgZGlzYWJsZWQ9e2Rpc2FibGVkfSBrZXk9e2tleX0+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgcm9sZT1cInRhYlwiXG4gICAgICAgICAgICBhcmlhLWRpc2FibGVkPXtkaXNhYmxlZCA/ICd0cnVlJyA6ICdmYWxzZSd9XG4gICAgICAgICAgICBhcmlhLXNlbGVjdGVkPXthY3RpdmVLZXkgPT09IGtleSA/ICd0cnVlJyA6ICdmYWxzZSd9XG4gICAgICAgICAgICB7Li4uZXZlbnRzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBtYXJnaW5SaWdodDogdGFiQmFyR3V0dGVyICYmIGluZGV4ID09PSBjaGlsZHJlbi5sZW5ndGggLSAxID8gMCA6IHRhYkJhckd1dHRlcixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ucmVmfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0YWJ9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUmlwcGxlPixcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcnN0O1xuICB9LFxuICBnZXRSb290Tm9kZShjb250ZW50cykge1xuICAgIGNvbnN0IHtcbiAgICAgIHByZWZpeENscyxcbiAgICAgIG9uS2V5RG93bixcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGV4dHJhQ29udGVudCxcbiAgICAgIHN0eWxlLFxuICAgICAgdGFiQmFyUG9zaXRpb24sXG4gICAgICAuLi5yZXN0UHJvcHNcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBjbHMgPSBjbGFzc25hbWVzKGAke3ByZWZpeENsc30tYmFyYCwge1xuICAgICAgW2NsYXNzTmFtZV06ICEhY2xhc3NOYW1lLFxuICAgIH0pO1xuICAgIGNvbnN0IHRvcE9yQm90dG9tID0gdGFiQmFyUG9zaXRpb24gPT09ICd0b3AnIHx8IHRhYkJhclBvc2l0aW9uID09PSAnYm90dG9tJztcbiAgICBjb25zdCB0YWJCYXJFeHRyYUNvbnRlbnRTdHlsZSA9IHRvcE9yQm90dG9tID8geyBmbG9hdDogJ3JpZ2h0JyB9IDoge307XG4gICAgY29uc3QgZXh0cmFDb250ZW50U3R5bGUgPSBleHRyYUNvbnRlbnQgJiYgZXh0cmFDb250ZW50LnByb3BzID8gZXh0cmFDb250ZW50LnByb3BzLnN0eWxlIDoge307XG4gICAgbGV0IGNoaWxkcmVuID0gY29udGVudHM7XG4gICAgaWYgKGV4dHJhQ29udGVudCkge1xuICAgICAgY2hpbGRyZW4gPSBbXG4gICAgICAgIGNsb25lRWxlbWVudChleHRyYUNvbnRlbnQsIHtcbiAgICAgICAgICBrZXk6ICdleHRyYScsXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIC4uLnRhYkJhckV4dHJhQ29udGVudFN0eWxlLFxuICAgICAgICAgICAgLi4uZXh0cmFDb250ZW50U3R5bGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIGNsb25lRWxlbWVudChjb250ZW50cywgeyBrZXk6ICdjb250ZW50JyB9KSxcbiAgICAgIF07XG4gICAgICBjaGlsZHJlbiA9IHRvcE9yQm90dG9tID8gY2hpbGRyZW4gOiBjaGlsZHJlbi5yZXZlcnNlKCk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJvbGU9XCJ0YWJsaXN0XCJcbiAgICAgICAgY2xhc3NOYW1lPXtjbHN9XG4gICAgICAgIHRhYkluZGV4PVwiMFwiXG4gICAgICAgIHJlZj17dGhpcy5zYXZlUmVmKCdyb290Jyl9XG4gICAgICAgIG9uS2V5RG93bj17b25LZXlEb3dufVxuICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgIHsuLi5nZXREYXRhQXR0cihyZXN0UHJvcHMpfVxuICAgICAgPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9LFxufTtcbiJdfQ==