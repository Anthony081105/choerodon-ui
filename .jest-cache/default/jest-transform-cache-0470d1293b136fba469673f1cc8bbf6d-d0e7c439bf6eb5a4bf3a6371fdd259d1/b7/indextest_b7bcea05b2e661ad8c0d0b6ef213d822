e2c876305563cb518cf39628b35f90db
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _ = _interopRequireDefault(require(".."));

describe('Tag', function () {
  beforeAll(function () {
    jest.useFakeTimers();
  });
  afterAll(function () {
    jest.useRealTimers();
  });
  it('should be closable', function () {
    var onClose = jest.fn();
    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      closable: true,
      onClose: onClose
    }));
    expect(wrapper.find('.icon-close').length).toBe(1);
    expect(wrapper.find('.c7n-tag').not({
      hidden: true
    }).length).toBe(1);
    wrapper.find('.icon-close').simulate('click');
    expect(onClose).toHaveBeenCalled();
    jest.runAllTimers();
    wrapper.update();
    expect(wrapper.find('.c7n-tag').not({
      hidden: true
    }).length).toBe(0);
  });
  it('should not be closed when prevent default', function () {
    var onClose = function onClose(e) {
      e.preventDefault();
    };

    var wrapper = (0, _enzyme.mount)(_react["default"].createElement(_["default"], {
      closable: true,
      onClose: onClose
    }));
    expect(wrapper.find('.icon-close').length).toBe(1);
    expect(wrapper.find('.c7n-tag').not({
      hidden: true
    }).length).toBe(1);
    wrapper.find('.icon-close').simulate('click');
    jest.runAllTimers();
    expect(wrapper.find('.c7n-tag').not({
      hidden: true
    }).length).toBe(1);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJiZWZvcmVBbGwiLCJqZXN0IiwidXNlRmFrZVRpbWVycyIsImFmdGVyQWxsIiwidXNlUmVhbFRpbWVycyIsIml0Iiwib25DbG9zZSIsImZuIiwid3JhcHBlciIsImV4cGVjdCIsImZpbmQiLCJsZW5ndGgiLCJ0b0JlIiwibm90IiwiaGlkZGVuIiwic2ltdWxhdGUiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwicnVuQWxsVGltZXJzIiwidXBkYXRlIiwiZSIsInByZXZlbnREZWZhdWx0Il0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUFBLFFBQVEsQ0FBQyxLQUFELEVBQVEsWUFBTTtBQUNwQkMsRUFBQUEsU0FBUyxDQUFDLFlBQU07QUFDZEMsSUFBQUEsSUFBSSxDQUFDQyxhQUFMO0FBQ0QsR0FGUSxDQUFUO0FBSUFDLEVBQUFBLFFBQVEsQ0FBQyxZQUFNO0FBQ2JGLElBQUFBLElBQUksQ0FBQ0csYUFBTDtBQUNELEdBRk8sQ0FBUjtBQUlBQyxFQUFBQSxFQUFFLENBQUMsb0JBQUQsRUFBdUIsWUFBTTtBQUM3QixRQUFNQyxPQUFPLEdBQUdMLElBQUksQ0FBQ00sRUFBTCxFQUFoQjtBQUNBLFFBQU1DLE9BQU8sR0FBRyxtQkFBTSxnQ0FBQyxZQUFEO0FBQUssTUFBQSxRQUFRLE1BQWI7QUFBYyxNQUFBLE9BQU8sRUFBRUY7QUFBdkIsTUFBTixDQUFoQjtBQUNBRyxJQUFBQSxNQUFNLENBQUNELE9BQU8sQ0FBQ0UsSUFBUixDQUFhLGFBQWIsRUFBNEJDLE1BQTdCLENBQU4sQ0FBMkNDLElBQTNDLENBQWdELENBQWhEO0FBQ0FILElBQUFBLE1BQU0sQ0FBQ0QsT0FBTyxDQUFDRSxJQUFSLENBQWEsVUFBYixFQUF5QkcsR0FBekIsQ0FBNkI7QUFBRUMsTUFBQUEsTUFBTSxFQUFFO0FBQVYsS0FBN0IsRUFBK0NILE1BQWhELENBQU4sQ0FBOERDLElBQTlELENBQW1FLENBQW5FO0FBQ0FKLElBQUFBLE9BQU8sQ0FBQ0UsSUFBUixDQUFhLGFBQWIsRUFBNEJLLFFBQTVCLENBQXFDLE9BQXJDO0FBQ0FOLElBQUFBLE1BQU0sQ0FBQ0gsT0FBRCxDQUFOLENBQWdCVSxnQkFBaEI7QUFDQWYsSUFBQUEsSUFBSSxDQUFDZ0IsWUFBTDtBQUNBVCxJQUFBQSxPQUFPLENBQUNVLE1BQVI7QUFDQVQsSUFBQUEsTUFBTSxDQUFDRCxPQUFPLENBQUNFLElBQVIsQ0FBYSxVQUFiLEVBQXlCRyxHQUF6QixDQUE2QjtBQUFFQyxNQUFBQSxNQUFNLEVBQUU7QUFBVixLQUE3QixFQUErQ0gsTUFBaEQsQ0FBTixDQUE4REMsSUFBOUQsQ0FBbUUsQ0FBbkU7QUFDRCxHQVZDLENBQUY7QUFZQVAsRUFBQUEsRUFBRSxDQUFDLDJDQUFELEVBQThDLFlBQU07QUFDcEQsUUFBTUMsT0FBTyxHQUFHLFNBQVZBLE9BQVUsQ0FBQWEsQ0FBQyxFQUFJO0FBQ25CQSxNQUFBQSxDQUFDLENBQUNDLGNBQUY7QUFDRCxLQUZEOztBQUdBLFFBQU1aLE9BQU8sR0FBRyxtQkFBTSxnQ0FBQyxZQUFEO0FBQUssTUFBQSxRQUFRLE1BQWI7QUFBYyxNQUFBLE9BQU8sRUFBRUY7QUFBdkIsTUFBTixDQUFoQjtBQUNBRyxJQUFBQSxNQUFNLENBQUNELE9BQU8sQ0FBQ0UsSUFBUixDQUFhLGFBQWIsRUFBNEJDLE1BQTdCLENBQU4sQ0FBMkNDLElBQTNDLENBQWdELENBQWhEO0FBQ0FILElBQUFBLE1BQU0sQ0FBQ0QsT0FBTyxDQUFDRSxJQUFSLENBQWEsVUFBYixFQUF5QkcsR0FBekIsQ0FBNkI7QUFBRUMsTUFBQUEsTUFBTSxFQUFFO0FBQVYsS0FBN0IsRUFBK0NILE1BQWhELENBQU4sQ0FBOERDLElBQTlELENBQW1FLENBQW5FO0FBQ0FKLElBQUFBLE9BQU8sQ0FBQ0UsSUFBUixDQUFhLGFBQWIsRUFBNEJLLFFBQTVCLENBQXFDLE9BQXJDO0FBQ0FkLElBQUFBLElBQUksQ0FBQ2dCLFlBQUw7QUFDQVIsSUFBQUEsTUFBTSxDQUFDRCxPQUFPLENBQUNFLElBQVIsQ0FBYSxVQUFiLEVBQXlCRyxHQUF6QixDQUE2QjtBQUFFQyxNQUFBQSxNQUFNLEVBQUU7QUFBVixLQUE3QixFQUErQ0gsTUFBaEQsQ0FBTixDQUE4REMsSUFBOUQsQ0FBbUUsQ0FBbkU7QUFDRCxHQVZDLENBQUY7QUFXRCxDQWhDTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1vdW50IH0gZnJvbSAnZW56eW1lJztcbmltcG9ydCBUYWcgZnJvbSAnLi4nO1xuXG5kZXNjcmliZSgnVGFnJywgKCkgPT4ge1xuICBiZWZvcmVBbGwoKCkgPT4ge1xuICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuICB9KTtcblxuICBhZnRlckFsbCgoKSA9PiB7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgY2xvc2FibGUnLCAoKSA9PiB7XG4gICAgY29uc3Qgb25DbG9zZSA9IGplc3QuZm4oKTtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPFRhZyBjbG9zYWJsZSBvbkNsb3NlPXtvbkNsb3NlfSAvPik7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnLmljb24tY2xvc2UnKS5sZW5ndGgpLnRvQmUoMSk7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnLmM3bi10YWcnKS5ub3QoeyBoaWRkZW46IHRydWUgfSkubGVuZ3RoKS50b0JlKDEpO1xuICAgIHdyYXBwZXIuZmluZCgnLmljb24tY2xvc2UnKS5zaW11bGF0ZSgnY2xpY2snKTtcbiAgICBleHBlY3Qob25DbG9zZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIGplc3QucnVuQWxsVGltZXJzKCk7XG4gICAgd3JhcHBlci51cGRhdGUoKTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCcuYzduLXRhZycpLm5vdCh7IGhpZGRlbjogdHJ1ZSB9KS5sZW5ndGgpLnRvQmUoMCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbm90IGJlIGNsb3NlZCB3aGVuIHByZXZlbnQgZGVmYXVsdCcsICgpID0+IHtcbiAgICBjb25zdCBvbkNsb3NlID0gZSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoPFRhZyBjbG9zYWJsZSBvbkNsb3NlPXtvbkNsb3NlfSAvPik7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnLmljb24tY2xvc2UnKS5sZW5ndGgpLnRvQmUoMSk7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnLmM3bi10YWcnKS5ub3QoeyBoaWRkZW46IHRydWUgfSkubGVuZ3RoKS50b0JlKDEpO1xuICAgIHdyYXBwZXIuZmluZCgnLmljb24tY2xvc2UnKS5zaW11bGF0ZSgnY2xpY2snKTtcbiAgICBqZXN0LnJ1bkFsbFRpbWVycygpO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJy5jN24tdGFnJykubm90KHsgaGlkZGVuOiB0cnVlIH0pLmxlbmd0aCkudG9CZSgxKTtcbiAgfSk7XG59KTtcbiJdfQ==