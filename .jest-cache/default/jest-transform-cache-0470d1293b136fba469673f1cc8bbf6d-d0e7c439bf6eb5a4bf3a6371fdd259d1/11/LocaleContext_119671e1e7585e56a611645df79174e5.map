{"version":3,"sources":["locale-context/LocaleContext.jsx"],"names":["moment","locale","defaultLocale","LocaleContext","defaultSupports","setMomentLocale","supports","component","key","cmp","observable","action"],"mappings":";;;;;;;;;;;;;AAAA,IAAA,MAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,MAAA,CAAA;;AACA,IAAA,OAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;;AACA,IAAA,OAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA;;AACA,IAAA,SAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AACA,IAAA,kBAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,4BAAA,CAAA,CAAA;;AACA,SAAA,eAAA,CAAA,MAAA,EAAiC;AAC7BA,EAAAA,OAAAA,CAAAA,SAAAA,CAAAA,CAAAA,MAAAA,CAAc,CAAA,GAAA,kBAAA,CAAA,SAAA,CAAA,EAAkBC,MAAM,GAAGA,MAAM,CAAT,IAAA,GAAiBC,OAAAA,CAAAA,SAAAA,CAAAA,CAAvDF,IAAc,CAAdA;AACH;;IACYG,a;;;AACT,WAAA,aAAA,GAAc;AAAA,QAAA,KAAA,GAAA,IAAA;;AAAA,KAAA,GAAA,gBAAA,CAAA,SAAA,CAAA,EAAA,IAAA,EAAA,aAAA;AACV,KAAA,GAAA,KAAA,CAAA,WAAA,EAAY,YAAM;AACd,MAAA,KAAI,CAAJ,MAAA,GAAcD,OAAAA,CAAd,SAAcA,CAAd;AACA,MAAA,KAAI,CAAJ,QAAA,GAAgBE,SAAAA,CAAhB,SAAgBA,CAAhB;AAFJ,KAAA;AAIH;;;;8BACSH,M,EAAQ;AACdI,MAAAA,eAAe,CAAfA,MAAe,CAAfA;AACA,WAAA,MAAA,GAAA,MAAA;AACH;;;gCACWC,Q,EAAU;AAClB,WAAA,QAAA,GAAA,QAAA;AACH;;;wBACGC,S,EAAWC,G,EAAK;AAChB,UAAMC,GAAG,GAAG,CAAA,GAAA,KAAA,CAAA,GAAA,EAAI,KAAJ,MAAA,EAAZ,SAAY,CAAZ;AACA,aAAQA,GAAG,IAAI,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,GAAA,EAAR,GAAQ,CAAPA,IAAD,GAAA,MAAA,CAAA,SAAA,EAAA,GAAA,EAAA,MAAA,CAAP,GAAO,CAAP;AACH;;;;;;AAEL,CAAA,GAAA,MAAA,CAAA,UAAA,EAAW,CACPC,KAAAA,CADJ,UAAW,CAAX,EAEGP,aAAa,CAFhB,SAAA,EAAA,QAAA,EAEsC,KAFtC,CAAA;AAGA,CAAA,GAAA,MAAA,CAAA,UAAA,EAAW,CACPO,KAAAA,CADJ,UAAW,CAAX,EAEGP,aAAa,CAFhB,SAAA,EAAA,UAAA,EAEwC,KAFxC,CAAA;AAGA,CAAA,GAAA,MAAA,CAAA,UAAA,EAAW,CACPQ,KAAAA,CADJ,MAAW,CAAX,EAEGR,aAAa,CAFhB,SAAA,EAAA,WAAA,EAAA,IAAA;;eAGe,IAAA,aAAA,E","sourcesContent":["import { __decorate } from \"tslib\";\nimport { action, get, observable, runInAction } from 'mobx';\nimport moment from 'moment';\nimport defaultLocale from './locale';\nimport defaultSupports from './supports';\nimport normalizeLanguage from '../_util/normalizeLanguage';\nfunction setMomentLocale(locale) {\n    moment.locale(normalizeLanguage(locale ? locale.lang : defaultLocale.lang));\n}\nexport class LocaleContext {\n    constructor() {\n        runInAction(() => {\n            this.locale = defaultLocale;\n            this.supports = defaultSupports;\n        });\n    }\n    setLocale(locale) {\n        setMomentLocale(locale);\n        this.locale = locale;\n    }\n    setSupports(supports) {\n        this.supports = supports;\n    }\n    get(component, key) {\n        const cmp = get(this.locale, component);\n        return (cmp && get(cmp, key)) || `${component}.${key}`;\n    }\n}\n__decorate([\n    observable\n], LocaleContext.prototype, \"locale\", void 0);\n__decorate([\n    observable\n], LocaleContext.prototype, \"supports\", void 0);\n__decorate([\n    action\n], LocaleContext.prototype, \"setLocale\", null);\nexport default new LocaleContext();\n"]}