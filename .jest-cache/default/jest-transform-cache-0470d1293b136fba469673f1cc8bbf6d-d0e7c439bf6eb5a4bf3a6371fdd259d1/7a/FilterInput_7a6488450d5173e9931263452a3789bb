1b17ecead17292ea2640c43ae163f7d7
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _icon = _interopRequireDefault(require("../../icon"));

var _input = _interopRequireDefault(require("../../input"));

var _button = _interopRequireDefault(require("../../button"));

var _util = require("./util");

var FilterInput =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(FilterInput, _Component);

  function FilterInput(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, FilterInput);
    _this = (0, _possibleConstructorReturn2["default"])(this, (0, _getPrototypeOf2["default"])(FilterInput).call(this, props));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "componentWillReceiveProps", function (nextProps) {
      if ('filterValue' in nextProps) {
        var value = nextProps.filterValue;

        _this.setState({
          value: value
        });
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleChange", function (event, input) {
      var onChange = _this.props.onChange;
      onChange(event.target.value);

      _this.setState({
        value: event.target.value
      });
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "clearInputValue", function () {
      var onChange = _this.props.onChange;
      onChange('');
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "focus", function () {
      _this.filterInputRef.focus();
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "blur", function () {
      _this.filterInputRef.blur();
    });

    var _value = props.filterValue || '';

    _this.state = {
      value: _value
    };
    return _this;
  }

  (0, _createClass2["default"])(FilterInput, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          prefixCls = _this$props.prefixCls,
          placeholder = _this$props.placeholder;
      var value = this.state.value;

      var suffix = value && _react["default"].createElement(_button["default"], {
        size: "small",
        onClick: this.clearInputValue,
        shape: "circle",
        icon: "close"
      });

      return _react["default"].createElement("div", {
        className: "".concat(prefixCls, "-filter")
      }, _react["default"].createElement("span", {
        className: "".concat(prefixCls, "-filter-input")
      }, _react["default"].createElement(_input["default"], {
        value: value,
        placeholder: placeholder,
        prefix: _react["default"].createElement(_icon["default"], {
          type: "search"
        }),
        suffix: suffix,
        onChange: this.handleChange,
        onKeyDown: this.props.onKeyDown,
        ref: (0, _util.saveRef)(this, 'filterInputRef')
      })));
    }
  }]);
  return FilterInput;
}(_react.Component);

(0, _defineProperty2["default"])(FilterInput, "propTypes", {
  prefixCls: _propTypes["default"].string,
  placeholder: _propTypes["default"].string,
  onChange: _propTypes["default"].func,
  onKeyDown: _propTypes["default"].func
});
var _default = FilterInput;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkZpbHRlcklucHV0LmpzeCJdLCJuYW1lcyI6WyJGaWx0ZXJJbnB1dCIsInByb3BzIiwibmV4dFByb3BzIiwidmFsdWUiLCJmaWx0ZXJWYWx1ZSIsInNldFN0YXRlIiwiZXZlbnQiLCJpbnB1dCIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwiZmlsdGVySW5wdXRSZWYiLCJmb2N1cyIsImJsdXIiLCJzdGF0ZSIsInByZWZpeENscyIsInBsYWNlaG9sZGVyIiwic3VmZml4IiwiY2xlYXJJbnB1dFZhbHVlIiwiaGFuZGxlQ2hhbmdlIiwib25LZXlEb3duIiwiQ29tcG9uZW50IiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiZnVuYyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztJQUVNQSxXOzs7OztBQVFKLHVCQUFZQyxLQUFaLEVBQW1CO0FBQUE7O0FBQUE7QUFDakIsdUhBQU1BLEtBQU47QUFEaUIsa0hBUVMsVUFBQUMsU0FBUyxFQUFJO0FBQ3ZDLFVBQUksaUJBQWlCQSxTQUFyQixFQUFnQztBQUM5QixZQUFNQyxLQUFLLEdBQUdELFNBQVMsQ0FBQ0UsV0FBeEI7O0FBQ0EsY0FBS0MsUUFBTCxDQUFjO0FBQ1pGLFVBQUFBLEtBQUssRUFBTEE7QUFEWSxTQUFkO0FBR0Q7QUFDRixLQWZrQjtBQUFBLHFHQWlCSixVQUFDRyxLQUFELEVBQU9DLEtBQVAsRUFBaUI7QUFBQSxVQUN0QkMsUUFEc0IsR0FDVCxNQUFLUCxLQURJLENBQ3RCTyxRQURzQjtBQUU5QkEsTUFBQUEsUUFBUSxDQUFDRixLQUFLLENBQUNHLE1BQU4sQ0FBYU4sS0FBZCxDQUFSOztBQUNBLFlBQUtFLFFBQUwsQ0FBYztBQUNaRixRQUFBQSxLQUFLLEVBQUVHLEtBQUssQ0FBQ0csTUFBTixDQUFhTjtBQURSLE9BQWQ7QUFHRCxLQXZCa0I7QUFBQSx3R0F5QkQsWUFBTTtBQUFBLFVBQ2RLLFFBRGMsR0FDRCxNQUFLUCxLQURKLENBQ2RPLFFBRGM7QUFFdEJBLE1BQUFBLFFBQVEsQ0FBQyxFQUFELENBQVI7QUFDRCxLQTVCa0I7QUFBQSw4RkE4QlgsWUFBTTtBQUNaLFlBQUtFLGNBQUwsQ0FBb0JDLEtBQXBCO0FBQ0QsS0FoQ2tCO0FBQUEsNkZBa0NaLFlBQU07QUFDWCxZQUFLRCxjQUFMLENBQW9CRSxJQUFwQjtBQUNELEtBcENrQjs7QUFFakIsUUFBTVQsTUFBSyxHQUFHRixLQUFLLENBQUNHLFdBQU4sSUFBcUIsRUFBbkM7O0FBQ0EsVUFBS1MsS0FBTCxHQUFhO0FBQ1hWLE1BQUFBLEtBQUssRUFBTEE7QUFEVyxLQUFiO0FBSGlCO0FBTWxCOzs7OzZCQWdDUTtBQUFBLHdCQUM0QixLQUFLRixLQURqQztBQUFBLFVBQ0NhLFNBREQsZUFDQ0EsU0FERDtBQUFBLFVBQ1lDLFdBRFosZUFDWUEsV0FEWjtBQUFBLFVBRUNaLEtBRkQsR0FFVyxLQUFLVSxLQUZoQixDQUVDVixLQUZEOztBQUdQLFVBQU1hLE1BQU0sR0FBR2IsS0FBSyxJQUFJLGdDQUFDLGtCQUFEO0FBQVEsUUFBQSxJQUFJLEVBQUMsT0FBYjtBQUFxQixRQUFBLE9BQU8sRUFBRSxLQUFLYyxlQUFuQztBQUFvRCxRQUFBLEtBQUssRUFBQyxRQUExRDtBQUFtRSxRQUFBLElBQUksRUFBQztBQUF4RSxRQUF4Qjs7QUFDQSxhQUNFO0FBQUssUUFBQSxTQUFTLFlBQUtILFNBQUw7QUFBZCxTQUNFO0FBQU0sUUFBQSxTQUFTLFlBQUtBLFNBQUw7QUFBZixTQUNFLGdDQUFDLGlCQUFEO0FBQ0UsUUFBQSxLQUFLLEVBQUVYLEtBRFQ7QUFFRSxRQUFBLFdBQVcsRUFBRVksV0FGZjtBQUdFLFFBQUEsTUFBTSxFQUFFLGdDQUFDLGdCQUFEO0FBQU0sVUFBQSxJQUFJLEVBQUM7QUFBWCxVQUhWO0FBSUUsUUFBQSxNQUFNLEVBQUVDLE1BSlY7QUFLRSxRQUFBLFFBQVEsRUFBRSxLQUFLRSxZQUxqQjtBQU1FLFFBQUEsU0FBUyxFQUFFLEtBQUtqQixLQUFMLENBQVdrQixTQU54QjtBQU9FLFFBQUEsR0FBRyxFQUFFLG1CQUFRLElBQVIsRUFBYyxnQkFBZDtBQVBQLFFBREYsQ0FERixDQURGO0FBZUQ7OztFQWpFdUJDLGdCOztpQ0FBcEJwQixXLGVBQ2U7QUFDakJjLEVBQUFBLFNBQVMsRUFBRU8sc0JBQVVDLE1BREo7QUFFakJQLEVBQUFBLFdBQVcsRUFBRU0sc0JBQVVDLE1BRk47QUFHakJkLEVBQUFBLFFBQVEsRUFBRWEsc0JBQVVFLElBSEg7QUFJakJKLEVBQUFBLFNBQVMsRUFBRUUsc0JBQVVFO0FBSkosQztlQW1FTnZCLFciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBJY29uIGZyb20gJy4uLy4uL2ljb24nO1xuaW1wb3J0IElucHV0IGZyb20gJy4uLy4uL2lucHV0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vLi4vYnV0dG9uJztcbmltcG9ydCB7IHNhdmVSZWYgfSBmcm9tICcuL3V0aWwnO1xuXG5jbGFzcyBGaWx0ZXJJbnB1dCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgcHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbktleURvd246IFByb3BUeXBlcy5mdW5jLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IHZhbHVlID0gcHJvcHMuZmlsdGVyVmFsdWUgfHwgJyc7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlLFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBuZXh0UHJvcHMgPT4ge1xuICAgIGlmICgnZmlsdGVyVmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgY29uc3QgdmFsdWUgPSBuZXh0UHJvcHMuZmlsdGVyVmFsdWU7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UgPSAoZXZlbnQsaW5wdXQpID0+IHtcbiAgICBjb25zdCB7IG9uQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xuICAgIG9uQ2hhbmdlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB2YWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgfSk7XG4gIH1cblxuICBjbGVhcklucHV0VmFsdWUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBvbkNoYW5nZSB9ID0gdGhpcy5wcm9wcztcbiAgICBvbkNoYW5nZSgnJyk7XG4gIH1cblxuICBmb2N1cyA9ICgpID0+IHtcbiAgICB0aGlzLmZpbHRlcklucHV0UmVmLmZvY3VzKCk7XG4gIH1cblxuICBibHVyID0gKCkgPT4ge1xuICAgIHRoaXMuZmlsdGVySW5wdXRSZWYuYmx1cigpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJlZml4Q2xzLCBwbGFjZWhvbGRlciB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHZhbHVlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHN1ZmZpeCA9IHZhbHVlICYmIDxCdXR0b24gc2l6ZT0nc21hbGwnIG9uQ2xpY2s9e3RoaXMuY2xlYXJJbnB1dFZhbHVlfSBzaGFwZT1cImNpcmNsZVwiIGljb249XCJjbG9zZVwiIC8+O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1maWx0ZXJgfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWZpbHRlci1pbnB1dGB9PlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfVxuICAgICAgICAgICAgcHJlZml4PXs8SWNvbiB0eXBlPVwic2VhcmNoXCIgLz59XG4gICAgICAgICAgICBzdWZmaXg9e3N1ZmZpeH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5wcm9wcy5vbktleURvd259XG4gICAgICAgICAgICByZWY9e3NhdmVSZWYodGhpcywgJ2ZpbHRlcklucHV0UmVmJyl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGaWx0ZXJJbnB1dDtcbiJdfQ==