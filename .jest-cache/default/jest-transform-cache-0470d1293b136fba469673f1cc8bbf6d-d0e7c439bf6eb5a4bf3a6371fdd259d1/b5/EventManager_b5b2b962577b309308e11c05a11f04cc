12d4a4ab4e5975dd03c0e9a8776a0507
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.preventDefault = preventDefault;
exports.stopPropagation = stopPropagation;
exports.stopEvent = stopEvent;
exports["default"] = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

function on(eventName, fn, el, useCapture) {
  if (el) {
    if (el.addEventListener) {
      el.addEventListener(eventName, fn, useCapture);
    } else if (el.attachEvent) {
      el.attachEvent("on".concat(eventName), fn);
    }
  }
}

function off(eventName, fn, el, useCapture) {
  if (el) {
    if (el.removeEventListener) {
      el.removeEventListener(eventName, fn, useCapture);
    } else if (el.attachEvent) {
      el.detachEvent("on".concat(eventName), fn);
    }
  }
}

var EventManager =
/*#__PURE__*/
function () {
  function EventManager(el) {
    (0, _classCallCheck2["default"])(this, EventManager);
    this.events = {};
    this.el = el;
  }

  (0, _createClass2["default"])(EventManager, [{
    key: "addEventListener",
    value: function addEventListener(eventName, fn) {
      var useCapture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      eventName = eventName.toLowerCase();
      var events = this.events[eventName] || [];
      var index = events.findIndex(function (_ref) {
        var _ref2 = (0, _slicedToArray2["default"])(_ref, 1),
            event = _ref2[0];

        return event === fn;
      });

      if (index === -1) {
        events.push([fn, useCapture]);
        this.events[eventName] = events;
        on(eventName, fn, this.el, useCapture);
      }

      return this;
    }
  }, {
    key: "removeEventListener",
    value: function removeEventListener(eventName, fn) {
      var _this = this;

      var useCapture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      eventName = eventName.toLowerCase();
      var events = this.events[eventName];

      if (events) {
        if (fn) {
          var index = events.findIndex(function (_ref3) {
            var _ref4 = (0, _slicedToArray2["default"])(_ref3, 1),
                event = _ref4[0];

            return event === fn;
          });

          if (index !== -1) {
            events.splice(index, 1);
          }

          off(eventName, fn, this.el, useCapture);
        } else {
          this.events[eventName] = this.el ? (this.events[eventName] || []).filter(function (_ref5) {
            var _ref6 = (0, _slicedToArray2["default"])(_ref5, 2),
                event = _ref6[0],
                capture = _ref6[1];

            off(eventName, event, _this.el, capture);
            return false;
          }) : [];
        }
      }

      return this;
    }
  }, {
    key: "fireEvent",
    value: function fireEvent(eventName) {
      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        rest[_key - 1] = arguments[_key];
      }

      var events = this.events[eventName.toLowerCase()];
      return events ? Promise.all(events.map(function (_ref7) {
        var _ref8 = (0, _slicedToArray2["default"])(_ref7, 1),
            fn = _ref8[0];

        return fn.apply(void 0, rest);
      })).then(function (all) {
        return all.every(function (result) {
          return result !== false;
        });
      }) : Promise.resolve(true);
    }
  }, {
    key: "clear",
    value: function clear() {
      var _this2 = this;

      if (this.el) {
        Object.keys(this.events).forEach(function (eventName) {
          return _this2.removeEventListener(eventName);
        });
      }

      this.events = {};
      return this;
    }
  }]);
  return EventManager;
}();

exports["default"] = EventManager;

function preventDefault(e) {
  e.preventDefault();
}

function stopPropagation(e) {
  e.stopPropagation();
}

function stopEvent(e) {
  preventDefault(e);
  stopPropagation(e);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl91dGlsL0V2ZW50TWFuYWdlci5qc3giXSwibmFtZXMiOlsiZWwiLCJFdmVudE1hbmFnZXIiLCJldmVudE5hbWUiLCJmbiIsInVzZUNhcHR1cmUiLCJldmVudHMiLCJpbmRleCIsImV2ZW50Iiwib24iLCJvZmYiLCJjYXB0dXJlIiwicmVzdCIsInJlc3VsdCIsIlByb21pc2UiLCJPYmplY3QiLCJlIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLFNBQUEsRUFBQSxDQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsRUFBMkM7QUFDdkMsTUFBQSxFQUFBLEVBQVE7QUFDSixRQUFJQSxFQUFFLENBQU4sZ0JBQUEsRUFBeUI7QUFDckJBLE1BQUFBLEVBQUUsQ0FBRkEsZ0JBQUFBLENBQUFBLFNBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLFVBQUFBO0FBREosS0FBQSxNQUdLLElBQUlBLEVBQUUsQ0FBTixXQUFBLEVBQW9CO0FBQ3JCQSxNQUFBQSxFQUFFLENBQUZBLFdBQUFBLENBQUFBLEtBQUFBLE1BQUFBLENBQUFBLFNBQUFBLENBQUFBLEVBQUFBLEVBQUFBO0FBQ0g7QUFDSjtBQUNKOztBQUNELFNBQUEsR0FBQSxDQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsRUFBNEM7QUFDeEMsTUFBQSxFQUFBLEVBQVE7QUFDSixRQUFJQSxFQUFFLENBQU4sbUJBQUEsRUFBNEI7QUFDeEJBLE1BQUFBLEVBQUUsQ0FBRkEsbUJBQUFBLENBQUFBLFNBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLFVBQUFBO0FBREosS0FBQSxNQUdLLElBQUlBLEVBQUUsQ0FBTixXQUFBLEVBQW9CO0FBQ3JCQSxNQUFBQSxFQUFFLENBQUZBLFdBQUFBLENBQUFBLEtBQUFBLE1BQUFBLENBQUFBLFNBQUFBLENBQUFBLEVBQUFBLEVBQUFBO0FBQ0g7QUFDSjtBQUNKOztJQUNv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QUFJLENBQUo7QUFEaEQsT0FDUCxDQURPLEdBRVBDLE9BQU8sQ0FBUEEsT0FBQUEsQ0FGTixJQUVNQSxDQUZOO0FBR0g7Ozs0QkFDTztBQUFBLFVBQUEsTUFBQSxHQUFBLElBQUE7O0FBQ0osVUFBSSxLQUFKLEVBQUEsRUFBYTtBQUNUQyxRQUFBQSxNQUFNLENBQU5BLElBQUFBLENBQVksS0FBWkEsTUFBQUEsRUFBQUEsT0FBQUEsQ0FBaUMsVUFBQSxTQUFBLEVBQVM7QUFBQSxpQkFBSSxNQUFJLENBQUosbUJBQUEsQ0FBSixTQUFJLENBQUo7QUFBMUNBLFNBQUFBO0FBQ0g7O0FBQ0QsV0FBQSxNQUFBLEdBQUEsRUFBQTtBQUNBLGFBQUEsSUFBQTtBQUNIOzs7Ozs7O0FBRUUsU0FBQSxjQUFBLENBQUEsQ0FBQSxFQUEyQjtBQUM5QkMsRUFBQUEsQ0FBQyxDQUFEQSxjQUFBQTtBQUNIOztBQUNNLFNBQUEsZUFBQSxDQUFBLENBQUEsRUFBNEI7QUFDL0JBLEVBQUFBLENBQUMsQ0FBREEsZUFBQUE7QUFDSDs7QUFDTSxTQUFBLFNBQUEsQ0FBQSxDQUFBLEVBQXNCO0FBQ3pCQyxFQUFBQSxjQUFjLENBQWRBLENBQWMsQ0FBZEE7QUFDQUMsRUFBQUEsZUFBZSxDQUFmQSxDQUFlLENBQWZBO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBvbihldmVudE5hbWUsIGZuLCBlbCwgdXNlQ2FwdHVyZSkge1xuICAgIGlmIChlbCkge1xuICAgICAgICBpZiAoZWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZuLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbC5hdHRhY2hFdmVudCkge1xuICAgICAgICAgICAgZWwuYXR0YWNoRXZlbnQoYG9uJHtldmVudE5hbWV9YCwgZm4pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gb2ZmKGV2ZW50TmFtZSwgZm4sIGVsLCB1c2VDYXB0dXJlKSB7XG4gICAgaWYgKGVsKSB7XG4gICAgICAgIGlmIChlbC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm4sIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVsLmF0dGFjaEV2ZW50KSB7XG4gICAgICAgICAgICBlbC5kZXRhY2hFdmVudChgb24ke2V2ZW50TmFtZX1gLCBmbik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICB9XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZuLCB1c2VDYXB0dXJlID0gZmFsc2UpIHtcbiAgICAgICAgZXZlbnROYW1lID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gfHwgW107XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZXZlbnRzLmZpbmRJbmRleCgoW2V2ZW50XSkgPT4gZXZlbnQgPT09IGZuKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgZXZlbnRzLnB1c2goW2ZuLCB1c2VDYXB0dXJlXSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gZXZlbnRzO1xuICAgICAgICAgICAgb24oZXZlbnROYW1lLCBmbiwgdGhpcy5lbCwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmbiwgdXNlQ2FwdHVyZSA9IGZhbHNlKSB7XG4gICAgICAgIGV2ZW50TmFtZSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLmV2ZW50c1tldmVudE5hbWVdO1xuICAgICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGV2ZW50cy5maW5kSW5kZXgoKFtldmVudF0pID0+IGV2ZW50ID09PSBmbik7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2ZmKGV2ZW50TmFtZSwgZm4sIHRoaXMuZWwsIHVzZUNhcHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IHRoaXMuZWxcbiAgICAgICAgICAgICAgICAgICAgPyAodGhpcy5ldmVudHNbZXZlbnROYW1lXSB8fCBbXSkuZmlsdGVyKChbZXZlbnQsIGNhcHR1cmVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmYoZXZlbnROYW1lLCBldmVudCwgdGhpcy5lbCwgY2FwdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIDogW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGZpcmVFdmVudChldmVudE5hbWUsIC4uLnJlc3QpIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ldmVudHNbZXZlbnROYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICByZXR1cm4gZXZlbnRzXG4gICAgICAgICAgICA/IFByb21pc2UuYWxsKGV2ZW50cy5tYXAoKFtmbl0pID0+IGZuKC4uLnJlc3QpKSkudGhlbihhbGwgPT4gYWxsLmV2ZXJ5KHJlc3VsdCA9PiByZXN1bHQgIT09IGZhbHNlKSlcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWwpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZXZlbnRzKS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BFdmVudChlKSB7XG4gICAgcHJldmVudERlZmF1bHQoZSk7XG4gICAgc3RvcFByb3BhZ2F0aW9uKGUpO1xufVxuIl19