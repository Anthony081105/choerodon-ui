226845448639b619f5e58fe852f103cb
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _radio = _interopRequireDefault(require("../radio"));

var _group = _interopRequireDefault(require("../group"));

describe('Radio', function () {
  function createRadioGroup(props) {
    return _react["default"].createElement(_group["default"], props, _react["default"].createElement(_radio["default"], {
      value: "A"
    }, "A"), _react["default"].createElement(_radio["default"], {
      value: "B"
    }, "B"), _react["default"].createElement(_radio["default"], {
      value: "C"
    }, "C"));
  }

  function createRadioGroupByOption(props) {
    var options = [{
      label: 'A',
      value: 'A'
    }, {
      label: 'B',
      value: 'B'
    }, {
      label: 'C',
      value: 'C'
    }];
    return _react["default"].createElement(_group["default"], (0, _extends2["default"])({}, props, {
      options: options
    }));
  }

  it('responses hover events', function () {
    var onMouseEnter = jest.fn();
    var onMouseLeave = jest.fn();
    var wrapper = (0, _enzyme.shallow)(_react["default"].createElement(_group["default"], {
      className: "radiogroup",
      onMouseEnter: onMouseEnter,
      onMouseLeave: onMouseLeave
    }, _react["default"].createElement(_radio["default"], null)));
    wrapper.find('.radiogroup').simulate('mouseenter');
    expect(onMouseEnter).toHaveBeenCalled();
    wrapper.find('.radiogroup').simulate('mouseleave');
    expect(onMouseLeave).toHaveBeenCalled();
  });
  it('fire change events when value changes', function () {
    var onChange = jest.fn();
    var wrapper = (0, _enzyme.mount)(createRadioGroup({
      onChange: onChange
    }));
    var radios = wrapper.find('input'); // uncontrolled component

    wrapper.setState({
      value: 'B'
    });
    radios.at(0).simulate('change');
    expect(onChange.mock.calls.length).toBe(1); // controlled component

    wrapper.setProps({
      value: 'A'
    });
    radios.at(1).simulate('change');
    expect(onChange.mock.calls.length).toBe(2);
  });
  it("won't fire change events when value not changes", function () {
    var onChange = jest.fn();
    var wrapper = (0, _enzyme.mount)(createRadioGroup({
      onChange: onChange
    }));
    var radios = wrapper.find('input'); // uncontrolled component

    wrapper.setState({
      value: 'B'
    });
    radios.at(1).simulate('change');
    expect(onChange.mock.calls.length).toBe(0); // controlled component

    wrapper.setProps({
      value: 'A'
    });
    radios.at(0).simulate('change');
    expect(onChange.mock.calls.length).toBe(0);
  });
  it('optional should correct render', function () {
    var wrapper = (0, _enzyme.mount)(createRadioGroupByOption());
    var radios = wrapper.find('input');
    expect(radios.length).toBe(3);
  });
  it('all children should have a name property', function () {
    var GROUP_NAME = 'radiogroup';
    var wrapper = (0, _enzyme.mount)(createRadioGroup({
      name: GROUP_NAME
    }));
    wrapper.find('input[type="radio"]').forEach(function (el) {
      expect(el.props().name).toEqual(GROUP_NAME);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyb3VwLnRlc3QuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJjcmVhdGVSYWRpb0dyb3VwIiwicHJvcHMiLCJjcmVhdGVSYWRpb0dyb3VwQnlPcHRpb24iLCJvcHRpb25zIiwibGFiZWwiLCJ2YWx1ZSIsIml0Iiwib25Nb3VzZUVudGVyIiwiamVzdCIsImZuIiwib25Nb3VzZUxlYXZlIiwid3JhcHBlciIsImZpbmQiLCJzaW11bGF0ZSIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJvbkNoYW5nZSIsInJhZGlvcyIsInNldFN0YXRlIiwiYXQiLCJtb2NrIiwiY2FsbHMiLCJsZW5ndGgiLCJ0b0JlIiwic2V0UHJvcHMiLCJHUk9VUF9OQU1FIiwibmFtZSIsImZvckVhY2giLCJlbCIsInRvRXF1YWwiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBQSxRQUFRLENBQUMsT0FBRCxFQUFVLFlBQU07QUFDdEIsV0FBU0MsZ0JBQVQsQ0FBMEJDLEtBQTFCLEVBQWlDO0FBQy9CLFdBQ0UsZ0NBQUMsaUJBQUQsRUFBZ0JBLEtBQWhCLEVBQ0UsZ0NBQUMsaUJBQUQ7QUFBTyxNQUFBLEtBQUssRUFBQztBQUFiLFdBREYsRUFFRSxnQ0FBQyxpQkFBRDtBQUFPLE1BQUEsS0FBSyxFQUFDO0FBQWIsV0FGRixFQUdFLGdDQUFDLGlCQUFEO0FBQU8sTUFBQSxLQUFLLEVBQUM7QUFBYixXQUhGLENBREY7QUFPRDs7QUFFRCxXQUFTQyx3QkFBVCxDQUFrQ0QsS0FBbEMsRUFBeUM7QUFDdkMsUUFBTUUsT0FBTyxHQUFHLENBQ2Q7QUFBRUMsTUFBQUEsS0FBSyxFQUFFLEdBQVQ7QUFBY0MsTUFBQUEsS0FBSyxFQUFFO0FBQXJCLEtBRGMsRUFFZDtBQUFFRCxNQUFBQSxLQUFLLEVBQUUsR0FBVDtBQUFjQyxNQUFBQSxLQUFLLEVBQUU7QUFBckIsS0FGYyxFQUdkO0FBQUVELE1BQUFBLEtBQUssRUFBRSxHQUFUO0FBQWNDLE1BQUFBLEtB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WixJQUFBQSxPQUFPLENBQUNhLFFBQVIsQ0FBaUI7QUFBRW5CLE1BQUFBLEtBQUssRUFBRTtBQUFULEtBQWpCO0FBQ0FZLElBQUFBLE1BQU0sQ0FBQ0UsRUFBUCxDQUFVLENBQVYsRUFBYU4sUUFBYixDQUFzQixRQUF0QjtBQUNBQyxJQUFBQSxNQUFNLENBQUNFLFFBQVEsQ0FBQ0ksSUFBVCxDQUFjQyxLQUFkLENBQW9CQyxNQUFyQixDQUFOLENBQW1DQyxJQUFuQyxDQUF3QyxDQUF4QztBQUNELEdBbkJDLENBQUY7QUFxQkFqQixFQUFBQSxFQUFFLENBQUMsZ0NBQUQsRUFBbUMsWUFBTTtBQUN6QyxRQUFNSyxPQUFPLEdBQUcsbUJBQU1ULHdCQUF3QixFQUE5QixDQUFoQjtBQUNBLFFBQU1lLE1BQU0sR0FBR04sT0FBTyxDQUFDQyxJQUFSLENBQWEsT0FBYixDQUFmO0FBRUFFLElBQUFBLE1BQU0sQ0FBQ0csTUFBTSxDQUFDSyxNQUFSLENBQU4sQ0FBc0JDLElBQXRCLENBQTJCLENBQTNCO0FBQ0QsR0FMQyxDQUFGO0FBT0FqQixFQUFBQSxFQUFFLENBQUMsMENBQUQsRUFBNkMsWUFBTTtBQUNuRCxRQUFNbUIsVUFBVSxHQUFHLFlBQW5CO0FBQ0EsUUFBTWQsT0FBTyxHQUFHLG1CQUFNWCxnQkFBZ0IsQ0FBQztBQUFFMEIsTUFBQUEsSUFBSSxFQUFFRDtBQUFSLEtBQUQsQ0FBdEIsQ0FBaEI7QUFFQWQsSUFBQUEsT0FBTyxDQUFDQyxJQUFSLENBQWEscUJBQWIsRUFBb0NlLE9BQXBDLENBQTRDLFVBQUFDLEVBQUUsRUFBSTtBQUNoRGQsTUFBQUEsTUFBTSxDQUFDYyxFQUFFLENBQUMzQixLQUFILEdBQVd5QixJQUFaLENBQU4sQ0FBd0JHLE9BQXhCLENBQWdDSixVQUFoQztBQUNELEtBRkQ7QUFHRCxHQVBDLENBQUY7QUFRRCxDQTlGTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHNoYWxsb3csIG1vdW50IH0gZnJvbSAnZW56eW1lJztcbmltcG9ydCBSYWRpbyBmcm9tICcuLi9yYWRpbyc7XG5pbXBvcnQgUmFkaW9Hcm91cCBmcm9tICcuLi9ncm91cCc7XG5cbmRlc2NyaWJlKCdSYWRpbycsICgpID0+IHtcbiAgZnVuY3Rpb24gY3JlYXRlUmFkaW9Hcm91cChwcm9wcykge1xuICAgIHJldHVybiAoXG4gICAgICA8UmFkaW9Hcm91cCB7Li4ucHJvcHN9PlxuICAgICAgICA8UmFkaW8gdmFsdWU9XCJBXCI+QTwvUmFkaW8+XG4gICAgICAgIDxSYWRpbyB2YWx1ZT1cIkJcIj5CPC9SYWRpbz5cbiAgICAgICAgPFJhZGlvIHZhbHVlPVwiQ1wiPkM8L1JhZGlvPlxuICAgICAgPC9SYWRpb0dyb3VwPlxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVSYWRpb0dyb3VwQnlPcHRpb24ocHJvcHMpIHtcbiAgICBjb25zdCBvcHRpb25zID0gW1xuICAgICAgeyBsYWJlbDogJ0EnLCB2YWx1ZTogJ0EnIH0sXG4gICAgICB7IGxhYmVsOiAnQicsIHZhbHVlOiAnQicgfSxcbiAgICAgIHsgbGFiZWw6ICdDJywgdmFsdWU6ICdDJyB9LFxuICAgIF07XG5cbiAgICByZXR1cm4gPFJhZGlvR3JvdXAgey4uLnByb3BzfSBvcHRpb25zPXtvcHRpb25zfSAvPjtcbiAgfVxuXG4gIGl0KCdyZXNwb25zZXMgaG92ZXIgZXZlbnRzJywgKCkgPT4ge1xuICAgIGNvbnN0IG9uTW91c2VFbnRlciA9IGplc3QuZm4oKTtcbiAgICBjb25zdCBvbk1vdXNlTGVhdmUgPSBqZXN0LmZuKCk7XG5cbiAgICBjb25zdCB3cmFwcGVyID0gc2hhbGxvdyhcbiAgICAgIDxSYWRpb0dyb3VwIGNsYXNzTmFtZT1cInJhZGlvZ3JvdXBcIiBvbk1vdXNlRW50ZXI9e29uTW91c2VFbnRlcn0gb25Nb3VzZUxlYXZlPXtvbk1vdXNlTGVhdmV9PlxuICAgICAgICA8UmFkaW8gLz5cbiAgICAgIDwvUmFkaW9Hcm91cD4sXG4gICAgKTtcbiAgICB3cmFwcGVyLmZpbmQoJy5yYWRpb2dyb3VwJykuc2ltdWxhdGUoJ21vdXNlZW50ZXInKTtcbiAgICBleHBlY3Qob25Nb3VzZUVudGVyKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG5cbiAgICB3cmFwcGVyLmZpbmQoJy5yYWRpb2dyb3VwJykuc2ltdWxhdGUoJ21vdXNlbGVhdmUnKTtcbiAgICBleHBlY3Qob25Nb3VzZUxlYXZlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIGl0KCdmaXJlIGNoYW5nZSBldmVudHMgd2hlbiB2YWx1ZSBjaGFuZ2VzJywgKCkgPT4ge1xuICAgIGNvbnN0IG9uQ2hhbmdlID0gamVzdC5mbigpO1xuXG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAgICAgY3JlYXRlUmFkaW9Hcm91cCh7XG4gICAgICAgIG9uQ2hhbmdlLFxuICAgICAgfSksXG4gICAgKTtcbiAgICBjb25zdCByYWRpb3MgPSB3cmFwcGVyLmZpbmQoJ2lucHV0Jyk7XG5cbiAgICAvLyB1bmNvbnRyb2xsZWQgY29tcG9uZW50XG4gICAgd3JhcHBlci5zZXRTdGF0ZSh7IHZhbHVlOiAnQicgfSk7XG4gICAgcmFkaW9zLmF0KDApLnNpbXVsYXRlKCdjaGFuZ2UnKTtcbiAgICBleHBlY3Qob25DaGFuZ2UubW9jay5jYWxscy5sZW5ndGgpLnRvQmUoMSk7XG5cbiAgICAvLyBjb250cm9sbGVkIGNvbXBvbmVudFxuICAgIHdyYXBwZXIuc2V0UHJvcHMoeyB2YWx1ZTogJ0EnIH0pO1xuICAgIHJhZGlvcy5hdCgxKS5zaW11bGF0ZSgnY2hhbmdlJyk7XG4gICAgZXhwZWN0KG9uQ2hhbmdlLm1vY2suY2FsbHMubGVuZ3RoKS50b0JlKDIpO1xuICB9KTtcblxuICBpdChcIndvbid0IGZpcmUgY2hhbmdlIGV2ZW50cyB3aGVuIHZhbHVlIG5vdCBjaGFuZ2VzXCIsICgpID0+IHtcbiAgICBjb25zdCBvbkNoYW5nZSA9IGplc3QuZm4oKTtcblxuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChcbiAgICAgIGNyZWF0ZVJhZGlvR3JvdXAoe1xuICAgICAgICBvbkNoYW5nZSxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgY29uc3QgcmFkaW9zID0gd3JhcHBlci5maW5kKCdpbnB1dCcpO1xuXG4gICAgLy8gdW5jb250cm9sbGVkIGNvbXBvbmVudFxuICAgIHdyYXBwZXIuc2V0U3RhdGUoeyB2YWx1ZTogJ0InIH0pO1xuICAgIHJhZGlvcy5hdCgxKS5zaW11bGF0ZSgnY2hhbmdlJyk7XG4gICAgZXhwZWN0KG9uQ2hhbmdlLm1vY2suY2FsbHMubGVuZ3RoKS50b0JlKDApO1xuXG4gICAgLy8gY29udHJvbGxlZCBjb21wb25lbnRcbiAgICB3cmFwcGVyLnNldFByb3BzKHsgdmFsdWU6ICdBJyB9KTtcbiAgICByYWRpb3MuYXQoMCkuc2ltdWxhdGUoJ2NoYW5nZScpO1xuICAgIGV4cGVjdChvbkNoYW5nZS5tb2NrLmNhbGxzLmxlbmd0aCkudG9CZSgwKTtcbiAgfSk7XG5cbiAgaXQoJ29wdGlvbmFsIHNob3VsZCBjb3JyZWN0IHJlbmRlcicsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoY3JlYXRlUmFkaW9Hcm91cEJ5T3B0aW9uKCkpO1xuICAgIGNvbnN0IHJhZGlvcyA9IHdyYXBwZXIuZmluZCgnaW5wdXQnKTtcblxuICAgIGV4cGVjdChyYWRpb3MubGVuZ3RoKS50b0JlKDMpO1xuICB9KTtcblxuICBpdCgnYWxsIGNoaWxkcmVuIHNob3VsZCBoYXZlIGEgbmFtZSBwcm9wZXJ0eScsICgpID0+IHtcbiAgICBjb25zdCBHUk9VUF9OQU1FID0gJ3JhZGlvZ3JvdXAnO1xuICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChjcmVhdGVSYWRpb0dyb3VwKHsgbmFtZTogR1JPVVBfTkFNRSB9KSk7XG5cbiAgICB3cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpLmZvckVhY2goZWwgPT4ge1xuICAgICAgZXhwZWN0KGVsLnByb3BzKCkubmFtZSkudG9FcXVhbChHUk9VUF9OQU1FKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==