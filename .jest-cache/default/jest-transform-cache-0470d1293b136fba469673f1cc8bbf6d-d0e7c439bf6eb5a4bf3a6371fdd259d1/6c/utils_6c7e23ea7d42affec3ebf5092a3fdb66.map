{"version":3,"sources":["/Users/huihuawk/Documents/opt/choerodon-ui/components/upload/utils.tsx"],"names":[],"mappings":";;;;;;;;;;;AAEM,SAAU,CAAV,GAAW;AACf,SAAO,IAAP;AACD,C,CAED;AACA;;;AACM,SAAU,YAAV,CAAuB,IAAvB,EAAuC;AAC3C,SAAO;AACL,IAAA,YAAY,EAAE,IAAI,CAAC,YADd;AAEL,IAAA,gBAAgB,EAAE,IAAI,CAAC,gBAFlB;AAGL,IAAA,IAAI,EAAE,IAAI,CAAC,QAAL,IAAiB,IAAI,CAAC,IAHvB;AAIL,IAAA,IAAI,EAAE,IAAI,CAAC,IAJN;AAKL,IAAA,IAAI,EAAE,IAAI,CAAC,IALN;AAML,IAAA,GAAG,EAAE,IAAI,CAAC,GANL;AAOL,IAAA,QAAQ,EAAE,IAAI,CAAC,QAPV;AAQL,IAAA,KAAK,EAAE,IAAI,CAAC,KARP;AASL,IAAA,OAAO,EAAE,CATJ;AAUL,IAAA,aAAa,EAAE;AAVV,GAAP;AAYD;AAED;;;;;;AAIM,SAAU,aAAV,GAAuB;AAC3B,MAAI,CAAC,GAAG,GAAR;AACA,MAAM,CAAC,GAAG,IAAV;AACA,MAAM,GAAG,GAAG,IAAZ;AACA,SAAO,UAAS,CAAT,EAAkB;AACvB,QAAI,KAAK,GAAG,CAAZ;;AACA,QAAI,KAAK,IAAI,GAAb,EAAkB;AAChB,aAAO,KAAP;AACD;;AAED,IAAA,KAAK,IAAI,CAAT;AACA,IAAA,CAAC,IAAI,CAAL;;AACA,QAAI,CAAC,GAAG,KAAR,EAAe;AACb,MAAA,CAAC,GAAG,KAAJ;AACD;;AACD,WAAO,KAAK,GAAG,GAAf;AACD,GAZD;AAaD;;AAEK,SAAU,WAAV,CAAsB,IAAtB,EAAwC,QAAxC,EAA8D;AAClE,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAL,KAAa,SAAb,GAAyB,KAAzB,GAAiC,MAAlD;AACA,SAAO,QAAQ,CAAC,MAAT,CAAgB,UAAA,IAAI;AAAA,WAAI,IAAI,CAAC,QAAD,CAAJ,KAAmB,IAAI,CAAC,QAAD,CAA3B;AAAA,GAApB,EAA2D,CAA3D,CAAP;AACD;;AAEK,SAAU,cAAV,CAAyB,IAAzB,EAA2C,QAA3C,EAAiE;AACrE,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAL,KAAa,SAAb,GAAyB,KAAzB,GAAiC,MAAlD;AACA,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAT,CAAgB,UAAA,IAAI;AAAA,WAAI,IAAI,CAAC,QAAD,CAAJ,KAAmB,IAAI,CAAC,QAAD,CAA3B;AAAA,GAApB,CAAhB;;AACA,MAAI,OAAO,CAAC,MAAR,KAAmB,QAAQ,CAAC,MAAhC,EAAwC;AACtC,WAAO,IAAP;AACD;;AACD,SAAO,OAAP;AACD","sourcesContent":["import { UploadFile } from './interface';\n\nexport function T() {\n  return true;\n}\n\n// Fix IE file.status problem\n// via coping a new Object\nexport function fileToObject(file: UploadFile) {\n  return {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.filename || file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    response: file.response,\n    error: file.error,\n    percent: 0,\n    originFileObj: file as (File | UploadFile),\n  } as UploadFile;\n}\n\n/**\n * 生成Progress percent: 0.1 -> 0.98\n *   - for ie\n */\nexport function genPercentAdd() {\n  let k = 0.1;\n  const i = 0.01;\n  const end = 0.98;\n  return function(s: number) {\n    let start = s;\n    if (start >= end) {\n      return start;\n    }\n\n    start += k;\n    k -= i;\n    if (k < 0.001) {\n      k = 0.001;\n    }\n    return start * 100;\n  };\n}\n\nexport function getFileItem(file: UploadFile, fileList: UploadFile[]) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\n\nexport function removeFileItem(file: UploadFile, fileList: UploadFile[]) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n"]}