0f245956722a0b27f26cb943bc67ff24
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf3 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var Notice =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(Notice, _Component);

  function Notice() {
    var _getPrototypeOf2;

    var _this;

    (0, _classCallCheck2["default"])(this, Notice);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = (0, _possibleConstructorReturn2["default"])(this, (_getPrototypeOf2 = (0, _getPrototypeOf3["default"])(Notice)).call.apply(_getPrototypeOf2, [this].concat(args)));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "close", function () {
      _this.clearCloseTimer();

      _this.props.onClose();
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "startCloseTimer", function () {
      if (_this.props.duration) {
        _this.closeTimer = setTimeout(function () {
          _this.close();
        }, _this.props.duration * 1000);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "clearCloseTimer", function () {
      if (_this.closeTimer) {
        clearTimeout(_this.closeTimer);
        _this.closeTimer = null;
      }
    });
    return _this;
  }

  (0, _createClass2["default"])(Notice, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.startCloseTimer();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.clearCloseTimer();
    }
  }, {
    key: "render",
    value: function render() {
      var _className;

      var props = this.props;
      var componentClass = "".concat(props.prefixCls, "-notice");
      var className = (_className = {}, (0, _defineProperty2["default"])(_className, "".concat(componentClass), 1), (0, _defineProperty2["default"])(_className, "".concat(componentClass, "-closable"), props.closable), (0, _defineProperty2["default"])(_className, props.className, !!props.className), _className);
      return _react["default"].createElement("div", {
        className: (0, _classnames["default"])(className),
        style: props.style,
        onMouseEnter: this.clearCloseTimer,
        onMouseLeave: this.startCloseTimer
      }, _react["default"].createElement("div", {
        className: "".concat(componentClass, "-content")
      }, props.children), props.closable ? _react["default"].createElement("a", {
        tabIndex: "0",
        onClick: this.close,
        className: "".concat(componentClass, "-close")
      }, props.closeIcon || _react["default"].createElement("span", {
        className: "".concat(componentClass, "-close-x")
      })) : null);
    }
  }]);
  return Notice;
}(_react.Component);

exports["default"] = Notice;
(0, _defineProperty2["default"])(Notice, "propTypes", {
  duration: _propTypes["default"].number,
  onClose: _propTypes["default"].func,
  children: _propTypes["default"].any,
  closeIcon: _propTypes["default"].node
});
(0, _defineProperty2["default"])(Notice, "defaultProps", {
  onEnd: function onEnd() {},
  onClose: function onClose() {},
  duration: 1.5,
  style: {
    right: '50%'
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5vdGljZS5qc3giXSwibmFtZXMiOlsiTm90aWNlIiwiY2xlYXJDbG9zZVRpbWVyIiwicHJvcHMiLCJvbkNsb3NlIiwiZHVyYXRpb24iLCJjbG9zZVRpbWVyIiwic2V0VGltZW91dCIsImNsb3NlIiwiY2xlYXJUaW1lb3V0Iiwic3RhcnRDbG9zZVRpbWVyIiwiY29tcG9uZW50Q2xhc3MiLCJwcmVmaXhDbHMiLCJjbGFzc05hbWUiLCJjbG9zYWJsZSIsInN0eWxlIiwiY2hpbGRyZW4iLCJjbG9zZUljb24iLCJDb21wb25lbnQiLCJQcm9wVHlwZXMiLCJudW1iZXIiLCJmdW5jIiwiYW55Iiwibm9kZSIsIm9uRW5kIiwicmlnaHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7SUFFcUJBLE07Ozs7Ozs7Ozs7Ozs7Ozs7OzhGQXlCWCxZQUFNO0FBQ1osWUFBS0MsZUFBTDs7QUFDQSxZQUFLQyxLQUFMLENBQVdDLE9BQVg7QUFDRCxLO3dHQUVpQixZQUFNO0FBQ3RCLFVBQUksTUFBS0QsS0FBTCxDQUFXRSxRQUFmLEVBQXlCO0FBQ3ZCLGNBQUtDLFVBQUwsR0FBa0JDLFVBQVUsQ0FBQyxZQUFNO0FBQ2pDLGdCQUFLQyxLQUFMO0FBQ0QsU0FGMkIsRUFFekIsTUFBS0wsS0FBTCxDQUFXRSxRQUFYLEdBQXNCLElBRkcsQ0FBNUI7QUFHRDtBQUNGLEs7d0dBRWlCLFlBQU07QUFDdEIsVUFBSSxNQUFLQyxVQUFULEVBQXFCO0FBQ25CRyxRQUFBQSxZQUFZLENBQUMsTUFBS0gsVUFBTixDQUFaO0FBQ0EsY0FBS0EsVUFBTCxHQUFrQixJQUFsQjtBQUNEO0FBQ0YsSzs7Ozs7O3dDQTFCbUI7QUFDbEIsV0FBS0ksZUFBTDtBQUNEOzs7MkNBRXNCO0FBQ3JCLFdBQUtSLGVBQUw7QUFDRDs7OzZCQXNCUTtBQUFBOztBQUNQLFVBQU1DLEtBQUssR0FBRyxLQUFLQSxLQUFuQjtBQUNBLFVBQU1RLGNBQWMsYUFBTVIsS0FBSyxDQUFDUyxTQUFaLFlBQXBCO0FBQ0EsVUFBTUMsU0FBUyw0RUFDVEYsY0FEUyxHQUNVLENBRFYsMERBRVRBLGNBRlMsZ0JBRW1CUixLQUFLLENBQUNXLFFBRnpCLGdEQUdaWCxLQUFLLENBQUNVLFNBSE0sRUFHTSxDQUFDLENBQUNWLEtBQUssQ0FBQ1UsU0FIZCxjQUFmO0FBS0EsYUFDRTtBQUNFLFFBQUEsU0FBUyxFQUFFLDRCQUFXQSxTQUFYLENBRGI7QUFFRSxRQUFBLEtBQUssRUFBRVYsS0FBSyxDQUFDWSxLQUZmO0FBR0UsUUFBQSxZQUFZLEVBQUUsS0FBS2IsZUFIckI7QUFJRSxRQUFBLFlBQVksRUFBRSxLQUFLUTtBQUpyQixTQU1FO0FBQUssUUFBQSxTQUFTLFlBQUtDLGNBQUw7QUFBZCxTQUE4Q1IsS0FBSyxDQUFDYSxRQUFwRCxDQU5GLEVBT0diLEtBQUssQ0FBQ1csUUFBTixHQUNDO0FBQUcsUUFBQSxRQUFRLEVBQUMsR0FBWjtBQUFnQixRQUFBLE9BQU8sRUFBRSxLQUFLTixLQUE5QjtBQUFxQyxRQUFBLFNBQVMsWUFBS0csY0FBTDtBQUE5QyxTQUNHUixLQUFLLENBQUNjLFNBQU4sSUFBbUI7QUFBTSxRQUFBLFNBQVMsWUFBS04sY0FBTDtBQUFmLFFBRHRCLENBREQsR0FJRyxJQVhOLENBREY7QUFlRDs7O0VBcEVpQ08sZ0I7OztpQ0FBZmpCLE0sZUFDQTtBQUNqQkksRUFBQUEsUUFBUSxFQUFFYyxzQkFBVUMsTUFESDtBQUVqQmhCLEVBQUFBLE9BQU8sRUFBRWUsc0JBQVVFLElBRkY7QUFHakJMLEVBQUFBLFFBQVEsRUFBRUcsc0JBQVVHLEdBSEg7QUFJakJMLEVBQUFBLFNBQVMsRUFBRUUsc0JBQVVJO0FBSkosQztpQ0FEQXRCLE0sa0JBUUc7QUFDcEJ1QixFQUFBQSxLQURvQixtQkFDWixDQUFFLENBRFU7QUFFcEJwQixFQUFBQSxPQUZvQixxQkFFVixDQUFFLENBRlE7QUFHcEJDLEVBQUFBLFFBQVEsRUFBRSxHQUhVO0FBSXBCVSxFQUFBQSxLQUFLLEVBQUU7QUFDTFUsSUFBQUEsS0FBSyxFQUFFO0FBREY7QUFKYSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90aWNlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBkdXJhdGlvbjogUHJvcFR5cGVzLm51bWJlcixcbiAgICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueSxcbiAgICBjbG9zZUljb246IFByb3BUeXBlcy5ub2RlLFxuICB9O1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgb25FbmQoKSB7fSxcbiAgICBvbkNsb3NlKCkge30sXG4gICAgZHVyYXRpb246IDEuNSxcbiAgICBzdHlsZToge1xuICAgICAgcmlnaHQ6ICc1MCUnLFxuICAgIH0sXG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zdGFydENsb3NlVGltZXIoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuY2xlYXJDbG9zZVRpbWVyKCk7XG4gIH1cblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmNsZWFyQ2xvc2VUaW1lcigpO1xuICAgIHRoaXMucHJvcHMub25DbG9zZSgpO1xuICB9O1xuXG4gIHN0YXJ0Q2xvc2VUaW1lciA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5kdXJhdGlvbikge1xuICAgICAgdGhpcy5jbG9zZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0sIHRoaXMucHJvcHMuZHVyYXRpb24gKiAxMDAwKTtcbiAgICB9XG4gIH07XG5cbiAgY2xlYXJDbG9zZVRpbWVyID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmNsb3NlVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsb3NlVGltZXIpO1xuICAgICAgdGhpcy5jbG9zZVRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBjb21wb25lbnRDbGFzcyA9IGAke3Byb3BzLnByZWZpeENsc30tbm90aWNlYDtcbiAgICBjb25zdCBjbGFzc05hbWUgPSB7XG4gICAgICBbYCR7Y29tcG9uZW50Q2xhc3N9YF06IDEsXG4gICAgICBbYCR7Y29tcG9uZW50Q2xhc3N9LWNsb3NhYmxlYF06IHByb3BzLmNsb3NhYmxlLFxuICAgICAgW3Byb3BzLmNsYXNzTmFtZV06ICEhcHJvcHMuY2xhc3NOYW1lLFxuICAgIH07XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzTmFtZSl9XG4gICAgICAgIHN0eWxlPXtwcm9wcy5zdHlsZX1cbiAgICAgICAgb25Nb3VzZUVudGVyPXt0aGlzLmNsZWFyQ2xvc2VUaW1lcn1cbiAgICAgICAgb25Nb3VzZUxlYXZlPXt0aGlzLnN0YXJ0Q2xvc2VUaW1lcn1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2NvbXBvbmVudENsYXNzfS1jb250ZW50YH0+e3Byb3BzLmNoaWxkcmVufTwvZGl2PlxuICAgICAgICB7cHJvcHMuY2xvc2FibGUgPyAoXG4gICAgICAgICAgPGEgdGFiSW5kZXg9XCIwXCIgb25DbGljaz17dGhpcy5jbG9zZX0gY2xhc3NOYW1lPXtgJHtjb21wb25lbnRDbGFzc30tY2xvc2VgfT5cbiAgICAgICAgICAgIHtwcm9wcy5jbG9zZUljb24gfHwgPHNwYW4gY2xhc3NOYW1lPXtgJHtjb21wb25lbnRDbGFzc30tY2xvc2UteGB9Pjwvc3Bhbj59XG4gICAgICAgICAgPC9hPlxuICAgICAgICApIDogbnVsbH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiJdfQ==