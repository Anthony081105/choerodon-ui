faeb714e2cc742359981f84dd7b00ce8
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf3 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _miniStore = require("mini-store");

var FOOTER_ROW_KEY = "rc_table_footer_key_".concat(Date.now());

function getColumnFooter(col) {
  if (typeof col.footer === 'function') return col.footer;
  return function () {
    return col.footer;
  };
}

var TableFooterRow =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(TableFooterRow, _Component);

  function TableFooterRow() {
    var _getPrototypeOf2;

    var _this;

    (0, _classCallCheck2["default"])(this, TableFooterRow);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = (0, _possibleConstructorReturn2["default"])(this, (_getPrototypeOf2 = (0, _getPrototypeOf3["default"])(TableFooterRow)).call.apply(_getPrototypeOf2, [this].concat(args)));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleMouseEnter", function () {
      var onHover = _this.props.onHover;

      if (onHover) {
        onHover(true, FOOTER_ROW_KEY);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleMouseLeave", function () {
      var onHover = _this.props.onHover;

      if (onHover) {
        onHover(false, FOOTER_ROW_KEY);
      }
    });
    return _this;
  }

  (0, _createClass2["default"])(TableFooterRow, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          columns = _this$props.columns,
          data = _this$props.data,
          components = _this$props.components,
          prefixCls = _this$props.prefixCls,
          hovered = _this$props.hovered,
          height = _this$props.height;
      var FooterRow = components.footer.row;
      var FooterCell = components.footer.cell;
      var className = "".concat(prefixCls, "-footer-row");

      if (hovered) {
        className += " ".concat(prefixCls, "-row-hover");
      }

      return _react["default"].createElement(FooterRow, {
        onMouseEnter: this.handleMouseEnter,
        onMouseLeave: this.handleMouseLeave,
        className: className,
        style: {
          height: height
        }
      }, columns.map(function (col) {
        return _react["default"].createElement(FooterCell, {
          key: col.key || col.dataIndex
        }, col.footer ? getColumnFooter(col)(data) : null);
      }));
    }
  }]);
  return TableFooterRow;
}(_react.Component);

(0, _defineProperty2["default"])(TableFooterRow, "propTypes", {
  columns: _propTypes["default"].array,
  data: _propTypes["default"].array,
  components: _propTypes["default"].any,
  prefixCls: _propTypes["default"].string,
  onHover: _propTypes["default"].func,
  hovered: _propTypes["default"].bool,
  height: _propTypes["default"].oneOfType([_propTypes["default"].string, _propTypes["default"].number])
});

function getRowHeight(state, props) {
  var fixedColumnsFootRowsHeight = state.fixedColumnsFootRowsHeight;
  var fixed = props.fixed;
  return fixed ? fixedColumnsFootRowsHeight[0] : null;
}

var _default = (0, _miniStore.connect)(function (state, props) {
  return {
    hovered: state.currentHoverKey === FOOTER_ROW_KEY,
    height: getRowHeight(state, props)
  };
})(TableFooterRow);

exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRhYmxlRm9vdGVyUm93LmpzeCJdLCJuYW1lcyI6WyJGT09URVJfUk9XX0tFWSIsIkRhdGUiLCJub3ciLCJnZXRDb2x1bW5Gb290ZXIiLCJjb2wiLCJmb290ZXIiLCJUYWJsZUZvb3RlclJvdyIsIm9uSG92ZXIiLCJwcm9wcyIsImNvbHVtbnMiLCJkYXRhIiwiY29tcG9uZW50cyIsInByZWZpeENscyIsImhvdmVyZWQiLCJoZWlnaHQiLCJGb290ZXJSb3ciLCJyb3ciLCJGb290ZXJDZWxsIiwiY2VsbCIsImNsYXNzTmFtZSIsImhhbmRsZU1vdXNlRW50ZXIiLCJoYW5kbGVNb3VzZUxlYXZlIiwibWFwIiwia2V5IiwiZGF0YUluZGV4IiwiQ29tcG9uZW50IiwiUHJvcFR5cGVzIiwiYXJyYXkiLCJhbnkiLCJzdHJpbmciLCJmdW5jIiwiYm9vbCIsIm9uZU9mVHlwZSIsIm51bWJlciIsImdldFJvd0hlaWdodCIsInN0YXRlIiwiZml4ZWRDb2x1bW5zRm9vdFJvd3NIZWlnaHQiLCJmaXhlZCIsImN1cnJlbnRIb3ZlcktleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBLElBQU1BLGNBQWMsaUNBQTBCQyxJQUFJLENBQUNDLEdBQUwsRUFBMUIsQ0FBcEI7O0FBRUEsU0FBU0MsZUFBVCxDQUF5QkMsR0FBekIsRUFBOEI7QUFDNUIsTUFBSSxPQUFPQSxHQUFHLENBQUNDLE1BQVgsS0FBc0IsVUFBMUIsRUFBc0MsT0FBT0QsR0FBRyxDQUFDQyxNQUFYO0FBQ3RDLFNBQU87QUFBQSxXQUFNRCxHQUFHLENBQUNDLE1BQVY7QUFBQSxHQUFQO0FBQ0Q7O0lBRUtDLGM7Ozs7Ozs7Ozs7Ozs7Ozs7O3lHQWNlLFlBQU07QUFBQSxVQUNmQyxPQURlLEdBQ0gsTUFBS0MsS0FERixDQUNmRCxPQURlOztBQUV2QixVQUFJQSxPQUFKLEVBQWE7QUFDWEEsUUFBQUEsT0FBTyxDQUFDLElBQUQsRUFBT1AsY0FBUCxDQUFQO0FBQ0Q7QUFDRixLO3lHQUVrQixZQUFNO0FBQUEsVUFDZk8sT0FEZSxHQUNILE1BQUtDLEtBREYsQ0FDZkQsT0FEZTs7QUFFdkIsVUFBSUEsT0FBSixFQUFhO0FBQ1hBLFFBQUFBLE9BQU8sQ0FBQyxLQUFELEVBQVFQLGNBQVIsQ0FBUDtBQUNEO0FBQ0YsSzs7Ozs7OzZCQUVRO0FBQUEsd0JBQzJELEtBQUtRLEtBRGhFO0FBQUEsVUFDQ0MsT0FERCxlQUNDQSxPQUREO0FBQUEsVUFDVUMsSUFEVixlQUNVQSxJQURWO0FBQUEsVUFDZ0JDLFVBRGhCLGVBQ2dCQSxVQURoQjtBQUFBLFVBQzRCQyxTQUQ1QixlQUM0QkEsU0FENUI7QUFBQSxVQUN1Q0MsT0FEdkMsZUFDdUNBLE9BRHZDO0FBQUEsVUFDZ0RDLE1BRGhELGVBQ2dEQSxNQURoRDtBQUVQLFVBQU1DLFNBQVMsR0FBR0osVUFBVSxDQUFDTixNQUFYLENBQWtCVyxHQUFwQztBQUNBLFVBQU1DLFVBQVUsR0FBR04sVUFBVSxDQUFDTixNQUFYLENBQWtCYSxJQUFyQztBQUVBLFVBQUlDLFNBQVMsYUFBTVAsU0FBTixnQkFBYjs7QUFDQSxVQUFJQyxPQUFKLEVBQWE7QUFDWE0sUUFBQUEsU0FBUyxlQUFRUCxTQUFSLGVBQVQ7QUFDRDs7QUFFRCxhQUNFLGdDQUFDLFNBQUQ7QUFDRSxRQUFBLFlBQVksRUFBRSxLQUFLUSxnQkFEckI7QUFFRSxRQUFBLFlBQVksRUFBRSxLQUFLQyxnQkFGckI7QUFHRSxRQUFBLFNBQVMsRUFBRUYsU0FIYjtBQUlFLFFBQUEsS0FBSyxFQUFFO0FBQUVMLFVBQUFBLE1BQU0sRUFBTkE7QUFBRjtBQUpULFNBTUdMLE9BQU8sQ0FBQ2EsR0FBUixDQUFZLFVBQUFsQixHQUFHO0FBQUEsZUFDZCxnQ0FBQyxVQUFEO0FBQ0UsVUFBQSxHQUFHLEVBQUVBLEdBQUcsQ0FBQ21CLEdBQUosSUFBV25CLEdBQUcsQ0FBQ29CO0FBRHRCLFdBR0dwQixHQUFHLENBQUNDLE1BQUosR0FBYUYsZUFBZSxDQUFDQyxHQUFELENBQWYsQ0FBcUJNLElBQXJCLENBQWIsR0FBMEMsSUFIN0MsQ0FEYztBQUFBLE9BQWYsQ0FOSCxDQURGO0FBZ0JEOzs7RUF0RDBCZSxnQjs7aUNBQXZCbkIsYyxlQUNlO0FBQ2pCRyxFQUFBQSxPQUFPLEVBQUVpQixzQkFBVUMsS0FERjtBQUVqQmpCLEVBQUFBLElBQUksRUFBRWdCLHNCQUFVQyxLQUZDO0FBR2pCaEIsRUFBQUEsVUFBVSxFQUFFZSxzQkFBVUUsR0FITDtBQUlqQmhCLEVBQUFBLFNBQVMsRUFBRWMsc0JBQVVHLE1BSko7QUFLakJ0QixFQUFBQSxPQUFPLEVBQUVtQixzQkFBVUksSUFMRjtBQU1qQmpCLEVBQUFBLE9BQU8sRUFBRWEsc0JBQVVLLElBTkY7QUFPakJqQixFQUFBQSxNQUFNLEVBQUVZLHNCQUFVTSxTQUFWLENBQW9CLENBQzFCTixzQkFBVUcsTUFEZ0IsRUFFMUJILHNCQUFVTyxNQUZnQixDQUFwQjtBQVBTLEM7O0FBd0RyQixTQUFTQyxZQUFULENBQXNCQyxLQUF0QixFQUE2QjNCLEtBQTdCLEVBQW9DO0FBQUEsTUFDMUI0QiwwQkFEMEIsR0FDS0QsS0FETCxDQUMxQkMsMEJBRDBCO0FBQUEsTUFFMUJDLEtBRjBCLEdBRWhCN0IsS0FGZ0IsQ0FFMUI2QixLQUYwQjtBQUdsQyxTQUFPQSxLQUFLLEdBQUdELDBCQUEwQixDQUFDLENBQUQsQ0FBN0IsR0FBbUMsSUFBL0M7QUFDRDs7ZUFFYyx3QkFBUSxVQUFDRCxLQUFELEVBQVEzQixLQUFSO0FBQUEsU0FBbUI7QUFDeENLLElBQUFBLE9BQU8sRUFBRXNCLEtBQUssQ0FBQ0csZUFBTixLQUEwQnRDLGNBREs7QUFFeENjLElBQUFBLE1BQU0sRUFBRW9CLFlBQVksQ0FBQ0MsS0FBRCxFQUFRM0IsS0FBUjtBQUZvQixHQUFuQjtBQUFBLENBQVIsRUFHWEYsY0FIVyxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAnbWluaS1zdG9yZSc7XG5cbmNvbnN0IEZPT1RFUl9ST1dfS0VZID0gYHJjX3RhYmxlX2Zvb3Rlcl9rZXlfJHtEYXRlLm5vdygpfWA7XG5cbmZ1bmN0aW9uIGdldENvbHVtbkZvb3Rlcihjb2wpIHtcbiAgaWYgKHR5cGVvZiBjb2wuZm9vdGVyID09PSAnZnVuY3Rpb24nKSByZXR1cm4gY29sLmZvb3RlcjtcbiAgcmV0dXJuICgpID0+IGNvbC5mb290ZXI7XG59XG5cbmNsYXNzIFRhYmxlRm9vdGVyUm93IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBjb2x1bW5zOiBQcm9wVHlwZXMuYXJyYXksXG4gICAgZGF0YTogUHJvcFR5cGVzLmFycmF5LFxuICAgIGNvbXBvbmVudHM6IFByb3BUeXBlcy5hbnksXG4gICAgcHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uSG92ZXI6IFByb3BUeXBlcy5mdW5jLFxuICAgIGhvdmVyZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGhlaWdodDogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgUHJvcFR5cGVzLm51bWJlcixcbiAgICBdKSxcbiAgfTtcblxuICBoYW5kbGVNb3VzZUVudGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgb25Ib3ZlciB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAob25Ib3Zlcikge1xuICAgICAgb25Ib3Zlcih0cnVlLCBGT09URVJfUk9XX0tFWSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZU1vdXNlTGVhdmUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBvbkhvdmVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChvbkhvdmVyKSB7XG4gICAgICBvbkhvdmVyKGZhbHNlLCBGT09URVJfUk9XX0tFWSk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNvbHVtbnMsIGRhdGEsIGNvbXBvbmVudHMsIHByZWZpeENscywgaG92ZXJlZCwgaGVpZ2h0IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IEZvb3RlclJvdyA9IGNvbXBvbmVudHMuZm9vdGVyLnJvdztcbiAgICBjb25zdCBGb290ZXJDZWxsID0gY29tcG9uZW50cy5mb290ZXIuY2VsbDtcblxuICAgIGxldCBjbGFzc05hbWUgPSBgJHtwcmVmaXhDbHN9LWZvb3Rlci1yb3dgO1xuICAgIGlmIChob3ZlcmVkKSB7XG4gICAgICBjbGFzc05hbWUgKz0gYCAke3ByZWZpeENsc30tcm93LWhvdmVyYDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEZvb3RlclJvd1xuICAgICAgICBvbk1vdXNlRW50ZXI9e3RoaXMuaGFuZGxlTW91c2VFbnRlcn1cbiAgICAgICAgb25Nb3VzZUxlYXZlPXt0aGlzLmhhbmRsZU1vdXNlTGVhdmV9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICBzdHlsZT17eyBoZWlnaHQgfX1cbiAgICAgID5cbiAgICAgICAge2NvbHVtbnMubWFwKGNvbCA9PlxuICAgICAgICAgIDxGb290ZXJDZWxsXG4gICAgICAgICAgICBrZXk9e2NvbC5rZXkgfHwgY29sLmRhdGFJbmRleH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Y29sLmZvb3RlciA/IGdldENvbHVtbkZvb3Rlcihjb2wpKGRhdGEpIDogbnVsbH1cbiAgICAgICAgICA8L0Zvb3RlckNlbGw+LFxuICAgICAgICApfVxuICAgICAgPC9Gb290ZXJSb3c+XG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSb3dIZWlnaHQoc3RhdGUsIHByb3BzKSB7XG4gIGNvbnN0IHsgZml4ZWRDb2x1bW5zRm9vdFJvd3NIZWlnaHQgfSA9IHN0YXRlO1xuICBjb25zdCB7IGZpeGVkIH0gPSBwcm9wcztcbiAgcmV0dXJuIGZpeGVkID8gZml4ZWRDb2x1bW5zRm9vdFJvd3NIZWlnaHRbMF0gOiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KChzdGF0ZSwgcHJvcHMpID0+ICh7XG4gIGhvdmVyZWQ6IHN0YXRlLmN1cnJlbnRIb3ZlcktleSA9PT0gRk9PVEVSX1JPV19LRVksXG4gIGhlaWdodDogZ2V0Um93SGVpZ2h0KHN0YXRlLCBwcm9wcyksXG59KSkoVGFibGVGb290ZXJSb3cpO1xuIl19