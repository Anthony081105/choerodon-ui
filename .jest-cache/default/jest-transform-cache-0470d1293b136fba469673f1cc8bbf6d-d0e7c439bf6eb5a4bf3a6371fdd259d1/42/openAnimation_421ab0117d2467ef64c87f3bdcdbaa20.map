{"version":3,"sources":["_util/openAnimation.jsx"],"names":["start","node","height","active","raf","requestAnimationFrameId","show","end","done","animation","enter","animate","leave","appear"],"mappings":";;;;;;;;;AAAA,IAAA,aAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;AACA,IAAA,IAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,KAAA,CAAA,CAAA;;AACA,SAAA,OAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAmC;AAC/B,MAAA,MAAA;AACA,MAAA,uBAAA;AACA,SAAO,CAAA,GAAA,aAAA,CAAA,SAAA,CAAA,EAAA,IAAA,EAAA,qBAAA,EAA0C;AAC7CA,IAAAA,KAD6C,EAAA,SAAA,KAAA,GACrC;AACJ,UAAI,CAAJ,IAAA,EAAW;AACPC,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,MAAAA,GAAAA,GAAAA,MAAAA,CAAuBA,IAAI,CAA3BA,YAAAA,EAAAA,IAAAA,CAAAA;AACAA,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,OAAAA,GAAAA,GAAAA;AAFJ,OAAA,MAIK;AACDC,QAAAA,MAAM,GAAGD,IAAI,CAAbC,YAAAA;AACAD,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,MAAAA,GAAAA,KAAAA;AACAA,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,OAAAA,GAAAA,GAAAA;AACH;AAVwC,KAAA;AAY7CE,IAAAA,MAZ6C,EAAA,SAAA,MAAA,GAYpC;AACL,UAAA,uBAAA,EAA6B;AACzBC,QAAAA,IAAAA,CAAAA,SAAAA,CAAAA,CAAAA,MAAAA,CAAAA,uBAAAA;AACH;;AACDC,MAAAA,uBAAuB,GAAG,CAAA,GAAA,IAAA,CAAA,SAAA,CAAA,EAAI,YAAM;AAChCJ,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,MAAAA,GAAAA,GAAAA,MAAAA,CAAuBK,IAAI,GAAA,MAAA,GAA3BL,CAAAA,EAAAA,IAAAA,CAAAA;AACAA,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,OAAAA,GAAqBK,IAAI,GAAA,GAAA,GAAzBL,GAAAA;AAFJI,OAA0B,CAA1BA;AAhByC,KAAA;AAqB7CE,IAAAA,GArB6C,EAAA,SAAA,GAAA,GAqBvC;AACF,UAAA,uBAAA,EAA6B;AACzBH,QAAAA,IAAAA,CAAAA,SAAAA,CAAAA,CAAAA,MAAAA,CAAAA,uBAAAA;AACH;;AACDH,MAAAA,IAAI,CAAJA,KAAAA,CAAAA,MAAAA,GAAAA,EAAAA;AACAA,MAAAA,IAAI,CAAJA,KAAAA,CAAAA,OAAAA,GAAAA,EAAAA;AACAO,MAAAA,IAAI;AACP;AA5B4C,GAA1C,CAAP;AA8BH;;AACD,IAAMC,SAAS,GAAG;AACdC,EAAAA,KADc,EAAA,SAAA,KAAA,CAAA,IAAA,EAAA,IAAA,EACI;AACd,WAAOC,OAAO,CAAA,IAAA,EAAA,IAAA,EAAd,IAAc,CAAd;AAFU,GAAA;AAIdC,EAAAA,KAJc,EAAA,SAAA,KAAA,CAAA,IAAA,EAAA,IAAA,EAII;AACd,WAAOD,OAAO,CAAA,IAAA,EAAA,KAAA,EAAd,IAAc,CAAd;AALU,GAAA;AAOdE,EAAAA,MAPc,EAAA,SAAA,MAAA,CAAA,IAAA,EAAA,IAAA,EAOK;AACf,WAAOF,OAAO,CAAA,IAAA,EAAA,IAAA,EAAd,IAAc,CAAd;AACH;AATa,CAAlB;eAWeF,S","sourcesContent":["import cssAnimation from 'css-animation';\nimport raf from 'raf';\nfunction animate(node, show, done) {\n    let height;\n    let requestAnimationFrameId;\n    return cssAnimation(node, 'c7n-motion-collapse', {\n        start() {\n            if (!show) {\n                node.style.height = `${node.offsetHeight}px`;\n                node.style.opacity = '1';\n            }\n            else {\n                height = node.offsetHeight;\n                node.style.height = '0px';\n                node.style.opacity = '0';\n            }\n        },\n        active() {\n            if (requestAnimationFrameId) {\n                raf.cancel(requestAnimationFrameId);\n            }\n            requestAnimationFrameId = raf(() => {\n                node.style.height = `${show ? height : 0}px`;\n                node.style.opacity = show ? '1' : '0';\n            });\n        },\n        end() {\n            if (requestAnimationFrameId) {\n                raf.cancel(requestAnimationFrameId);\n            }\n            node.style.height = '';\n            node.style.opacity = '';\n            done();\n        },\n    });\n}\nconst animation = {\n    enter(node, done) {\n        return animate(node, true, done);\n    },\n    leave(node, done) {\n        return animate(node, false, done);\n    },\n    appear(node, done) {\n        return animate(node, true, done);\n    },\n};\nexport default animation;\n"]}