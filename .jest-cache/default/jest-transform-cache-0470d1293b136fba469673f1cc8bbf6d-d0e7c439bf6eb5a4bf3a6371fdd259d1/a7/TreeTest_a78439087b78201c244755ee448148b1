a82f858e7aef37ab1f547165d85c7879
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf3 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require(".."));

var _dataSet = _interopRequireDefault(require("../../data-set"));

var _numberField = _interopRequireDefault(require("../../number-field"));

function nodeRenderer(_ref) {
  var record = _ref.record;
  return record.get('text');
}

var dataSet = [{
  expand: false,
  functionCode: 'HR',
  icon: 'fa fa-cubes',
  id: 2,
  ischecked: null,
  score: 10,
  shortcutId: null,
  text: '组织架构',
  url: null,
  symbol: '0'
}, {
  expand: false,
  functionCode: 'EMPLOYEE_REACT',
  icon: 'record_test',
  id: 7,
  ischecked: true,
  score: 10,
  shortcutId: null,
  text: '员工管理(react)',
  url: 'hap-core/hr/employee',
  symbol: '1',
  parentId: 2
}, {
  expand: false,
  functionCode: 'HR_UNIT',
  icon: 'fa fa-cube',
  id: 73,
  ischecked: true,
  score: 10,
  shortcutId: null,
  text: '组织管理',
  url: 'hr/org_unit.html',
  symbol: '0',
  parentId: 2
}, {
  expand: false,
  functionCode: 'COMPANY_REACT',
  icon: 'mail_set',
  id: 12,
  ischecked: true,
  score: 10,
  shortcutId: null,
  text: '公司管理(react)',
  url: 'hap-core/hr/company',
  symbol: '1',
  parentId: 2
}];

var TreeTest =
/*#__PURE__*/
function (_React$Component) {
  (0, _inherits2["default"])(TreeTest, _React$Component);

  function TreeTest() {
    var _getPrototypeOf2;

    var _this;

    (0, _classCallCheck2["default"])(this, TreeTest);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = (0, _possibleConstructorReturn2["default"])(this, (_getPrototypeOf2 = (0, _getPrototypeOf3["default"])(TreeTest)).call.apply(_getPrototypeOf2, [this].concat(args)));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "state", {
      count: 0
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "ds", new _dataSet["default"]({
      primaryKey: 'id',
      data: dataSet,
      parentField: 'parentId',
      expandField: 'expand',
      idField: 'id',
      fields: [{
        name: 'id',
        type: 'number'
      }, {
        name: 'expand',
        type: 'boolean'
      }, {
        name: 'parentId',
        type: 'number'
      }],
      events: {
        select: function select(_ref2) {
          var dataSetValue = _ref2.dataSetValue;

          _this.setCount(dataSetValue);
        },
        unSelect: function unSelect(_ref3) {
          var dataSetValue = _ref3.dataSetValue;

          _this.setCount(dataSetValue);
        }
      }
    }));
    return _this;
  }

  (0, _createClass2["default"])(TreeTest, [{
    key: "setCount",
    value: function setCount(dataSetValue) {
      this.setState({
        count: dataSetValue.selected.length
      });
    }
  }, {
    key: "render",
    value: function render() {
      var count = this.state.count;
      return _react["default"].createElement(_react["default"].Fragment, null, _react["default"].createElement(_numberField["default"], {
        value: count
      }), _react["default"].createElement(_["default"], {
        dataSet: this.ds,
        checkable: true,
        renderer: nodeRenderer
      }));
    }
  }]);
  return TreeTest;
}(_react["default"].Component);

exports["default"] = TreeTest;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRyZWVUZXN0LmpzIl0sIm5hbWVzIjpbIm5vZGVSZW5kZXJlciIsInJlY29yZCIsImdldCIsImRhdGFTZXQiLCJleHBhbmQiLCJmdW5jdGlvbkNvZGUiLCJpY29uIiwiaWQiLCJpc2NoZWNrZWQiLCJzY29yZSIsInNob3J0Y3V0SWQiLCJ0ZXh0IiwidXJsIiwic3ltYm9sIiwicGFyZW50SWQiLCJUcmVlVGVzdCIsImNvdW50IiwiRGF0YVNldCIsInByaW1hcnlLZXkiLCJkYXRhIiwicGFyZW50RmllbGQiLCJleHBhbmRGaWVsZCIsImlkRmllbGQiLCJmaWVsZHMiLCJuYW1lIiwidHlwZSIsImV2ZW50cyIsInNlbGVjdCIsImRhdGFTZXRWYWx1ZSIsInNldENvdW50IiwidW5TZWxlY3QiLCJzZXRTdGF0ZSIsInNlbGVjdGVkIiwibGVuZ3RoIiwic3RhdGUiLCJkcyIsIlJlYWN0IiwiQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLFNBQVNBLFlBQVQsT0FBa0M7QUFBQSxNQUFWQyxNQUFVLFFBQVZBLE1BQVU7QUFDaEMsU0FBT0EsTUFBTSxDQUFDQyxHQUFQLENBQVcsTUFBWCxDQUFQO0FBQ0Q7O0FBQ0QsSUFBTUMsT0FBTyxHQUFHLENBQ2Q7QUFDRUMsRUFBQUEsTUFBTSxFQUFFLEtBRFY7QUFFRUMsRUFBQUEsWUFBWSxFQUFFLElBRmhCO0FBR0VDLEVBQUFBLElBQUksRUFBRSxhQUhSO0FBSUVDLEVBQUFBLEVBQUUsRUFBRSxDQUpOO0FBS0VDLEVBQUFBLFNBQVMsRUFBRSxJQUxiO0FBTUVDLEVBQUFBLEtBQUssRUFBRSxFQU5UO0FBT0VDLEVBQUFBLFVBQVUsRUFBRSxJQVBkO0FBUUVDLEVBQUFBLElBQUksRUFBRSxNQVJSO0FBU0VDLEVBQUFBLEdBQUcsRUFBRSxJQVRQO0FBVUVDLEVBQUFBLE1BQU0sRUFBRTtBQVZWLENBRGMsRUFhZDtBQUNFVCxFQUFBQSxNQUFN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RUFBRUE7QUFBcEIsUUFERixFQUVFLGdDQUFDLFlBQUQ7QUFBTSxRQUFBLE9BQU8sRUFBRSxLQUFLbUIsRUFBcEI7QUFBd0IsUUFBQSxTQUFTLE1BQWpDO0FBQWtDLFFBQUEsUUFBUSxFQUFFbkM7QUFBNUMsUUFGRixDQURGO0FBTUQ7OztFQXRDbUNvQyxrQkFBTUMsUyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVHJlZSBmcm9tICcuLic7XG5pbXBvcnQgRGF0YVNldCBmcm9tICcuLi8uLi9kYXRhLXNldCc7XG5pbXBvcnQgTnVtYmVyRmllbGQgZnJvbSAnLi4vLi4vbnVtYmVyLWZpZWxkJztcblxuZnVuY3Rpb24gbm9kZVJlbmRlcmVyKHsgcmVjb3JkIH0pIHtcbiAgcmV0dXJuIHJlY29yZC5nZXQoJ3RleHQnKTtcbn1cbmNvbnN0IGRhdGFTZXQgPSBbXG4gIHtcbiAgICBleHBhbmQ6IGZhbHNlLFxuICAgIGZ1bmN0aW9uQ29kZTogJ0hSJyxcbiAgICBpY29uOiAnZmEgZmEtY3ViZXMnLFxuICAgIGlkOiAyLFxuICAgIGlzY2hlY2tlZDogbnVsbCxcbiAgICBzY29yZTogMTAsXG4gICAgc2hvcnRjdXRJZDogbnVsbCxcbiAgICB0ZXh0OiAn57uE57uH5p625p6EJyxcbiAgICB1cmw6IG51bGwsXG4gICAgc3ltYm9sOiAnMCcsXG4gIH0sXG4gIHtcbiAgICBleHBhbmQ6IGZhbHNlLFxuICAgIGZ1bmN0aW9uQ29kZTogJ0VNUExPWUVFX1JFQUNUJyxcbiAgICBpY29uOiAncmVjb3JkX3Rlc3QnLFxuICAgIGlkOiA3LFxuICAgIGlzY2hlY2tlZDogdHJ1ZSxcbiAgICBzY29yZTogMTAsXG4gICAgc2hvcnRjdXRJZDogbnVsbCxcbiAgICB0ZXh0OiAn5ZGY5bel566h55CGKHJlYWN0KScsXG4gICAgdXJsOiAnaGFwLWNvcmUvaHIvZW1wbG95ZWUnLFxuICAgIHN5bWJvbDogJzEnLFxuICAgIHBhcmVudElkOiAyLFxuICB9LFxuICB7XG4gICAgZXhwYW5kOiBmYWxzZSxcbiAgICBmdW5jdGlvbkNvZGU6ICdIUl9VTklUJyxcbiAgICBpY29uOiAnZmEgZmEtY3ViZScsXG4gICAgaWQ6IDczLFxuICAgIGlzY2hlY2tlZDogdHJ1ZSxcbiAgICBzY29yZTogMTAsXG4gICAgc2hvcnRjdXRJZDogbnVsbCxcbiAgICB0ZXh0OiAn57uE57uH566h55CGJyxcbiAgICB1cmw6ICdoci9vcmdfdW5pdC5odG1sJyxcbiAgICBzeW1ib2w6ICcwJyxcbiAgICBwYXJlbnRJZDogMixcbiAgfSxcbiAge1xuICAgIGV4cGFuZDogZmFsc2UsXG4gICAgZnVuY3Rpb25Db2RlOiAnQ09NUEFOWV9SRUFDVCcsXG4gICAgaWNvbjogJ21haWxfc2V0JyxcbiAgICBpZDogMTIsXG4gICAgaXNjaGVja2VkOiB0cnVlLFxuICAgIHNjb3JlOiAxMCxcbiAgICBzaG9ydGN1dElkOiBudWxsLFxuICAgIHRleHQ6ICflhazlj7jnrqHnkIYocmVhY3QpJyxcbiAgICB1cmw6ICdoYXAtY29yZS9oci9jb21wYW55JyxcbiAgICBzeW1ib2w6ICcxJyxcbiAgICBwYXJlbnRJZDogMixcbiAgfSxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyZWVUZXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGUgPSB7XG4gICAgY291bnQ6IDAsXG4gIH07XG5cbiAgZHMgPSBuZXcgRGF0YVNldCh7XG4gICAgcHJpbWFyeUtleTogJ2lkJyxcbiAgICBkYXRhOiBkYXRhU2V0LFxuICAgIHBhcmVudEZpZWxkOiAncGFyZW50SWQnLFxuICAgIGV4cGFuZEZpZWxkOiAnZXhwYW5kJyxcbiAgICBpZEZpZWxkOiAnaWQnLFxuICAgIGZpZWxkczogW1xuICAgICAgeyBuYW1lOiAnaWQnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgeyBuYW1lOiAnZXhwYW5kJywgdHlwZTogJ2Jvb2xlYW4nIH0sXG4gICAgICB7IG5hbWU6ICdwYXJlbnRJZCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgXSxcbiAgICBldmVudHM6IHtcbiAgICAgIHNlbGVjdDogKHsgZGF0YVNldFZhbHVlIH0pID0+IHtcbiAgICAgICAgdGhpcy5zZXRDb3VudChkYXRhU2V0VmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVuU2VsZWN0OiAoeyBkYXRhU2V0VmFsdWUgfSkgPT4ge1xuICAgICAgICB0aGlzLnNldENvdW50KGRhdGFTZXRWYWx1ZSk7XG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuXG4gIHNldENvdW50KGRhdGFTZXRWYWx1ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBjb3VudDogZGF0YVNldFZhbHVlLnNlbGVjdGVkLmxlbmd0aCB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNvdW50IH0gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8TnVtYmVyRmllbGQgdmFsdWU9e2NvdW50fSAvPlxuICAgICAgICA8VHJlZSBkYXRhU2V0PXt0aGlzLmRzfSBjaGVja2FibGUgcmVuZGVyZXI9e25vZGVSZW5kZXJlcn0gLz5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbn1cbiJdfQ==